"use strict";(self["webpackChunksiforeca"]=self["webpackChunksiforeca"]||[]).push([[289],{79754:function(t,e,i){i(68309);var n=i(9164),a=i(50337),o=i(15526),s=i(69598),r=i(31925),l=i(43908),u=i(56927),h="dxSwipeable",d="dx-swipeable",c={onStart:n.BL,onUpdated:n.aq,onEnd:n.ut,onCancel:"dxswipecancel"},p=o.Z.inherit({_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{elastic:!0,immediate:!1,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass(d),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var t=this.NAME;this._createEventData(),(0,s.S6)(c,function(e,i){var n=this._createActionByOption(e,{context:this});i=(0,r.V4)(i,t),a.Z.on(this.$element(),i,this._eventData,(function(t){return n({event:t})}))}.bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate")}},_detachEventHandlers:function(){a.Z.off(this.$element(),"."+h)},_optionChanged:function(t){switch(t.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(t)}},_useTemplates:function(){return!1}});(0,u.u2)(p,h),e["Z"]=p},821:function(t,e,i){i.d(e,{I:function(){return s}});var n=i(76133),a=i(92751),o=i(97514),s=function(){function t(e){(0,n.Z)(this,t),this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=null!==e&&void 0!==e?e:o.Et}return(0,a.Z)(t,[{key:"isHorizontal",get:function(){return this.direction===o.Xv||this.direction===o.b$}},{key:"isVertical",get:function(){return this.direction===o.Et||this.direction===o.b$}},{key:"isBoth",get:function(){return this.direction===o.b$}}]),t}()},25361:function(t,e,i){var n=i(76133),a=i(92751),o=i(50460),s=i(87349),r=i(99418),l=i(6812),u=(i(68309),i(74916),i(4723),i(69826),i(41539),i(40555)),h=i(50337),d=i(61025),c=i(43908),p=i(38218),_=i(42632),m=i(22195),f=i(29532),v=i(80928),g=i(69598),y=i(8767),C=i(60492),b=i(94212),x="dx-box",I=".dx-box",D="dx-box-item",w="dxBoxItemData",S={row:"minWidth",col:"minHeight"},B={row:"maxWidth",col:"maxHeight"},T=1,V={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},k={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},Z={row:"row",col:"column"},E=function(t,e,i){if(i=(0,v.bh)(e,i),t.style[(0,v.Hj)(e)]=i,!(0,_.Ym)()){if(""===i||!(0,f.$K)(i))return;var n=(0,m.H0)(e),a=n+": "+i+";";t.attributes.style?t.attributes.style.value.indexOf(a)<0&&(t.attributes.style.value+=" "+a):t.setAttribute("style",a)}},O="dxBox",M="dxupdate."+O,A="dx-box-fallback-item",F={row:"nowrap",col:"normal"},$={row:{name:"width",getter:y.dz,setter:y.cl},col:{name:"height",getter:y.Cr,setter:y.QQ}},R={row:$.col,col:$.row},P={row:"marginLeft",col:"marginTop"},L={row:"marginRight",col:"marginBottom"},H={row:"marginTop",col:"marginLeft"},N={row:"marginBottom",col:"marginRight"},W={marginLeft:"marginRight",marginRight:"marginLeft"},z=function(t){(0,r.Z)(i,t);var e=(0,l.Z)(i);function i(){return(0,n.Z)(this,i),e.apply(this,arguments)}return(0,a.Z)(i,[{key:"_renderVisible",value:function(t,e){(0,o.Z)((0,s.Z)(i.prototype),"_renderVisible",this).call(this,t),(0,f.$K)(e)&&this._options.fireItemStateChangedAction({name:"visible",state:t,oldState:e})}}]),i}(C.Z),K=function(){function t(e,i){(0,n.Z)(this,t),this._$element=e,this._option=i,this.initSize=p.ZT,this.update=p.ZT}return(0,a.Z)(t,[{key:"renderBox",value:function(){this._$element.css({display:(0,v.gC)("flexDirection")+"flex"}),E(this._$element.get(0),"flexDirection",Z[this._option("direction")])}},{key:"renderAlign",value:function(){this._$element.css({justifyContent:this._normalizedAlign()})}},{key:"_normalizedAlign",value:function(){var t=this._option("align");return t in V?V[t]:t}},{key:"renderCrossAlign",value:function(){this._$element.css({alignItems:this._normalizedCrossAlign()})}},{key:"_normalizedCrossAlign",value:function(){var t=this._option("crossAlign");return t in k?k[t]:t}},{key:"renderItems",value:function(t){var e=(0,v.gC)("flexDirection"),i=this._option("direction");(0,g.S6)(t,(function(){var t=(0,u.Z)(this),n=t.data(w);t.css({display:e+"flex"}).css(B[i],n.maxSize||"none").css(S[i],n.minSize||"0"),E(t.get(0),"flexBasis",n.baseSize||0),E(t.get(0),"flexGrow",n.ratio),E(t.get(0),"flexShrink",(0,f.$K)(n.shrink)?n.shrink:T),t.children().each((function(t,e){(0,u.Z)(e).css({width:"auto",height:"auto",display:(0,v.gC)("flexDirection")+"flex",flexBasis:0}),E(e,"flexGrow",1),E(e,"flexDirection",(0,u.Z)(e)[0].style.flexDirection||"column")}))}))}}]),t}(),G=function(){function t(e,i){(0,n.Z)(this,t),this._$element=e,this._option=i}return(0,a.Z)(t,[{key:"renderBox",value:function(){this._$element.css({fontSize:0,whiteSpace:F[this._option("direction")],verticalAlign:"top"}),h.Z.off(this._$element,M),h.Z.on(this._$element,M,this.update.bind(this))}},{key:"renderAlign",value:function(){var t=this._$items;if(t){var e=this._option("align"),i=this.totalItemSize,n=this._option("direction"),a=$[n].getter(this._$element),o=a-i,s=0;switch(this._setItemsMargins(t,n,0),e){case"start":break;case"end":s=o,t.first().css(this._chooseMarginSide(P[n]),s);break;case"center":s=.5*o,t.first().css(this._chooseMarginSide(P[n]),s),t.last().css(this._chooseMarginSide(L[n]),s);break;case"space-between":s=.5*o/(t.length-1),this._setItemsMargins(t,n,s),t.first().css(this._chooseMarginSide(P[n]),0),t.last().css(this._chooseMarginSide(L[n]),0);break;case"space-around":s=.5*o/t.length,this._setItemsMargins(t,n,s)}}}},{key:"_setItemsMargins",value:function(t,e,i){t.css(this._chooseMarginSide(P[e]),i).css(this._chooseMarginSide(L[e]),i)}},{key:"renderCrossAlign",value:function(){var t=this._$items;if(t){var e=this._option("crossAlign"),i=this._option("direction"),n=R[i].getter(this._$element),a=this;switch(e){case"start":break;case"end":(0,g.S6)(t,(function(){var t=(0,u.Z)(this),e=R[i].getter(t),o=n-e;t.css(a._chooseMarginSide(H[i]),o)}));break;case"center":(0,g.S6)(t,(function(){var t=(0,u.Z)(this),e=R[i].getter(t),o=.5*(n-e);t.css(a._chooseMarginSide(H[i]),o).css(a._chooseMarginSide(N[i]),o)}));break;case"stretch":t.css(a._chooseMarginSide(H[i]),0).css(a._chooseMarginSide(N[i]),0).css(R[i].name,"100%")}}}},{key:"_chooseMarginSide",value:function(t){return this._option("rtlEnabled")&&W[t]||t}},{key:"renderItems",value:function(t){var e=this;this._$items=t;var i=this._option("direction"),n=0,a=0,o=0;(0,g.S6)(t,(function(t,s){var r=(0,u.Z)(s);r.css({display:"inline-block",verticalAlign:"top"}),$[i].setter(r,"auto"),r.removeClass(A);var l=r.data(w),h=l.ratio||0,d=e._baseSize(r),c=(0,f.$K)(l.shrink)?l.shrink:T;n+=h,a+=c*d,o+=d}));var s=this._boxSize()-o,r=function(t){var i=t.data(w),o=e._baseSize(t),r=s>=0?i.ratio||0:((0,f.$K)(i.shrink)?i.shrink:T)*o,l=s>=0?n:a,u=l?Math.round(s*r/l):0;return o+u},l=0;(0,g.S6)(t,(function(t,e){var n=(0,u.Z)(e),a=(0,u.Z)(e).data(w),o=r(n);l+=o,n.css(B[i],a.maxSize||"none").css(S[i],a.minSize||"0").css($[i].name,o),n.addClass(A)})),this.totalItemSize=l}},{key:"_baseSize",value:function(t){var e=(0,u.Z)(t).data(w);return null==e.baseSize?0:"auto"===e.baseSize?this._contentSize(t):this._parseSize(e.baseSize)}},{key:"_contentSize",value:function(t){return $[this._option("direction")].getter((0,u.Z)(t))}},{key:"_parseSize",value:function(t){return String(t).match(/.+%$/)?.01*parseFloat(t)*this._boxSizeValue:t}},{key:"_boxSize",value:function(t){if(!arguments.length)return this._boxSizeValue=this._boxSizeValue||this._totalBaseSize(),this._boxSizeValue;this._boxSizeValue=t}},{key:"_totalBaseSize",value:function(){var t=this,e=0;return(0,g.S6)(this._$items,(function(i,n){e+=t._baseSize(n)})),e}},{key:"initSize",value:function(){this._boxSize($[this._option("direction")].getter(this._$element))}},{key:"update",value:function(){if(this._$items&&!this._$element.is(":hidden")){this._$items.detach(),this.initSize(),this._$element.append(this._$items),this.renderItems(this._$items),this.renderAlign(),this.renderCrossAlign();var t=this._$element.get(0);this._$items.find(I).each((function(){t===(0,u.Z)(this).parent().closest(I).get(0)&&h.Z.triggerHandler(this,M)}))}}}]),t}(),q=function(t){(0,r.Z)(i,t);var e=(0,l.Z)(i);function i(){return(0,n.Z)(this,i),e.apply(this,arguments)}return(0,a.Z)(i,[{key:"_getDefaultOptions",value:function(){return(0,c.l)((0,o.Z)((0,s.Z)(i.prototype),"_getDefaultOptions",this).call(this),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_layoutStrategy:"flex",_queue:void 0})}},{key:"_itemClass",value:function(){return D}},{key:"_itemDataKey",value:function(){return w}},{key:"_itemElements",value:function(){return this._itemContainer().children(this._itemSelector())}},{key:"_init",value:function(){(0,o.Z)((0,s.Z)(i.prototype),"_init",this).call(this),this.$element().addClass("".concat(x,"-").concat(this.option("_layoutStrategy"))),this._initLayout(),this._initBoxQueue()}},{key:"_initLayout",value:function(){this._layout="fallback"===this.option("_layoutStrategy")?new G(this.$element(),this.option.bind(this)):new K(this.$element(),this.option.bind(this))}},{key:"_initBoxQueue",value:function(){this._queue=this.option("_queue")||[]}},{key:"_queueIsNotEmpty",value:function(){return!this.option("_queue")&&!!this._queue.length}},{key:"_pushItemToQueue",value:function(t,e){this._queue.push({$item:t,config:e})}},{key:"_shiftItemFromQueue",value:function(){return this._queue.shift()}},{key:"_initMarkup",value:function(){this.$element().addClass(x),this._layout.renderBox(),(0,o.Z)((0,s.Z)(i.prototype),"_initMarkup",this).call(this),this._renderAlign(),this._renderActions()}},{key:"_renderActions",value:function(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}},{key:"_renderAlign",value:function(){this._layout.renderAlign(),this._layout.renderCrossAlign()}},{key:"_renderItems",value:function(t){var e=this;this._layout.initSize(),(0,o.Z)((0,s.Z)(i.prototype),"_renderItems",this).call(this,t);while(this._queueIsNotEmpty()){var n=this._shiftItemFromQueue();this._createComponent(n.$item,i,(0,c.l)({_layoutStrategy:this.option("_layoutStrategy"),itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},n.config))}this._layout.renderItems(this._itemElements()),clearTimeout(this._updateTimer),this._updateTimer=setTimeout((function(){e._isUpdated||e._layout.update(),e._isUpdated=!1,e._updateTimer=null}))}},{key:"_renderItemContent",value:function(t){var e=t.itemData&&t.itemData.node;return e?this._renderItemContentByNode(t,e):(0,o.Z)((0,s.Z)(i.prototype),"_renderItemContent",this).call(this,t)}},{key:"_postprocessRenderItem",value:function(t){var e=t.itemData.box;e&&this._pushItemToQueue(t.itemContent,e)}},{key:"_createItemByTemplate",value:function(t,e){return e.itemData.box?t.source?t.source():(0,u.Z)():(0,o.Z)((0,s.Z)(i.prototype),"_createItemByTemplate",this).call(this,t,e)}},{key:"_visibilityChanged",value:function(t){t&&this._dimensionChanged()}},{key:"_dimensionChanged",value:function(){this._updateTimer||(this._isUpdated=!0,this._layout.update())}},{key:"_dispose",value:function(){clearTimeout(this._updateTimer),(0,o.Z)((0,s.Z)(i.prototype),"_dispose",this).apply(this,arguments)}},{key:"_itemOptionChanged",value:function(t,e,n,a){"visible"===e&&this._onItemStateChanged({name:e,state:n,oldState:!1!==a}),(0,o.Z)((0,s.Z)(i.prototype),"_itemOptionChanged",this).call(this,t,e,n)}},{key:"_optionChanged",value:function(t){switch(t.name){case"_layoutStrategy":case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:(0,o.Z)((0,s.Z)(i.prototype),"_optionChanged",this).call(this,t)}}},{key:"_itemOptions",value:function(){var t=this,e=(0,o.Z)((0,s.Z)(i.prototype),"_itemOptions",this).call(this);return e.fireItemStateChangedAction=function(e){t._onItemStateChanged(e)},e}},{key:"repaint",value:function(){this._dimensionChanged()}}]),i}(b.Z);q.ItemClass=z,(0,d.Z)("dxBox",q),e["Z"]=q},86254:function(t,e,i){var n=i(61025),a=(i(74916),i(15306),i(92087),i(24603),i(28450),i(88386),i(39714),i(69600),i(21249),i(23123),i(77601),i(4723),i(68309),i(31925)),o=i(29532),s=i(21617),r=i(43908),l=i(23737),u=i(50337),h=(i(92222),i(44599)),d=i(38218),c=function(t){return t.getMonth()+1},p=function(t,e){var i=t.getDate(),n=g("M",t),a=(0,l.n$)(parseInt(e),n.min,n.max);t.setMonth(a-1,1);var o=g("dM",t),s=o.min,r=o.max,u=(0,l.n$)(i,s,r);t.setDate(u)},_={a:function(t){return t.getHours()<12?0:1},E:"getDay",y:"getFullYear",M:c,L:c,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},m=(0,r.l)({},(0,h.xe)(),{a:function(t,e){var i=t.getHours(),n=i>=12;n!==!!parseInt(e)&&t.setHours((i+12)%24)},d:function(t,e){var i=g("dM",t).max;e>i&&t.setMonth(t.getMonth()+1),t.setDate(e)},h:function(t,e){var i=t.getHours()>=12;t.setHours(+e%12+(i?12:0))},M:p,L:p,E:function(t,e){e<0||t.setDate(t.getDate()-t.getDay()+parseInt(e))},y:function(t,e){var i=t.getFullYear(),n=String(e).length,a=String(g("y",t).max).length,o=parseInt(String(i).substr(0,a-n)+e);t.setFullYear(o)}}),f=function(t){return _[t]||function(){return t}},v=function(t,e){for(var i=e.regexp.exec(t),n=0,a=0,o=[],s=function(t){n=a,a=n+i[t].length;var s=e.patterns[t-1].replace(/^'|'$/g,""),r=f(s[0]);o.push({index:t-1,isStub:s===i[t],caret:{start:n,end:a},pattern:s,text:i[t],limits:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return g.apply(void 0,[s[0]].concat(e))},setter:m[s[0]]||d.ZT,getter:r})},r=1;r<i.length;r++)s(r);return o},g=function(t,e,i){var n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:23},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return n[i||t]||n.getAmPm},y=function(t,e){for(var i=0;i<t.length;i++){var n=t[i].caret.end>=e;if(!t[i].isStub&&n)return i}return null},C=i(7530),b=i(29049),x=(i(69826),i(41539),i(42632)),I=i(69598),D=i(16545),w=i(44133),S=i(75395),B=i(37226),T=i(27591),V=i(9726),k=i(40555),Z=i(31623),E=["year","day","month","day"],O=["hours","minutes","seconds","milliseconds"],M=6e4,A=60*M*24,F=365*A,$=function(t){var e=(0,V.Z)(t);return"string"===e?"format":"object"===e&&void 0!==t.type?t.type:null},R={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:M,ONE_DAY:A,ONE_YEAR:F,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var t=new Date;return new Date(t.getFullYear()+50,t.getMonth(),t.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:E},time:{getStandardPattern:function(){return"HH:mm"},components:O},datetime:{getStandardPattern:function(){var t;return function(){var e=(0,k.Z)("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(t="yyyy-MM-ddTHH:mmZ")}(),t||(t="yyyy-MM-ddTHH:mm:ssZ"),R.FORMATS_INFO.datetime.getStandardPattern=function(){return t},t},components:[].concat(E,O)},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[].concat(E,["hours","minutes","seconds"])}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(t,e){var i=R.FORMATS_INFO[e].getStandardPattern();return Z.Z.serializeDate(t,i)},fromStandardDateFormat:function(t){var e=Z.Z.dateParser(t);return(0,o.J_)(e)?e:void 0},getMaxMonthDay:function(t,e){return new Date(t,e+1,0).getDate()},mergeDates:function(t,e,i){if(!e)return e||null;if(!t||isNaN(t.getTime())){var n=new Date(null);t=new Date(n.getFullYear(),n.getMonth(),n.getDate())}var a=new Date(t.valueOf()),o=R.FORMATS_INFO[i];return(0,I.S6)(o.components,(function(){var t=R.DATE_COMPONENTS_INFO[this];a[t.setter](e[t.getter]())})),a},getLongestCaptionIndex:function(t){var e,i=0,n=0;for(e=0;e<t.length;++e)t[e].length>n&&(i=e,n=t[e].length);return i},formatUsesMonthName:function(t){return C.Z.formatUsesMonthName(t)},formatUsesDayName:function(t){return C.Z.formatUsesDayName(t)},getLongestDate:function(t,e,i){var n=$(t),a=9;n&&!R.formatUsesMonthName(n)||(a=R.getLongestCaptionIndex(e));var o=new Date(1888,a,21,23,59,59,999);if(!n||R.formatUsesDayName(n)){var s=o.getDate()-o.getDay()+R.getLongestCaptionIndex(i);o.setDate(s)}return o},normalizeTime:function(t){t.setSeconds(0),t.setMilliseconds(0)}};R.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(t,e){var i=new Date(e.getTime());return i.setFullYear(t),C.Z.format(i,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(t,e){var i=new Date(e.getTime());return i.setDate(t),C.Z.format(i,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(t){return C.Z.getMonthNames()[t]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(t){return C.Z.format(new Date(0,0,0,t),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(t){return C.Z.format(new Date(0,0,0,0,t),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(t){return C.Z.format(new Date(0,0,0,0,0,t),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(t){return C.Z.format(new Date(0,0,0,0,0,0,t),"millisecond")},startValue:0,endValue:999}};var P=R,L=i(73103),H=i(946),N=i(8767),W=i(97814),z=i(80880),K=i(47767),G=i(79754),q=i(51085),Y="dx-calendar-navigator",U="dx-calendar-navigator-previous-month",j="dx-calendar-navigator-next-month",Q="dx-calendar-navigator-previous-view",J="dx-calendar-navigator-next-view",X="dx-calendar-disabled-navigator-link",tt="dx-calendar-caption-button",et=q.Z.inherit({_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_initMarkup:function(){this.callBase(),this.$element().addClass(Y),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var t=this,e=this.option("rtlEnabled")?-1:1;this._prevButton=this._createComponent((0,k.Z)("<a>"),z["default"],{focusStateEnabled:!1,icon:"chevronleft",onClick:function(i){t._clickAction({direction:-e,event:i})},integrationOptions:{}});var i=this._prevButton.$element().addClass(Q).addClass(U);this._nextButton=this._createComponent((0,k.Z)("<a>"),z["default"],{focusStateEnabled:!1,icon:"chevronright",onClick:function(i){t._clickAction({direction:e,event:i})},integrationOptions:{}});var n=this._nextButton.$element().addClass(J).addClass(j);this._caption=this._createComponent((0,k.Z)("<a>").addClass(tt),z["default"],{focusStateEnabled:!1,onClick:function(e){t._captionClickAction({event:e})},integrationOptions:{}});var a=this._caption.$element();this.$element().append(i,a,n)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(t,e){var i="_"+t+"Button",n=this[i];n&&(n.option("disabled",e),n.$element().toggleClass(X,e))},_optionChanged:function(t){switch(t.name){case"text":this._renderCaption();break;default:this.callBase(t)}}}),it=et,nt=i(90170),at=i(11229),ot=i(17437),st=i(4872),rt=q.Z.abstract,lt="dx-calendar-other-view",ut="dx-calendar-cell",ht="dx-calendar-empty-cell",dt="dx-calendar-today",ct="dx-calendar-selected-date",pt="dx-calendar-contoured-date",_t=(0,a.V4)(st.u,"dxCalendar"),mt="dxDateValueKey",ft=q.Z.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:function(){return new Date}})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents()},_createTable:function(){return this._$table=(0,k.Z)("<table>"),this.setAria({label:H.Z.format("dxCalendar-ariaWidgetName"),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=(0,k.Z)("<tbody>").appendTo(this._$table);for(var t={cellDate:this._getFirstCellData(),prevCellDate:null},e=0,i=this.option("rowCount");e<i;e++){t.row=this._createRow();for(var n=0,a=this.option("colCount");n<a;n++)this._renderCell(t,n)}},_createRow:function(){var t=nt["default"].createElement("tr");return this.setAria("role","row",(0,k.Z)(t)),this.$body.get(0).appendChild(t),t},_appendCell:function(t,e){this._appendMethodName||this._cacheAppendMethodName(),(0,k.Z)(t)[this._appendMethodName](e)},_cacheAppendMethodName:function(t){this._appendMethodName=(null!==t&&void 0!==t?t:this.option("rtlEnabled"))?"prepend":"append"},_createCell:function(t){var e=nt["default"].createElement("td"),i=(0,k.Z)(e);return e.className=this._getClassNameByDate(t),e.setAttribute("data-value",Z.Z.serializeDate(t,T.Z.getShortDateFormat())),(0,at.aT)(e,mt,t),this.setAria({role:"gridcell",label:this.getCellAriaLabel(t)},i),{cell:e,$cell:i}},_renderCell:function(t,e){var i=t.cellDate,n=t.prevCellDate,a=t.row;n&&T.Z.fixTimezoneGap(n,i),t.prevCellDate=i;var o=this._createCell(i),s=o.cell,r=o.$cell,l=this.option("cellTemplate");this._appendCell(a,s),l?l.render(this._prepareCellTemplateData(i,e,r)):s.innerHTML=this._getCellText(i),t.cellDate=this._getNextCellData(i)},_getClassNameByDate:function(t){var e=ut;return this._isTodayCell(t)&&(e+=" ".concat(dt)),(this._isDateOutOfRange(t)||this.isDateDisabled(t))&&(e+=" ".concat(ht)),this._isOtherView(t)&&(e+=" ".concat(lt)),e},_prepareCellTemplateData:function(t,e,i){return{model:{text:this._getCellText(t),date:t,view:this._getViewName()},container:(0,ot.u)(i),index:e}},_renderEvents:function(){var t=this;this._createCellClickAction(),u.Z.off(this._$table,_t),u.Z.on(this._$table,_t,"td",(function(e){(0,k.Z)(e.currentTarget).hasClass(ht)||t._cellClickAction({event:e,value:(0,k.Z)(e.currentTarget).data(mt)})}))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createDisabledDatesHandler:function(){var t=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(t)?this._getDefaultDisabledDatesHandler(t):t||d.ZT},_getDefaultDisabledDatesHandler:function(t){return d.ZT},_isTodayCell:rt,_isDateOutOfRange:rt,isDateDisabled:function(t){var e={date:t,view:this._getViewName()};return this._disabledDatesHandler(e)},_isOtherView:rt,_getCellText:rt,_getFirstCellData:rt,_getNextCellData:rt,_renderContouredDate:function(t){if(this.option("focusStateEnabled")){t=t||this.option("contouredDate");var e=this._getContouredCell(),i=this._getCellByDate(t);e.removeClass(pt),i.addClass(pt)}},_getContouredCell:function(){return this._$table.find(".".concat(pt))},_changeValue:function(t){if(t){var e=this.option("value"),i=e?new Date(e):new Date;i.setDate(t.getDate()),i.setMonth(t.getMonth()),i.setFullYear(t.getFullYear()),i.setDate(t.getDate()),this.option("value",i)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var t=this.option("value"),e=this._getCellByDate(t);this._selectedCell&&this._selectedCell.removeClass(ct),e.addClass(ct),this._selectedCell=e}},getCellAriaLabel:function(t){return this._getCellText(t)},_getFirstAvailableDate:function(){var t=this.option("date"),e=this.option("min");return t=T.Z.getFirstDateView(this._getViewName(),t),new Date(e&&t<e?e:t)},_getCellByDate:rt,isBoundary:rt,_optionChanged:function(t){var e=t.name,i=t.value;switch(e){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(i);break;case"onCellClick":this._createCellClickAction();break;case"disabledDates":case"cellTemplate":this._invalidate();break;case"rtlEnabled":this._cacheAppendMethodName(i),this.callBase(t);break;case"_todayDate":this._renderBody();break;default:this.callBase(t)}}}),vt=ft,gt="dx-calendar-other-month",yt="dx-calendar-other-view",Ct={month:vt.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{firstDayOfWeek:void 0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat(yt)).addClass(gt)},_renderFocusTarget:d.ZT,getCellAriaLabel:function(t){return C.Z.format(t,"longdate")},_renderHeader:function(){var t=(0,k.Z)("<tr>"),e=(0,k.Z)("<thead>").append(t);this._$table.prepend(e);for(var i=0,n=this.option("colCount");i<n;i++)this._renderHeaderCell(i,t)},_renderHeaderCell:function(t,e){var i=this._getDayCaption(this._getFirstDayOfWeek()+t),n=i.full,a=i.abbreviated,o=(0,k.Z)("<th>").attr({scope:"col",abbr:n}).text(a);this._appendCell(e,o)},getNavigatorCaption:function(){return C.Z.format(this.option("date"),"monthandyear")},_isTodayCell:function(t){var e=this.option("_todayDate")();return T.Z.sameDate(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),i=this.option("max");return!T.Z.dateInRange(t,e,i,"date")},_isOtherView:function(t){return t.getMonth()!==this.option("date").getMonth()},_getCellText:function(t){return C.Z.format(t,"d")},_getDayCaption:function(t){var e=this.option("colCount"),i=t%e;return{full:C.Z.getDayNames()[i],abbreviated:C.Z.getDayNames("abbreviated")[i]}},_getFirstCellData:function(){var t=T.Z.getFirstMonthDate(this.option("date")),e=this._getFirstDayOfWeek()-t.getDay(),i=this.option("colCount");return e>=0&&(e-=i),t.setDate(t.getDate()+e),t},_getNextCellData:function(t){return t=new Date(t),t.setDate(t.getDate()+1),t},_getFirstDayOfWeek:function(){return(0,o.$K)(this.option("firstDayOfWeek"))?this.option("firstDayOfWeek"):C.Z.firstDayOfWeekIndex()},_getCellByDate:function(t){return this._$table.find("td[data-value='".concat(Z.Z.serializeDate(t,T.Z.getShortDateFormat()),"']"))},isBoundary:function(t){return T.Z.sameMonthAndYear(t,this.option("min"))||T.Z.sameMonthAndYear(t,this.option("max"))},_getDefaultDisabledDatesHandler:function(t){return function(e){var i=t.some((function(t){return T.Z.sameDate(t,e.date)}));if(i)return!0}}}),year:vt.inherit({_getViewName:function(){return"year"},_isTodayCell:function(t){var e=this.option("_todayDate")();return T.Z.sameMonthAndYear(t,e)},_isDateOutOfRange:function(t){return!T.Z.dateInRange(t,T.Z.getFirstMonthDate(this.option("min")),T.Z.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(t){return C.Z.getMonthNames("abbreviated")[t.getMonth()]},_getFirstCellData:function(){var t=this.option("date"),e=new Date(t);return e.setDate(1),e.setMonth(0),e},_getNextCellData:function(t){return t=new Date(t),t.setMonth(t.getMonth()+1),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),this._$table.find("td[data-value='".concat(Z.Z.serializeDate(e,T.Z.getShortDateFormat()),"']"))},getCellAriaLabel:function(t){return C.Z.format(t,"monthandyear")},getNavigatorCaption:function(){return C.Z.format(this.option("date"),"yyyy")},isBoundary:function(t){return T.Z.sameYear(t,this.option("min"))||T.Z.sameYear(t,this.option("max"))}}),decade:vt.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(t){var e=this.option("_todayDate")();return T.Z.sameYear(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),i=this.option("max");return!T.Z.dateInRange(t.getFullYear(),e&&e.getFullYear(),i&&i.getFullYear())},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!T.Z.sameDecade(e,this.option("date"))},_getCellText:function(t){return C.Z.format(t,"yyyy")},_getFirstCellData:function(){var t=T.Z.getFirstYearInDecade(this.option("date"))-1;return T.Z.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+1),t},getNavigatorCaption:function(){var t=this.option("date"),e=T.Z.getFirstYearInDecade(t),i=new Date(t),n=new Date(t);return i.setFullYear(e),n.setFullYear(e+9),C.Z.format(i,"yyyy")+"-"+C.Z.format(n,"yyyy")},_isValueOnCurrentView:function(t,e){return T.Z.sameDecade(t,e)},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),this._$table.find("td[data-value='".concat(Z.Z.serializeDate(e,T.Z.getShortDateFormat()),"']"))},isBoundary:function(t){return T.Z.sameDecade(t,this.option("min"))||T.Z.sameDecade(t,this.option("max"))}}),century:vt.inherit({_getViewName:function(){return"century"},_isTodayCell:function(t){var e=this.option("_todayDate")();return T.Z.sameDecade(t,e)},_isDateOutOfRange:function(t){var e=T.Z.getFirstYearInDecade(t),i=T.Z.getFirstYearInDecade(this.option("min")),n=T.Z.getFirstYearInDecade(this.option("max"));return!T.Z.dateInRange(e,i,n)},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!T.Z.sameCentury(e,this.option("date"))},_getCellText:function(t){var e=C.Z.format(t,"yyyy"),i=new Date(t);return i.setFullYear(i.getFullYear()+9),e+" - "+C.Z.format(i,"yyyy")},_getFirstCellData:function(){var t=T.Z.getFirstDecadeInCentury(this.option("date"))-10;return T.Z.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+10),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),e.setFullYear(T.Z.getFirstYearInDecade(e)),this._$table.find("td[data-value='".concat(Z.Z.serializeDate(e,T.Z.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var t=this.option("date"),e=T.Z.getFirstDecadeInCentury(t),i=new Date(t),n=new Date(t);return i.setFullYear(e),n.setFullYear(e+99),C.Z.format(i,"yyyy")+"-"+C.Z.format(n,"yyyy")},isBoundary:function(t){return T.Z.sameCentury(t,this.option("min"))||T.Z.sameCentury(t,this.option("max"))}})},bt=Ct,xt=i(24935),It=i(39598),Dt=i(27328),wt="dx-calendar",St="dx-calendar-body",Bt="dx-calendar-cell",Tt="dx-calendar-footer",Vt="dx-calendar-today-button",kt="dx-calendar-with-footer",Zt="dx-calendar-views-wrapper",Et="dx-calendar-view",Ot="dx-state-focused",Mt=250,At=.6,Ft=1,$t="yyyy-MM-dd",Rt="dxDateValueKey",Pt={month:3,year:2,decade:1,century:0},Lt={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"};function Ht(t){return t.hasClass(Ot)}var Nt=K.Z.inherit({_activeStateUnit:"."+Bt,_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,zoomLevel:Lt.MONTH,maxZoomLevel:Lt.MONTH,minZoomLevel:Lt.CENTURY,showTodayButton:!1,cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:function(){return new Date}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===S.Z.real().deviceType&&!S.Z.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return(0,r.l)(this.callBase(),{rightArrow:function(t){t.preventDefault(),(0,a.j1)(t)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(t){t.preventDefault(),(0,a.j1)(t)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(t){if(t.preventDefault(),(0,a.j1)(t))this._navigateUp();else{if(It.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(t){if(t.preventDefault(),(0,a.j1)(t))this._navigateDown();else{if(It.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(t){t.preventDefault();var e=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("min");if(!this._view.isDateDisabled(i)){var a=T.Z.sameView(e,i,n)?n:T.Z.getViewFirstCellDate(e,i);this._moveToClosestAvailableDate(a)}},end:function(t){t.preventDefault();var e=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("max");if(!this._view.isDateDisabled(i)){var a=T.Z.sameView(e,i,n)?n:T.Z.getViewLastCellDate(e,i);this._moveToClosestAvailableDate(a)}},pageUp:function(t){t.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(t){t.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:d.ZT,enter:function(t){if(this._isMaxZoomLevel()){if(!this._view.isDateDisabled(this.option("currentDate"))){var e=this._updateTimeComponent(this.option("currentDate"));this._dateValue(e,t)}}else this._navigateDown()}})},_getSerializationFormat:function(t){var e=this.option(t||"value");return this.option("dateSerializationFormat")?this.option("dateSerializationFormat"):(0,o.kE)(e)?"number":(0,o.HD)(e)?Z.Z.getDateSerializationFormat(e):void 0},_convertToDate:function(t,e){return Z.Z.deserializeDate(t)},_dateValue:function(t,e){if(e){if("keydown"===e.type){var i=this._view._getContouredCell().get(0);e.target=i}this._saveValueChangeEvent(e)}this._dateOption("value",t)},_dateOption:function(t,e){if(1===arguments.length)return this._convertToDate(this.option(t),t);var i=this._getSerializationFormat(t);this.option(t,Z.Z.serializeDate(e,i))},_shiftDate:function(t,e,i,n){switch(t){case Lt.MONTH:e.setDate(e.getDate()+i*n);break;case Lt.YEAR:e.setMonth(e.getMonth()+i*n);break;case Lt.DECADE:e.setFullYear(e.getFullYear()+i*n);break;case Lt.CENTURY:e.setFullYear(e.getFullYear()+10*i*n)}},_moveCurrentDateByOffset:function(t){var e=this.option("currentDate"),i=new Date(e),n=this.option("zoomLevel");this._shiftDate(n,i,t,1);var a=this._getMaxDate(),o=this._getMinDate(),s=this._areDatesInNeighborView(n,i,e),r=(0,l.Z2)(i,o,a)&&s,u=new Date(i);while(r){if(!this._view.isDateDisabled(u)){i=u;break}this._shiftDate(n,u,t,1),s=this._areDatesInNeighborView(n,u,e),r=(0,l.Z2)(u,o,a)&&s}this._view.isDateDisabled(e)||this._view.isDateDisabled(i)?this._waitRenderView(t>0?1:-1):this.option("currentDate",i)},_areDatesInSameView:function(t,e,i){switch(t){case Lt.MONTH:return e.getMonth()===i.getMonth();case Lt.YEAR:return e.getYear()===i.getYear();case Lt.DECADE:return parseInt(e.getYear()/10)===parseInt(i.getYear()/10);case Lt.CENTURY:return parseInt(e.getYear()/100)===parseInt(i.getYear()/100)}},_areDatesInNeighborView:function(t,e,i){switch(t){case Lt.MONTH:return n=e.getMonth(),a=i.getMonth(),o=Math.abs(n-a),Math.min(o,12-o)<=1;case Lt.YEAR:return Math.abs(e.getYear()-i.getYear())<=1;case Lt.DECADE:return Math.abs(e.getYear()-i.getYear())<=10;case Lt.CENTURY:return Math.abs(e.getYear()-i.getYear())<=100}var n,a,o},_moveToClosestAvailableDate:function(){var t,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("currentDate"),n=new Date(i),a=this.option("zoomLevel"),o=!this._isDateNotAvailable(n),s=o,r=o,l=new Date(n),u=new Date(n);do{if(s){n=l;break}if(r){n=u;break}this._shiftDate(a,l,1,1),this._shiftDate(a,u,1,-1),t=this._areDatesInSameView(a,l,i),e=this._areDatesInSameView(a,u,i),s=t&&!this._isDateNotAvailable(l),r=e&&!this._isDateNotAvailable(u)}while(t||e);this.option("currentDate",n)},_isDateNotAvailable:function(t){var e=this._getMaxDate(),i=this._getMinDate();return!(0,l.Z2)(t,i,e)||this._view.isDateDisabled(t)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var t=this.option("minZoomLevel"),e=this.option("maxZoomLevel"),i=this.option("zoomLevel");Pt[e]<Pt[t]||(Pt[i]>Pt[e]?this.option("zoomLevel",e):Pt[i]<Pt[t]&&this.option("zoomLevel",t))},_initCurrentDate:function(){var t=this._getNormalizedDate(this._dateOption("value"))||this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",t)},_getNormalizedDate:function(t){return t=T.Z.normalizeDate(t,this._getMinDate(),this._getMaxDate()),(0,o.$K)(t)?this._getDate(t):t},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new Dt.k((function(t){var e=t.model;(0,k.Z)(t.container).append((0,k.Z)("<span>").text(e&&e.text||String(e)))}))}),this.callBase()},_updateCurrentDate:function(t){It.Z.isAnimating(this._$viewsWrapper)&&It.Z.stop(this._$viewsWrapper,!0);var e=this._getMinDate(),i=this._getMaxDate();if(e>i)this.option("currentDate",new Date);else{var n=this._getNormalizedDate(t);if(t.getTime()===n.getTime()){var a=this._getViewsOffset(this._view.option("date"),n);0!==a&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(a=0),this._view&&0!==a&&!this._suppressNavigation?this._navigate(a,n):(this._renderNavigator(),this._setViewContoured(n),this._updateAriaId(n))}else this.option("currentDate",new Date(n))}},_setViewContoured:function(t){(this.option("skipFocusCheck")||Ht(this._focusTarget()))&&this._view.option("contouredDate",t)},_getMinDate:function(){return this.min||(this.min=this._dateOption("min")||new Date(1e3,0)),this.min},_getMaxDate:function(){return this.max||(this.max=this._dateOption("max")||new Date(3e3,0)),this.max},_getViewsOffset:function(t,e){var i,n=this.option("zoomLevel");if(n===Lt.MONTH)return this._getMonthsOffset(t,e);switch(n){case Lt.CENTURY:i=100;break;case Lt.DECADE:i=10;break;default:i=1}return parseInt(e.getFullYear()/i)-parseInt(t.getFullYear()/i)},_getMonthsOffset:function(t,e){var i=e.getFullYear()-t.getFullYear(),n=e.getMonth()-t.getMonth();return 12*i+n},_waitRenderView:function(t){var e=this;if(!this._alreadyViewRender){this._alreadyViewRender=!0;var i=this._getDateByOffset(t*this._getRtlCorrection());this._moveToClosestAvailableDate(i),this._waitRenderViewTimeout=setTimeout((function(){e._alreadyViewRender=!1}))}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(t,e){var i;e=this._getDate(null!==(i=e)&&void 0!==i?i:this.option("currentDate"));var n=e.getDate(),a=T.Z.getDifferenceInMonth(this.option("zoomLevel"))*t;e.setDate(1),e.setMonth(e.getMonth()+a);var o=T.Z.getLastMonthDate(e).getDate();return e.setDate(n>o?o:n),e},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var t=this.$element();t.addClass(wt),this._renderBody(),t.append(this.$body),this._renderViews(),this._renderNavigator(),t.append(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._updateAriaSelected(),this._updateAriaId(),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=(0,k.Z)("<div>").addClass(St),this._$viewsWrapper=(0,k.Z)("<div>").addClass(Zt),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners:function(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(Et+"-"+this.option("zoomLevel"));var t=this.option("currentDate");if(this._view=this._renderSpecificView(t),(0,x.Ym)()){var e=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(e)?this._renderSpecificView(e):null;var i=this._getDateByOffset(1,t);i.setDate(1),this._afterView=this._isViewAvailable(i)?this._renderSpecificView(i):null}this._translateViews()},_renderSpecificView:function(t){var e=bt[this.option("zoomLevel")],i=(0,k.Z)("<div>").appendTo(this._$viewsWrapper),n=this._viewConfig(t);return this._createComponent(i,e,n)},_viewConfig:function(t){var e=this.option("disabledDates");return e=(0,o.mf)(e)?this._injectComponent(e.bind(this)):e,{date:t,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek"),value:this._dateOption("value"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:e,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")}},_injectComponent:function(t){var e=this;return function(i){return(0,r.l)(i,{component:e}),t(i)}},_isViewAvailable:function(t){var e=this.option("zoomLevel"),i=T.Z.getViewMinBoundaryDate(e,this._getMinDate()),n=T.Z.getViewMaxBoundaryDate(e,this._getMaxDate());return T.Z.dateInRange(t,i,n)},_translateViews:function(){(0,xt.pB)(this._view.$element(),{left:0,top:0}),this._beforeView&&(0,xt.pB)(this._beforeView.$element(),{left:this._getViewPosition(-1),top:0}),this._afterView&&(0,xt.pB)(this._afterView.$element(),{left:this._getViewPosition(1),top:0})},_getViewPosition:function(t){var e=this.option("rtlEnabled")?-1:1;return 100*t*e+"%"},_cellClickHandler:function(t){var e=this.option("zoomLevel"),i=T.Z.getViewDown(e),n=this._isMaxZoomLevel();if(i&&!n)this._navigateDown(t.event.currentTarget);else{var a=this._updateTimeComponent(t.value);this._dateValue(a,t.event),this._cellClickAction(t)}},_updateTimeComponent:function(t){var e=new Date(t),i=this._dateOption("value");return i&&(e.setHours(i.getHours()),e.setMinutes(i.getMinutes()),e.setSeconds(i.getSeconds()),e.setMilliseconds(i.getMilliseconds())),e},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var e=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var i=T.Z.getViewDown(e);if(i){var n=this._view.option("contouredDate")||this._view.option("date");t&&(n=(0,k.Z)(t).data(Rt)),this._isOtherViewCellClicked=!0,this.option("currentDate",n),this.option("zoomLevel",i),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new it((0,k.Z)("<div>"),this._navigatorConfig())),this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(t){var e=this._getDateByOffset(t.direction,this.option("currentDate"));this._moveToClosestAvailableDate(e)},_navigateUp:function(){var t=this.option("zoomLevel"),e=T.Z.getViewUp(t);e&&!this._isMinZoomLevel(t)&&(this.option("zoomLevel",e),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(t){var e=this._getMinDate(),i=this._getMaxDate();return T.Z.sameView(t,e,i)||this.option("minZoomLevel")===t},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!(0,o.$K)(this._getRequiredView("next"))),this._navigator.toggleButton("prev",!(0,o.$K)(this._getRequiredView("prev")))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),G.Z,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(t){It.Z.stop(this._$viewsWrapper,!0),t.event.maxLeftOffset=this._getRequiredView("next")?1:0,t.event.maxRightOffset=this._getRequiredView("prev")?1:0},_getRequiredView:function(t){var e,i=this.option("rtlEnabled");return"next"===t?e=i?this._beforeView:this._afterView:"prev"===t&&(e=i?this._afterView:this._beforeView),e},_swipeUpdateHandler:function(t){var e=t.event.offset;(0,xt.pB)(this._$viewsWrapper,{left:e*this._viewWidth(),top:0}),this._updateNavigatorCaption(e)},_swipeEndHandler:function(t){var e=t.event.targetOffset,i=e?e/Math.abs(e):0;if(0!==i){var n=this._getDateByOffset(-i*this._getRtlCorrection());this._isDateInInvalidRange(n)&&(n=i>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",n)}else this._animateWrapper(0,Mt)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=(0,N.dz)(this.$element())),this._viewWidthValue},_updateNavigatorCaption:function(t){t*=this._getRtlCorrection();var e=this._view;t>.5&&this._beforeView?e=this._beforeView:t<-.5&&this._afterView&&(e=this._afterView),this._navigator.option("text",e.getNavigatorCaption())},_isDateInInvalidRange:function(t){if(!this._view.isBoundary(t)){var e=this._getMinDate(),i=this._getMaxDate(),n=T.Z.normalizeDate(t,e,i);return n===e||n===i}},_renderFooter:function(){var t=this.option("showTodayButton");if(t){var e=this._createComponent((0,k.Z)("<a>"),z["default"],{focusStateEnabled:!1,text:H.Z.format("dxCalendar-todayButtonText"),onClick:function(t){this._toTodayView(t)}.bind(this),integrationOptions:{}}).$element().addClass(Vt);this._$footer=(0,k.Z)("<div>").addClass(Tt).append(e),this.$element().append(this._$footer)}this.$element().toggleClass(kt,t)},_renderSubmitElement:function(){this._$submitElement=(0,k.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){var e=this._convertToDate(t);this._getSubmitElement().val(Z.Z.serializeDate(e,$t))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){return It.Z.stop(this._view.$element(),!0),this._popAnimationView(this._view,At,Ft,Mt).promise()},_popAnimationView:function(t,e,i,n){return It.Z.animate(t.$element(),{type:"pop",from:{scale:e,opacity:e},to:{scale:i,opacity:i},duration:n})},_navigate:function(t,e){if(0!==t&&1!==Math.abs(t)&&this._isViewAvailable(e)){var i=this._renderSpecificView(e);t>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=i):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=i),this._translateViews()}var n=this._getRtlCorrection(),a=t>0?1:t<0?-1:0,o=-n*a*this._viewWidth(),s=this._$viewsWrapper.position().left;s!==o&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(t,e):this._animateWrapper(o,Mt).done(this._wrapperAnimationEndHandler.bind(this,t,e)))},_animateWrapper:function(t,e){return It.Z.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:t},duration:e})},_getDate:function(t){return new Date(t)},_toTodayView:function(t){this._saveValueChangeEvent(t.event);var e=new Date;this._isMaxZoomLevel()?this._dateOption("value",e):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._dateOption("value",e),this._animateShowView(),this._preventViewChangeAnimation=!1)},_wrapperAnimationEndHandler:function(t,e){this._rearrangeViews(t),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e)},_rearrangeViews:function(t){var e,i,n;if(0!==t&&(t<0?(e=1,i="_beforeView",n="_afterView"):(e=-1,i="_afterView",n="_beforeView"),this[i])){var a=this[i].option("date");this[n]&&this[n].$element().remove(),t===e?this[n]=this._view:(this[n]=this._renderSpecificView(this._getDateByOffset(e,a)),this._view.$element().remove()),this._view=this[i];var o=this._getDateByOffset(-e,a);this[i]=this._isViewAvailable(o)?this._renderSpecificView(o):null}},_resetLocation:function(){(0,xt.pB)(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(t){var e=t?new Date(t):null;this._view.option("value",e),this._beforeView&&this._beforeView.option("value",e),this._afterView&&this._afterView.option("value",e)},_updateAriaSelected:function(t,e){var i;t=null!==(i=t)&&void 0!==i?i:this._dateOption("value");var n=this._view._getCellByDate(e),a=this._view._getCellByDate(t);this.setAria("selected",void 0,n),this.setAria("selected",!0,a),t&&this.option("currentDate").getTime()===t.getTime()&&this._updateAriaId(t)},_updateAriaId:function(t){var e;t=null!==(e=t)&&void 0!==e?e:this.option("currentDate");var i="dx-"+new W.Z,n=this._view._getCellByDate(t);this.setAria("id",i,n),this.setAria("activedescendant",i),this._onContouredChanged(i)},_suppressingNavigation:function(t,e){this._suppressNavigation=!0,t.apply(this,e),delete this._suppressNavigation},_optionChanged:function(t){var e=t.value,i=t.previousValue;switch(t.name){case"width":this.callBase(t),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(i)),this._updateCurrentDate(e);break;case"zoomLevel":this.$element().removeClass(Et+"-"+i),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":e=this._convertToDate(e),i=this._convertToDate(i),this._updateAriaSelected(e,i),this.option("currentDate",(0,o.$K)(e)?new Date(e):new Date),this._updateViewsValue(e),this._setSubmitValue(e),this.callBase(t);break;case"onCellClick":this._view.option("onCellClick",e);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":this._refreshViews();break;default:this.callBase(t)}},getContouredDate:function(){return this._view.option("contouredDate")}});(0,n.Z)("dxCalendar",Nt);var Wt=Nt,zt=Wt,Kt=i(71177),Gt=Kt.Z.abstract,qt=Kt.Z.inherit({ctor:function(t){this.dateBox=t},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||(0,k.Z)("<div>"),this._widget=this._createWidget(t),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(t){var e=this._getWidgetName(),i=this._getWidgetOptions();return this.dateBox._createComponent(t,e,i)},_getWidgetOptions:Gt,_getWidgetName:Gt,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:Gt,supportedKeys:d.ZT,getKeyboardListener:d.ZT,customizeButtons:d.ZT,getParsedText:function(t,e){var i=C.Z.parse(t,e);return i||C.Z.parse(t)},renderInputMinMax:d.ZT,renderOpenedState:function(){this._updateValue()},popupConfig:Gt,_dimensionChanged:function(){var t;null===(t=this._getPopup())||void 0===t||t.repaint()},renderPopupContent:function(){var t=this._getPopup();this._renderWidget();var e=t.$content().parent();u.Z.off(e,"mousedown"),u.Z.on(e,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:d.ZT,getLastPopupElement:d.ZT,_preventFocusOnPopup:function(t){t.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:d.ZT,popupHiddenHandler:d.ZT,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:d.ZT,getDefaultDate:function(){return new Date},textChangedHandler:d.ZT,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var t=this._getPopup();t&&t.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),Yt=qt,Ut=Yt.inherit({NAME:"Calendar",supportedKeys:function(){var t=function(t){return!!this.option("opened")&&(t.preventDefault(),!0)};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(t){if(this.dateBox.option("opened")){if(t.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var e=this._getContouredValue(),i=this._lastActionElement,n=this._closeDropDownByEnter();return n&&e&&"calendar"===i&&this.dateBoxValue(e,t),n&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(t),!n}return!0}this.dateBox._valueChangeEventHandler(t)}.bind(this),home:t,end:t}},getDisplayFormat:function(t){return t||"shortdate"},_closeDropDownByEnter:function(){return!0},_getWidgetName:function(){return zt},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener:function(){return this._widget},_getWidgetOptions:function(){var t=this.dateBox.option("disabledDates");return(0,r.l)(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:(0,o.mf)(t)?this._injectComponent(t.bind(this.dateBox)):t,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(t){var e=this;return function(i){return(0,r.l)(i,{component:e.dateBox}),t(i)}},_refreshActiveDescendant:function(t){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",t.actionValue)},popupConfig:function(t){var e=this,i=t.toolbarItems,n=this.dateBox.option("buttonsLocation"),a=[];return a="default"!==n?(0,d.Um)(n):["bottom","center"],"useButtons"===this.dateBox.option("applyValueMode")&&this._isCalendarVisible()&&i.unshift({widget:"dxButton",toolbar:a[0],location:"after"===a[1]?"before":a[1],options:{onInitialized:function(t){t.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:function(t){e._widget._toTodayView(t)},text:H.Z.format("dxCalendar-todayButtonText"),type:"today"}}),(0,r.l)(!0,t,{toolbarItems:i,position:{collision:"flipfit flip"},width:"auto"})},_isCalendarVisible:function(){return(0,o.Qr)(this.dateBox.option("calendarOptions"))||!1!==this.dateBox.option("calendarOptions.visible")},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(t){var e=this.dateBox,i=t.value,n=t.previousValue;T.Z.sameDate(i,n)||"instantly"===e.option("applyValueMode")&&this.dateBoxValue(this.getValue(),t.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(t){var e=this.dateBox;"instantly"===e.option("applyValueMode")&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),t.event))}}),jt=Ut,Qt=(i(54747),i(76133)),Jt=i(92751),Xt=i(50460),te=i(87349),ee=i(99418),ie=i(6812),ne=i(12969),ae=i(821);function oe(t,e){if((0,o.PO)(t)){var i=(0,d.IS)(t.left,t.x),n=(0,d.IS)(t.top,t.y);return{left:(0,o.$K)(i)?i:void 0,top:(0,o.$K)(n)?n:void 0}}var a=new ae.I(e),s=a.isHorizontal,r=a.isVertical;return{left:s&&(0,o.$K)(t)?t:void 0,top:r&&(0,o.$K)(t)?t:void 0}}var se="dx-dateviewroller",re="dx-state-active",le="dx-dateviewroller-current",ue="dx-dateview-item",he="dx-dateview-item-selected",de="dx-dateview-item-selected-frame",ce="dx-dateview-item-selected-border",pe=function(t){(0,ee.Z)(i,t);var e=(0,ie.Z)(i);function i(){return(0,Qt.Z)(this,i),e.apply(this,arguments)}return(0,Jt.Z)(i,[{key:"_getDefaultOptions",value:function(){return(0,r.l)((0,Xt.Z)((0,te.Z)(i.prototype),"_getDefaultOptions",this).call(this),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}},{key:"_init",value:function(){(0,Xt.Z)((0,te.Z)(i.prototype),"_init",this).call(this),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}},{key:"_render",value:function(){(0,Xt.Z)((0,te.Z)(i.prototype),"_render",this).call(this),this._renderSelectedItemFrame(),this.$element().addClass(se),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}},{key:"_renderSelectedIndexChanged",value:function(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}},{key:"_renderWheelEvent",value:function(){var t=this;u.Z.on((0,k.Z)(this.container()),"dxmousewheel",(function(e){t._isWheelScrolled=!0}))}},{key:"_renderContainerClick",value:function(){if(this.option("showOnClick")){var t=(0,a.V4)(st.u,this.NAME),e=this._createActionByOption("onClick");u.Z.off((0,k.Z)(this.container()),t),u.Z.on((0,k.Z)(this.container()),t,(function(t){e({event:t})}))}}},{key:"_renderItems",value:function(){var t=this.option("items")||[],e=(0,k.Z)();(0,k.Z)(this.content()).empty(),t.forEach((function(t){e=e.add((0,k.Z)("<div>").addClass(ue).append(t))})),(0,k.Z)(this.content()).append(e),this._$items=e,this.update()}},{key:"_renderSelectedItemFrame",value:function(){(0,k.Z)("<div>").addClass(de).append((0,k.Z)("<div>").addClass(ce)).appendTo((0,k.Z)(this.container()))}},{key:"_renderSelectedValue",value:function(t){var e=this._fitIndex(null!==t&&void 0!==t?t:this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(e)}),this._renderActiveStateItem()}},{key:"_fitIndex",value:function(t){var e=this.option("items")||[],i=e.length;return t>=i?i-1:t<0?0:t}},{key:"_getItemPosition",value:function(t){return Math.round(this._itemHeight()*t)}},{key:"_renderItemsClick",value:function(){var t=this._getItemSelector(),e=(0,a.V4)(st.u,this.NAME);u.Z.off(this.$element(),e,t),u.Z.on(this.$element(),e,t,this._itemClickHandler.bind(this))}},{key:"_getItemSelector",value:function(){return"."+ue}},{key:"_itemClickHandler",value:function(t){this.option("selectedIndex",this._itemElementIndex(t.currentTarget))}},{key:"_itemElementIndex",value:function(t){return this._itemElements().index(t)}},{key:"_itemElements",value:function(){return this.$element().find(this._getItemSelector())}},{key:"_renderActiveStateItem",value:function(){var t=this.option("selectedIndex");(0,I.S6)(this._$items,(function(e){(0,k.Z)(this).toggleClass(he,t===e)}))}},{key:"_shouldScrollToNeighborItem",value:function(){return"desktop"===S.Z.real().deviceType&&this._isWheelScrolled}},{key:"_moveTo",value:function(t){var e=oe(t),i=e.top,n=e.left,a=this.scrollOffset(),o={x:a.left-n,y:a.top-i};if(this._isVisible()&&(o.x||o.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var s=this;It.Z.stop((0,k.Z)(this.content())),It.Z.animate((0,k.Z)(this.content()),{duration:200,type:"slide",to:{top:Math.floor(o.y)},complete:function(){(0,xt.Kx)((0,k.Z)(s.content())),s.handleMove({delta:o})}}),delete this._animation}else this.handleMove({delta:o})}},{key:"_validate",value:function(t){return this._moveIsAllowed(t)}},{key:"_fitSelectedIndexInRange",value:function(t){var e=this.option("items").length;return Math.max(Math.min(t,e-1),0)}},{key:"_isInNullNeighborhood",value:function(t){return-.1<=t&&t<=.1}},{key:"_getSelectedIndexAfterScroll",value:function(t){var e=this.scrollOffset().top,i=t*this._itemHeight(),n=e-i;if(this._isInNullNeighborhood(n))return t;var a=n>0?1:-1,o=this._fitSelectedIndexInRange(t+a);return o}},{key:"_getNewSelectedIndex",value:function(t){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(t);this._animation=!0;var e=this.scrollOffset().top/this._itemHeight();return Math.round(e)}},{key:"_endActionHandler",value:function(){var t=this.option("selectedIndex"),e=this._getNewSelectedIndex(t);e===t?this._renderSelectedValue(e):this.option("selectedIndex",e),this._isWheelScrolled=!1}},{key:"_itemHeight",value:function(){var t=this._$items.first();return(0,N.Cr)(t)}},{key:"_toggleActive",value:function(t){this.$element().toggleClass(re,t)}},{key:"_isVisible",value:function(){return(0,k.Z)(this.container()).is(":visible")}},{key:"_fireSelectedIndexChanged",value:function(t,e){this._selectedIndexChanged({value:t,previousValue:e,event:void 0})}},{key:"_visibilityChanged",value:function(t){(0,Xt.Z)((0,te.Z)(i.prototype),"_visibilityChanged",this).call(this,t),this._visibilityChangedHandler(t)}},{key:"_visibilityChangedHandler",value:function(t){var e=this;t&&(this._visibilityTimer=setTimeout((function(){e._renderSelectedValue(e.option("selectedIndex"))}))),this.toggleActiveState(!1)}},{key:"toggleActiveState",value:function(t){this.$element().toggleClass(le,t)}},{key:"_refreshSelectedIndex",value:function(){var t=this.option("selectedIndex"),e=this._fitIndex(t);e===t?this._renderActiveStateItem():this.option("selectedIndex",e)}},{key:"_optionChanged",value:function(t){switch(t.name){case"selectedIndex":this._fireSelectedIndexChanged(t.value,t.previousValue),this._renderSelectedValue(t.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:(0,Xt.Z)((0,te.Z)(i.prototype),"_optionChanged",this).call(this,t)}}},{key:"_dispose",value:function(){clearTimeout(this._visibilityTimer),(0,Xt.Z)((0,te.Z)(i.prototype),"_dispose",this).call(this)}}]),i}(ne.Z);(0,n.Z)("dxDateViewRoller",pe);var _e=pe,me="dx-dateview",fe="dx-dateview-compact",ve="dx-dateview-wrapper",ge="dx-dateview-rollers",ye="dx-dateviewroller",Ce={date:"date",datetime:"datetime",time:"time"},be={year:"year",month:"month",day:"day",hours:"hours"},xe=K.Z.inherit({_valueOption:function(){var t=this.option("value"),e=new Date(t);return!t||isNaN(e)?this._getDefaultDate():e},_getDefaultDate:function(){var t=new Date;return this.option("type")===Ce.date?new Date(t.getFullYear(),t.getMonth(),t.getDate()):t},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{minDate:P.MIN_DATEVIEW_DEFAULT_DATE,maxDate:P.MAX_DATEVIEW_DEFAULT_DATE,type:Ce.date,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"desktop"!==t.deviceType},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(me),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(t,e){this.$element().addClass(me+"-"+t),e&&this.$element().removeClass(me+"-"+e)},_toggleCompactClass:function(){this.$element().toggleClass(fe,this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=(0,k.Z)("<div>").addClass(ve),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=(0,k.Z)("<div>").addClass(ge)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;(0,I.S6)(t._rollerConfigs,(function(e){var i=(0,k.Z)("<div>").appendTo(t._$rollersContainer).addClass(ye+"-"+t._rollerConfigs[e].type);t._rollers[t._rollerConfigs[e].type]=t._createComponent(i,_e,{items:t._rollerConfigs[e].displayItems,selectedIndex:t._rollerConfigs[e].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(i){var n=i.component;n._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],n.option("selectedIndex"))},onEnd:function(t){var e=t.component;e._toggleActive(!1)},onClick:function(i){var n=i.component;n._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],n.option("selectedIndex")),t._setRollerState(t._rollerConfigs[e],n.option("selectedIndex")),n._toggleActive(!1)},onSelectedIndexChanged:function(i){var n=i.component;t._setRollerState(t._rollerConfigs[e],n.option("selectedIndex"))}})})),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var e=this;t=t||e.option("type"),e._rollerConfigs={},C.Z.getFormatParts(P.FORMATS_MAP[t]).forEach((function(t){e._createRollerConfig(t)}))},_createRollerConfig:function(t){for(var e=P.DATE_COMPONENTS_INFO[t],i=this._calculateRollerConfigValueRange(t),n=i.startValue,a=i.endValue,o=e.formatter,s=this._getCurrentDate(),r={type:t,setValue:e.setter,valueItems:[],displayItems:[],getIndex:function(t){return t[e.getter]()-n}},l=n;l<=a;l++)r.valueItems.push(l),r.displayItems.push(o(l,s));r.selectedIndex=r.getIndex(s),this._rollerConfigs[t]=r},_setActiveRoller:function(t){var e=t&&this._rollers[t.type];(0,I.S6)(this._rollers,(function(){this.toggleActiveState(this===e)}))},_updateRollersPosition:function(){var t=this;(0,I.S6)(this._rollers,(function(e){var i=t._rollerConfigs[e].getIndex(t._getCurrentDate());this.option("selectedIndex",i)}))},_setRollerState:function(t,e){if(e!==t.selectedIndex){var i=t.valueItems[e],n=t.setValue,a=new Date(this._getCurrentDate()),o=a.getDate(),s=this.option("minDate"),r=this.option("maxDate");t.type===be.month?o=Math.min(o,P.getMaxMonthDay(a.getFullYear(),i)):t.type===be.year&&(o=Math.min(o,P.getMaxMonthDay(i,a.getMonth()))),a.setDate(o),a[n](i);var l=T.Z.normalizeDate(a,s,r);a=P.mergeDates(l,a,"time"),a=T.Z.normalizeDate(a,s,r),this.option("value",a),t.selectedIndex=e}t.type===be.year&&this._refreshRollers(),t.type===be.month&&(this._refreshRoller(be.day),this._refreshRoller(be.hours))},_refreshRoller:function(t){var e=this._rollers[t];if(e){this._createRollerConfig(t);var i=this._rollerConfigs[t];t!==be.day&&i.displayItems.toString()===e.option("items").toString()||e.option({items:i.displayItems,selectedIndex:i.selectedIndex})}},_getCurrentDate:function(){var t=this._valueOption(),e=this.option("minDate"),i=this.option("maxDate");return T.Z.normalizeDate(t,e,i)},_calculateRollerConfigValueRange:function(t){var e=this._getCurrentDate(),i=this.option("minDate"),n=this.option("maxDate"),a=T.Z.sameYear(e,i),o=a&&e.getMonth()===i.getMonth(),s=T.Z.sameYear(e,n),r=s&&e.getMonth()===n.getMonth(),l=o&&e.getDate()===i.getDate(),u=r&&e.getDate()===n.getDate(),h=P.DATE_COMPONENTS_INFO[t],d=h.startValue,c=h.endValue;return t===be.year&&(d=i.getFullYear(),c=n.getFullYear()),t===be.month&&(a&&(d=i.getMonth()),s&&(c=n.getMonth())),t===be.day&&(c=P.getMaxMonthDay(e.getFullYear(),e.getMonth()),a&&o&&(d=i.getDate()),s&&r&&(c=n.getDate())),t===be.hours&&(d=l?i.getHours():d,c=u?n.getHours():c),{startValue:d,endValue:c}},_refreshRollers:function(){this._refreshRoller(be.month),this._refreshRoller(be.day),this._refreshRoller(be.hours)},_optionChanged:function(t){switch(t.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(t.value,t.previousValue);break;case"visible":this.callBase(t),t.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(t)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});(0,n.Z)("dxDateView",xe);var Ie=xe,De=(0,x.Jj)(),we=Yt.inherit({NAME:"DateView",getDefaultOptions:function(){return(0,r.l)(this.callBase(),{openOnFieldClick:!0,applyButtonText:H.Z.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(t){return t||P.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(t){var e=t.platform;return"generic"===e||"ios"===e},options:{width:"auto",height:"auto"}},{device:function(t){var e=t.platform,i=t.phone;return"generic"===e&&i},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:De}}}]}},_renderWidget:function(){if((0,w.inputType)(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var t=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var e=(0,k.Z)("<div>").appendTo(t.$content());this._widget=this._createWidget(e)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return Ie},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*P.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}}),Se=we,Be=i(33268),Te=Yt.inherit({NAME:"Native",popupConfig:function(t){return(0,r.l)({},t,{width:"auto"})},getParsedText:function(t){return t?"datetime"===this.dateBox.option("type")?new Date(t.replace(/-/g,"/").replace("T"," ").split(".")[0]):P.fromStandardDateFormat(t):null},renderPopupContent:d.ZT,_getWidgetName:d.ZT,_getWidgetOptions:d.ZT,_getDateBoxType:function(){var t=this.dateBox.option("type");return-1===(0,Be.d3)(t,P.SUPPORTED_FORMATS)?t="date":"datetime"!==t||(0,w.inputType)(t)||(t="datetime-local"),t},customizeButtons:function(){var t=this.dateBox.getButton("dropDown");S.Z.real().android&&t&&t.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(t){var e=this._getDateBoxType();return t||P.FORMATS_MAP[e]},renderInputMinMax:function(t){t.attr({min:Z.Z.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:Z.Z.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}}),Ve=Te,ke=i(596),Ze=i(38722),Ee=i(25361),Oe="dx-timeview",Me="dx-timeview-clock",Ae="dx-timeview-field",Fe="dx-timeview-hourarrow",$e="dx-timeview-time-separator",Re="dx-timeview-format12",Pe=-1,Le=1,He="dx-timeview-minutearrow",Ne=function(t,e,i){We(t,e,i)},We=function(t,e,i){t.css("transform","rotate("+e+"deg) translate(0,"+i+"px)")},ze=K.Z.inherit({_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass(Oe)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=(0,k.Z)("<div>").appendTo(this.$element()),e=[];this.option("_showClock")&&e.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),e.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(t,Ee.Z,{height:"100%",width:"100%",direction:"col",items:e})},_renderClock:function(t,e,i){this._$hourArrow=(0,k.Z)("<div>").addClass(Fe),this._$minuteArrow=(0,k.Z)("<div>").addClass(He);var n=(0,k.Z)(i);n.addClass(Me).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",n)},_updateClock:function(){var t=this._getValue(),e=t.getHours()/12*360+t.getMinutes()/60*30,i=t.getMinutes()/60*360;Ne(this._$hourArrow,e,this.option("_arrowOffset")),Ne(this._$minuteArrow,i,this.option("_arrowOffset"))},_getBoxItems:function(t){var e=this,i=[{ratio:0,shrink:0,baseSize:"auto",template:function(){return e._hourBox.$element()}},{ratio:0,shrink:0,baseSize:"auto",template:(0,k.Z)("<div>").addClass($e).text(C.Z.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:function(){return e._minuteBox.$element()}}];return t&&i.push({ratio:0,shrink:0,baseSize:"auto",template:function(){return e._format12.$element()}}),i},_renderField:function(){var t=!this.option("use24HourFormat");return this._createHourBox(t),this._createMinuteBox(),t&&this._createFormat12Box(),this._createComponent((0,k.Z)("<div>").addClass(Ae),Ee.Z,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(t)}).$element()},_createHourBox:function(t){var e=this,i=this._hourBox=this._createComponent((0,k.Z)("<div>"),ke.Z,(0,r.l)({min:-1,max:t?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:function(t){return e._keyboardHandler(t)}},this._getNumberBoxConfig()));i.setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&1===this._format12.option("value")},_onHourBoxValueChanged:function(t){var e=t.value,i=t.component,n=this._getValue(),a=new Date(n),o=this._convertMaxHourToMin(e);i.option("value",o),this._isPM()&&(o+=12),a.setHours(o),P.normalizeTime(a),this.option("value",a)},_convertMaxHourToMin:function(t){var e=this.option("use24HourFormat")?24:12;return(e+t)%e},_createMinuteBox:function(){var t=this,e=this._minuteBox=this._createComponent((0,k.Z)("<div>"),ke.Z,(0,r.l)({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:function(e){return t._keyboardHandler(e)},onValueChanged:function(e){var i=e.value,n=e.component,a=(60+i)%60;n.option("value",a);var o=new Date(t._getValue());o.setMinutes(a),P.normalizeTime(o),t.option("value",o)}},this._getNumberBoxConfig()));e.setAria("label","minutes")},_createFormat12Box:function(){var t=this,e=C.Z.getPeriodNames(),i=this._format12=this._createComponent((0,k.Z)("<div>").addClass(Re),Ze.Z,{items:[{value:Pe,text:e[0]},{value:Le,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:function(e){return t._keyboardHandler(e)},onValueChanged:function(e){var i=e.value,n=t._getValue().getHours(),a=new Date(t._getValue()),o=(n+12*i)%24;a.setHours(o),t.option("value",a)},value:this._getValue().getHours()>=12?Le:Pe,stylingMode:this.option("stylingMode")});i.setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var t=this._getValue(),e=t.getHours(),i=e>=12,n=i?Le:Pe;this._silentEditorValueUpdate(this._format12,n)}},_silentEditorValueUpdate:function(t,e){t&&(t._suppressValueChangeAction(),t.option("value",e),t._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(t){return(t<10?"0":"")+t},stylingMode:this.option("stylingMode")}},_normalizeHours:function(t){return this.option("use24HourFormat")?t:t%12||12},_updateField:function(){var t=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,t),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(t){t&&this._updateTime()},_optionChanged:function(t){switch(t.name){case"value":this._updateTime(),this.callBase(t);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(t)}}});(0,n.Z)("dxTimeView",ze);var Ke=ze,Ge=(0,x.Jj)(),qe=573,Ye="dx-datebox-adaptivity-mode",Ue="dx-datebox-datetime-time-side",je=jt.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return(0,r.l)(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return T.Z.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(t){return t||"shortdateshorttime"},_is24HourFormat:function(){return C.Z.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var t=this.callBase();return this._updateDateTime(t)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent((0,k.Z)("<div>"),Ke,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var t=this._getPopup();t&&t.$wrapper().toggleClass(Ye,this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var t=this._isShrinkView(),e=this._currentAdaptiveMode;return t!==e?(this._currentAdaptiveMode=t,void 0!==e):this.callBase()},_updateValue:function(t){var e=this.dateBoxValue();e||t||(e=new Date,P.normalizeTime(e)),this.callBase(),this._timeView&&(e&&this._timeView.option("value",e),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return(0,N.dz)(Ge)<=qe},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var t=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||t.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),t},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var t=this._getPopup().$content();this._box=this.dateBox._createComponent((0,k.Z)("<div>").appendTo(t),Ee.Z,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:function(t,e,i){var n=(0,k.Z)("<div>");switch(t.name){case"calendar":n.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(Ue),n.append(this._timeView.$element()));break;case"time":n.append(this._timeView.$element()),(0,k.Z)(i).addClass(Ue)}return n}.bind(this)}),this._attachTabHandler()},popupConfig:function(t){var e=this.callBase(t),i=(0,r.l)(e,{width:"auto",onShowing:function(){if("fallback"===this._box.option("_layoutStrategy")){var t=this._getPopup().$content().find(".dx-timeview-clock").css("minWidth");this._timeView.$element().css("maxWidth",t)}}.bind(this)});return i},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var t=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",(function(e){e.shiftKey&&(e.preventDefault(),t.focus())}))},_preventFocusOnPopup:function(t){(0,k.Z)(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(t){var e=this._timeView.option("value");return t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t},getValue:function(){var t,e=null!==(t=this._widget.option("value"))&&void 0!==t?t:this._widget.getContouredDate();return e=e?new Date(e):new Date,this._updateDateTime(e)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}}),Qe=je,Je=i(10648),Xe=(i(93232),i(98322)),ti=(0,x.Jj)(),ei="date",ii={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},ni=Yt.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var t=this.option(),e=t.opened,i=t.applyValueMode;e&&"instantly"===i&&this.close()},space:d.ZT,home:d.ZT,end:d.ZT}},getDefaultOptions:function(){return(0,r.l)(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(t){return t||"shorttime"},popupConfig:function(t){return t},getValue:function(){var t=this._widget.option("selectedIndex");if(-1===t)return this.dateBox.option("value");var e=this._widgetItems[t];return this._getDateByItemData(e)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return Je.Z},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(t){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",t.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var t=this.dateBoxValue(),e=this._getDateIndex(t);-1===e?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(t){for(var e=-1,i=0,n=this._widgetItems.length;i<n;i++)if(this._areDatesEqual(t,this._widgetItems[i])){e=i;break}return e},_areDatesEqual:function(t,e){return(0,o.J_)(t)&&(0,o.J_)(e)&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()},_getTimeListItems:function(){var t=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),i=this.dateBox.dateOption("value")||null,n=e-t,a=t.getMinutes()%this.dateBox.option("interval");return n<0?[]:(n>P.ONE_DAY&&(n=P.ONE_DAY),i-t<P.ONE_DAY||(t=this._getBoundaryDate("min"),t.setMinutes(a),i&&Math.abs(i-e)<P.ONE_DAY&&(n=(60*e.getHours()+Math.abs(e.getMinutes()-a))*P.ONE_MINUTE)),this._getRangeItems(t,new Date(t),n))},_getRangeItems:function(t,e,i){var n=[],a=this.dateBox.option("interval");while(e-t<=i)n.push(new Date(e)),e.setMinutes(e.getMinutes()+a);return n},_getBoundaryDate:function(t){var e=ii[t],i=new Date((0,d.IS)(this.dateBox.dateOption("value"),0));return new Date(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate:function(t){var e=this.dateBox.option("displayFormat");return C.Z.format(t,this.getDisplayFormat(e))},_listItemClickHandler:function(t){if("useButtons"!==this.dateBox.option("applyValueMode")){var e=this._getDateByItemData(t.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(e,t.event)}},_getDateByItemData:function(t){var e=this.dateBox.option("value"),i=t.getHours(),n=t.getMinutes(),a=t.getSeconds(),o=t.getFullYear(),s=t.getMonth(),r=t.getDate();return e?(e=this.dateBox.option("dateSerializationFormat")?Z.Z.deserializeDate(e):new Date(e),e.setHours(i),e.setMinutes(n),e.setSeconds(a),e.setFullYear(o),e.setMonth(s),e.setDate(r)):e=new Date(o,s,r,i,n,0,0),e},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var t=(0,Xe.T)(this.dateBox.option("dropDownOptions.height"));if(void 0===t||"auto"===t){this.dateBox._setPopupOption("height","auto");var e=(0,N.zp)(this._widget.$element()),i=.45*(0,N.Cr)(ti);this.dateBox._setPopupOption("height",Math.min(e,i))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(t,e){var i=this.callBase(t,e);return i&&(i=P.mergeDates(i,new Date(null),ei)),i}}),ai=ni,oi=(0,x.Jj)(),si="dx-datebox",ri="dx-auto-width",li="dx-show-invalid-badge",ui="dx-clear-button-area",hi="dx-datebox-wrapper",di="dx-dropdowneditor-overlay",ci={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},pi={date:"date",datetime:"datetime",time:"time"},_i={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},mi={Calendar:jt,DateView:Se,Native:Ve,CalendarWithTime:Qe,List:ai},fi=L.Z.inherit({_supportedKeys:function(){return(0,r.l)(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:ci.calendar,invalidDateMessage:H.Z.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:H.Z.format("validation-range"),applyButtonText:H.Z.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var t=S.Z.real(),e=t.platform;return"ios"===e||"android"===e},options:{pickerType:ci.native}},{device:function(t){var e=S.Z.real(),i=e.platform,n=e.version;return"generic"===i&&"desktop"!==t.deviceType||"android"===i&&(0,D.q)(n,[4,4])<0},options:{pickerType:ci.rollers}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(t){this._userOptions=(0,r.l)({},t),this.callBase(t),this._updatePickerOptions()},_updatePickerOptions:function(){var t=this.option("pickerType"),e=this.option("type");t!==ci.list||e!==pi.datetime&&e!==pi.date||(t=ci.calendar),e===pi.time&&t===ci.calendar&&(t=ci.list),this.option("showDropDownButton","generic"!==S.Z.real().platform||t!==ci.native),this._pickerType=t},_init:function(){this._initStrategy(),this.option((0,r.l)({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},_initStrategy:function(){var t=this._getStrategyName(this._getFormatType()),e=mi[t];this._strategy&&this._strategy.NAME===t||(this._strategy=new e(this))},_getFormatType:function(){var t=this.option("type"),e=/h|m|s/g.test(t),i=/d|M|Y/g.test(t),n="";return i&&(n+=pi.date),e&&(n+=pi.time),n},_getStrategyName:function(t){var e=this._pickerType;return e===ci.rollers?_i.dateView:e===ci.native?_i.native:t===pi.date?_i.calendar:t===pi.datetime?_i.calendarWithTime:_i.list},_initMarkup:function(){this.$element().addClass(si),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass(ri,!this.option("width")),this._dimensionChanged()},_dimensionChanged:function(){var t,e;(this.callBase(arguments),this._popup)&&(null===(t=(e=this._strategy)._updatePopupHeight)||void 0===t||t.call(e))},_refreshFormatClass:function(){var t=this.$element();(0,I.S6)(pi,(function(e,i){t.removeClass(si+"-"+i)})),t.addClass(si+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var t=this.$element();(0,I.S6)(ci,(function(e,i){t.removeClass(si+"-"+i)})),t.addClass(si+"-"+this._pickerType)},_formatValidationIcon:function(){if((0,x.Ym)()){var t=this._input().get(0),e=this.option("rtlEnabled"),i=this._getClearButtonWidth(),n=this._getLongestElementDimensions(),a=parseFloat(oi.getComputedStyle(t).width)-i,o=n.width>a,s=t.style;this.$element().toggleClass(li,!o),o?(void 0===this._storedPadding&&(this._storedPadding=e?n.leftPadding:n.rightPadding),e?s.paddingLeft=0:s.paddingRight=0):e?s.paddingLeft=this._storedPadding+"px":s.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var t=0;if(this._isClearButtonVisible()&&""===this._input().val()){var e=this.$element().find("."+ui).get(0);t=parseFloat(oi.getComputedStyle(e).width)}return t},_getLongestElementDimensions:function(){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=C.Z.format(P.getLongestDate(t,C.Z.getMonthNames(),C.Z.getDayNames()),t),i=this._input(),n=i.get(0),a=(0,s.l5)(i,e),o=void 0!==this._storedPadding,r=o?this._storedPadding:0;a.appendTo(this.$element());var l=parseFloat(oi.getComputedStyle(a.get(0)).width),u=parseFloat(oi.getComputedStyle(n).paddingRight),h=parseFloat(oi.getComputedStyle(n).paddingLeft),d=l+h+u+r;return a.remove(),{width:d,leftPadding:h,rightPadding:u}},_getKeyboardListeners:function(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(hi),this._renderPopupWrapper()},_popupConfig:function(){var t=this.callBase();return(0,r.l)(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.$element(),e=(0,r.l)({},pi,ci);(0,I.S6)(e,function(e,i){t.removeClass(hi+"-"+i)}.bind(this)),this._popup.$wrapper().addClass(hi+"-"+this.option("type")).addClass(hi+"-"+this._pickerType).addClass(di)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(t){t&&this._formatValidationIcon()},_clearValueHandler:function(t){this.option("text",""),this.callBase(t)},_readOnlyPropValue:function(){if(this._pickerType===ci.rollers)return!0;var t=S.Z.real().platform,e=this._isNativeType()&&("ios"===t||"android"===t);return e?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var t=this.dateOption("value");return this.option("text",this._getDisplayedText(t)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var t=this.dateOption("value"),e=this.option("dateSerializationFormat"),i=P.SUBMIT_FORMATS_MAP[this.option("type")],n=e?Z.Z.serializeDate(t,e):P.toStandardDateFormat(t,i);this._getSubmitElement().val(n)},_getDisplayedText:function(t){var e,i=this.option("mode");if("text"===i){var n=this._strategy.getDisplayFormat(this.option("displayFormat"));e=C.Z.format(t,n)}else{var a=this._getFormatByMode(i);e=a?C.Z.format(t,a):P.toStandardDateFormat(t,i)}return e},_getFormatByMode:function(t){return(0,w.inputType)(t)?null:P.FORMATS_MAP[t]},_valueChangeEventHandler:function(t){var e=this.option(),i=e.text,n=e.type,a=e.validationError,o=this.dateOption("value");if(i!==this._getDisplayedText(o)){var s=this._getParsedDate(i),r=null!==o&&void 0!==o?o:this._getDateByDefault(),l=P.mergeDates(r,s,n),u=s&&"time"===n?l:s;if(this._applyInternalValidation(u).isValid){var h=this._getDisplayedText(l);r&&l&&r.getTime()===l.getTime()&&h!==i?this._renderValue():this.dateValue(l,t)}}else a&&!a.editorSpecific||(this._applyInternalValidation(o),this._applyCustomValidation(o))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(t){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),i=this._strategy.getParsedText(t,e);return null!==i&&void 0!==i?i:void 0},_applyInternalValidation:function(t){var e=this.option("text"),i=!!e&&null!==t,n=!!t&&(0,o.J_)(t)&&!isNaN(t.getTime()),a=n&&T.Z.dateInRange(t,this.dateOption("min"),this.dateOption("max"),this.option("type")),s=!i&&!t||a,r="";return n?a||(r=this.option("dateOutOfRangeMessage")):r=this.option("invalidDateMessage"),this.option({isValid:s,validationError:s?null:{editorSpecific:!0,message:r}}),{isValid:s,isDate:n}},_applyCustomValidation:function(t){this.validationRequest.fire({editor:this,value:this._serializeDate(t)})},_isValueChanged:function(t){var e=this.dateOption("value"),i=e&&e.getTime(),n=t&&t.getTime();return i!==n},_isTextChanged:function(t){var e=this.option("text"),i=t&&this._getDisplayedText(t)||"";return e!==i},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var t=this.option("placeholder");if(t)return t;var e=this.option("type");return e===pi.time?H.Z.format("dxDateBox-simulatedDataPickerTitleTime"):e===pi.date||e===pi.datetime?H.Z.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(t){var e=this._strategy.getValue(),i=this._applyInternalValidation(e),n=i.isValid,a=i.isDate;if(n)this.dateValue(e,t.event);else if(a){var o=this._getDisplayedText(e);this.option("text",o),this._renderDisplayText(o)}this.callBase()},_dispose:function(){var t;this.callBase(),null===(t=this._strategy)||void 0===t||t.dispose()},_isNativeType:function(){return this._pickerType===ci.native},_updatePopupTitle:function(){var t;null===(t=this._popup)||void 0===t||t.option("title",this._getPopupTitle())},_optionChanged:function(t){switch(t.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:t.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:t.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(t.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var t=this.option("value");return this.option("dateSerializationFormat")&&(0,B.Z)().forceIsoDateParsing?this.option("dateSerializationFormat"):(0,o.kE)(t)?"number":(0,o.HD)(t)?Z.Z.getDateSerializationFormat(t):void 0},_updateValue:function(t){this.callBase(),this._applyInternalValidation(null!==t&&void 0!==t?t:this.dateOption("value"))},dateValue:function(t,e){var i=this._isValueChanged(t);return i&&e&&this._saveValueChangeEvent(e),i||(this._isTextChanged(t)?this._updateValue(t):""===this.option("text")&&this._applyCustomValidation(t)),this.dateOption("value",t)},dateOption:function(t,e){if(1===arguments.length)return Z.Z.deserializeDate(this.option(t));this.option(t,this._serializeDate(e))},_serializeDate:function(t){var e=this._getSerializationFormat();return Z.Z.serializeDate(t,e)},_clearValue:function(){var t=this.option("value");this.callBase(),null===t&&this._applyCustomValidation(null)},reset:function(){var t=this.option("value");this.callBase(),null===t&&this._applyInternalValidation(null)}}),vi=fi,gi=i(75513),yi=i(20613),Ci="dateBoxMask",bi=1,xi=-1,Ii=vi.inherit({_supportedKeys:function(t){var e=this,i=this.callBase(t),n=function(t){var n=i[(0,a.EV)(t)];return n&&n.apply(e,[t])},o=function(t,i){return e._shouldUseOriginalHandler(t)?n.apply(e,[t]):i.apply(e,[t])};return(0,r.l)({},i,{del:function(t){return o(t,(function(t){e._revertPart(bi),e._isAllSelected()||t.preventDefault()}))},backspace:function(t){return o(t,(function(t){e._revertPart(xi),e._isAllSelected()||t.preventDefault()}))},home:function(t){return o(t,(function(t){e._selectFirstPart(),t.preventDefault()}))},end:function(t){return o(t,(function(t){e._selectLastPart(),t.preventDefault()}))},escape:function(t){return o(t,(function(t){e._revertChanges(t)}))},enter:function(t){return o(t,(function(t){e._enterHandler(t)}))},leftArrow:function(t){return o(t,(function(t){e._selectNextPart(xi),t.preventDefault()}))},rightArrow:function(t){return o(t,(function(t){e._selectNextPart(bi),t.preventDefault()}))},upArrow:function(t){return o(t,(function(t){e._upDownArrowHandler(bi),t.preventDefault()}))},downArrow:function(t){return o(t,(function(t){e._upDownArrowHandler(xi),t.preventDefault()}))}})},_shouldUseOriginalHandler:function(t){var e=this.option("opened")&&t&&-1===["backspace","del"].indexOf((0,a.EV)(t));return!this._useMaskBehavior()||e||t&&t.altKey},_upDownArrowHandler:function(t){this._setNewDateIfEmpty();var e=this._getActivePartValue(this._initialMaskValue),i=this._getActivePartValue(),n=i-e;this._loadMaskValue(this._initialMaskValue),this._partIncrease(n+t,!0)},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey:function(t){var e=t.originalEvent,i=t.alt,n=e.data||e.key;return"string"===typeof n&&1===n.length&&!i&&!(0,a.j1)(e)},_isSingleDigitKey:function(t){var e,i=null===(e=t.originalEvent)||void 0===e?void 0:e.data;return 1===(null===i||void 0===i?void 0:i.length)&&parseInt(i,10)},_useBeforeInputEvent:function(){var t=S.Z.real();return t.android&&t.version[0]>4},_keyInputHandler:function(t,e){var i=this._input().val();this._processInputKey(e),t.preventDefault();var n=i!==this._input().val();n&&u.Z.trigger(this._input(),"input")},_keyboardHandler:function(t){var e=this,i=t.originalEvent.key,n=this.callBase(t);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(yi.Z.chrome&&"Process"===t.key&&0===t.code.indexOf("Digit")?(i=t.code.replace("Digit",""),this._processInputKey(i),this._maskInputHandler=function(){e._renderSelectedPart()}):this._isSingleCharKey(t)&&this._keyInputHandler(t.originalEvent,i)),n},_maskBeforeInputHandler:function(t){var e=this;this._maskInputHandler=null;var i=t.originalEvent.inputType;"insertCompositionText"===i&&(this._maskInputHandler=function(){e._renderSelectedPart()});var n="deleteContentBackward"===i,a="deleteContentForward"===i;if(n||a){var o=n?xi:bi;this._maskInputHandler=function(){e._revertPart(),e._selectNextPart(o)}}if(this._useMaskBehavior()&&this._isSingleCharKey(t)){var s=t.originalEvent.data;return this._keyInputHandler(t,s),!0}},_keyPressHandler:function(t){var e=t.originalEvent;"insertCompositionText"===(null===e||void 0===e?void 0:e.inputType)&&this._isSingleDigitKey(t)&&(this._processInputKey(e.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(t),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey:function(t){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(t))?this._searchString(t):this._searchNumber(t)},_isAllSelected:function(){var t=this._caret();return t.end-t.start===this.option("text").length},_getFormatPattern:function(){if(this._formatPattern)return this._formatPattern;var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=(0,o.HD)(t)&&!C.Z._getPatternByFormat(t);return this._formatPattern=e?t:(0,b.y)((function(e){return C.Z.format(e,t)})),this._formatPattern},_setNewDateIfEmpty:function(){if(!this._maskValue){var t="time"===this.option("type")?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}},_partLimitsReached:function(t){var e=String(t).length,i=this._getActivePartProp("pattern").length,n=1===i,a=n?e:Math.min(i,e),o=this._searchValue.length===a,s=parseInt(this._searchValue+"0")>t;return o||s},_searchNumber:function(t){var e=this._getActivePartLimits(),i=e.max,n=String(i).length;this._searchValue=(this._searchValue+t).substr(-n),isNaN(this._searchValue)&&(this._searchValue=t),this._setActivePartValue(this._searchValue),this._partLimitsReached(i)&&this._selectNextPart(bi)},_searchString:function(t){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var e=this._getActivePartProp("limits")(this._maskValue),i=this._searchValue+t.toLowerCase(),n=e.max-e.min,a=0;a<=n;a++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(a+1),0===this._getActivePartProp("text").toLowerCase().indexOf(i))return void(this._searchValue=i);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(t))}},_clearSearchValue:function(){this._searchValue=""},_revertPart:function(t){if(!this._isAllSelected()){var e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(t)}this._clearSearchValue()},_useMaskBehavior:function(){return this.option("useMaskBehavior")&&"text"===this.option("mode")},_prepareRegExpInfo:function(){this._regExpInfo=(0,h.oo)(this._getFormatPattern(),C.Z);var t=this._regExpInfo.regexp,e=t.source,i=t.flags,n=new RegExp(/(\{[0-9]+,?[0-9]*\})/),a=e.split(n).map((function(t){return n.test(t)?t:gi.Z.convertDigits(t,!1)})).join("");this._regExpInfo.regexp=new RegExp(a,i)},_initMaskState:function(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask:function(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts:function(){if(this._useMaskBehavior()){var t=this.option("text")||this._getDisplayedText(this._maskValue);t&&(this._dateParts=v(t,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents:function(){u.Z.off(this._input(),"."+Ci)},_attachMaskEvents:function(){var t=this;u.Z.on(this._input(),(0,a.V4)("dxclick",Ci),this._maskClickHandler.bind(this)),u.Z.on(this._input(),(0,a.V4)("paste",Ci),this._maskPasteHandler.bind(this)),u.Z.on(this._input(),(0,a.V4)("drop",Ci),(function(){t._renderSelectedPart()})),u.Z.on(this._input(),(0,a.V4)("compositionend",Ci),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&u.Z.on(this._input(),(0,a.V4)("beforeinput",Ci),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart:function(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart:function(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(xi))},_selectFirstPart:function(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(bi))},_onMouseWheel:function(t){this._useMaskBehavior()&&this._partIncrease(t.delta>0?bi:xi,t)},_selectNextPart:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.option("text")&&!this._disposed){t&&(this._initialMaskValue=new Date(this._maskValue));var e=(0,l.n$)(this._activePartIndex+t,0,this._dateParts.length-1);if(this._dateParts[e].isStub){var i=0===e&&t<0||e===this._dateParts.length-1&&t>0;if(!i)return void this._selectNextPart(t>=0?t+1:t-1);e=this._activePartIndex}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern:function(){if("d"===this._getActivePartProp("pattern")[0])return"dM"},_getActivePartLimits:function(t){var e=this._getActivePartProp("limits");return e(this._maskValue,t&&this._getRealLimitsPattern())},_getActivePartValue:function(t){t=t||this._maskValue;var e=this._getActivePartProp("getter");return(0,o.mf)(e)?e(t):t[e]()},_addLeadingZeroes:function(t){var e=this._searchValue.match(/^0+/),i=this._getActivePartLimits(),n=String(i.max).length;return((e&&e[0]||"")+String(t)).substr(-n)},_setActivePartValue:function(t,e){e=e||this._maskValue;var i=this._getActivePartProp("setter"),n=this._getActivePartLimits();t=(0,l.Z2)(t,n.min,n.max)?t:t%10,t=this._addLeadingZeroes((0,l.n$)(t,n.min,n.max)),(0,o.mf)(i)?i(e,t):e[i](t),this._renderDisplayText(this._getDisplayedText(e)),this._renderDateParts()},_getActivePartProp:function(t){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][t]},_loadMaskValue:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=t&&new Date(t),this._initialMaskValue=t&&new Date(t)},_saveMaskValue:function(){var t=this._maskValue&&new Date(this._maskValue);t&&"date"===this.option("type")&&t.setHours(0,0,0,0),this._initialMaskValue=new Date(t),this.dateOption("value",t)},_revertChanges:function(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText:function(t){this.callBase(t),this._useMaskBehavior()&&this.option("text",t)},_partIncrease:function(t,e){this._setNewDateIfEmpty();var i=this._getActivePartLimits(e),n=i.max,a=i.min,o=n-a;1===o&&o++;var s=t+this._getActivePartValue();s>n?s=this._applyLimits(s,{limitBase:a,limitClosest:n,limitDelta:o}):s<a&&(s=this._applyLimits(s,{limitBase:n,limitClosest:a,limitDelta:o})),this._setActivePartValue(s)},_applyLimits:function(t,e){var i=e.limitBase,n=e.limitClosest,a=e.limitDelta,o=(t-n)%a;return o?i+o-1*(0,l.Xx)(o):n},_maskClickHandler:function(){this.option("text")&&(this._activePartIndex=y(this._dateParts,this._caret().start),this._isAllSelected()||((0,o.$K)(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler:function(t){var e=this;this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=function(){e._renderSelectedPart()}},_maskPasteHandler:function(t){var e=this._replaceSelectedText(this.option("text"),this._caret(),(0,s.Zx)(t)),i=C.Z.parse(e,this._getFormatPattern());i&&this._isDateValid(i)&&(this._maskValue=i,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),t.preventDefault()},_isDateValid:function(t){return(0,o.J_)(t)&&!isNaN(t)},_isValueDirty:function(){var t=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(t&&t.getTime())},_fireChangeEvent:function(){this._clearSearchValue(),this._isValueDirty()&&u.Z.trigger(this._input(),"change")},_enterHandler:function(t){this._fireChangeEvent(),this._selectNextPart(bi),t.preventDefault()},_focusOutHandler:function(t){var e=this._useMaskBehavior()&&!t.isDefaultPrevented();e?(this._fireChangeEvent(),this.callBase(t),this._selectFirstPart(t)):this.callBase(t)},_valueChangeEventHandler:function(t){var e=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(t),e?null===this._maskValue&&this._loadMaskValue(e):this._maskValue=null,this._saveMaskValue()):this.callBase(t)},_optionChanged:function(t){switch(t.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(t),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(t),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(t)}},_clearMaskState:function(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset:function(){this.callBase(),this._clearMaskState(),this._activePartIndex=0},_clean:function(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}}),Di=Ii;(0,n.Z)("dxDateBox",Di)},73103:function(t,e,i){i.d(e,{Z:function(){return U}});i(92222),i(69826),i(41539),i(52262),i(24506),i(47941),i(68309);var n=i(40555),a=i(50337),o=i(97814),s=i(61025),r=i(38218),l=i(25623),u=i(69598),h=i(29532),d=i(43908),c=i(17437),p=i(71923),_=i(99053),m=i(10217),f=i(76133),v=i(92751),g=i(50460),y=i(87349),C=i(99418),b=i(6812),x=i(946),I=i(23001),D=i(80880),w="dx-dropdowneditor-button",S="dx-dropdowneditor-button-visible",B="dxDropDownEditor-selectLabel",T=function(t){(0,C.Z)(i,t);var e=(0,b.Z)(i);function i(t,n,a){var o;return(0,f.Z)(this,i),o=e.call(this,t,n,a),o.currentTemplate=null,o}return(0,v.Z)(i,[{key:"_attachEvents",value:function(t){var e=this.editor;t.option("onClick",(function(t){!e.option("openOnFieldClick")&&e._openHandler(t)})),a.Z.on(t.$element(),"mousedown",(function(t){e.$element().is(".dx-state-focused")&&t.preventDefault()}))}},{key:"_create",value:function(){var t=this.editor,e=(0,n.Z)("<div>"),i=this._getOptions();this._addToContainer(e);var a=t._createComponent(e,D["default"],(0,d.l)({},i,{elementAttr:{"aria-label":x.Z.format(B)}}));return this._legacyRender(t.$element(),e,i.visible),{$element:e,instance:a}}},{key:"_getOptions",value:function(){var t=this.editor,e=this._isVisible(),i=t.option("readOnly"),n={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:i,visible:e};return this._addTemplate(n),n}},{key:"_isVisible",value:function(){var t=this.editor;return(0,g.Z)((0,y.Z)(i.prototype),"_isVisible",this).call(this)&&t.option("showDropDownButton")}},{key:"_legacyRender",value:function(t,e,i){t.toggleClass(S,i),e&&e.removeClass("dx-button").addClass(w)}},{key:"_isSameTemplate",value:function(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}},{key:"_addTemplate",value:function(t){this._isSameTemplate()||(t.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}},{key:"update",value:function(){var t=(0,g.Z)((0,y.Z)(i.prototype),"update",this).call(this);if(t){var e=this.editor,n=this.instance,a=e.$element(),o=this._getOptions();null===n||void 0===n||n.option(o),this._legacyRender(a,null===n||void 0===n?void 0:n.$element(),o.visible)}}}]),i}(I.Z),V=i(51085),k=i(31925),Z=i(88791),E=i(4872),O=i(75395),M=i(27328),A=i(76236),F=i(42632),$=i(98322),R=i(24935),P="dx-dropdowneditor",L="dx-dropdowneditor-input-wrapper",H="dx-dropdowneditor-icon",N="dx-dropdowneditor-overlay",W="dx-dropdowneditor-overlay-flipped",z="dx-dropdowneditor-active",K="dx-dropdowneditor-field-clickable",G="dx-dropdowneditor-field-template-wrapper",q="ios"===O.Z.current().platform,Y=Z.Z.inherit({_supportedKeys:function(){return(0,d.l)({},this.callBase(),{tab:function(t){if(this.option("opened"))if("instantly"!==this.option("applyValueMode")){var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&a.Z.trigger(e,"focus"),t.preventDefault()}else this.close()},escape:function(t){return this.option("opened")&&t.preventDefault(),this.close(),!0},upArrow:function(t){return!(!(0,k.j1)(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey))||(this.close(),!1)},downArrow:function(t){return!(!(0,k.j1)(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey))||(this._validatedOpening(),!1)},enter:function(t){return this.option("opened")&&(t.preventDefault(),this._valueChangeEventHandler(t)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:T}])},_getDefaultOptions:function(){return(0,d.l)(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:x.Z.format("OK"),cancelButtonText:x.Z.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(t){var e=(0,m.q)(t);return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){var e="generic"===t.platform;return e},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+L).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(t){var e=this._getDefaultPopupPosition(t),i=e.my,n=e.at,a=this.option("popupPosition");this.option("popupPosition",(0,d.l)({},a,{my:i,at:n}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(P),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner((0,n.Z)("<div>").addClass(L)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())},_renderPlaceholder:function(){var t=!!this._getFieldTemplate();t||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();var t=this.callBase();t.always(this._renderField.bind(this))},_renderTemplatedField:function(t,e){var i=this,o=(0,l.si)(this._input()),s=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),s.empty();var r=(0,n.Z)("<div>").addClass(G).appendTo(s);t.render({model:e,container:(0,c.u)(r),onRendered:function(){var t=i._input();if(!t.length)throw p.Z.Error("E1010");i._integrateInput(),o&&a.Z.trigger(t,"focus")}}),this._attachWrapperContent(s)},_detachWrapperContent:function(){var t,e,i,n=this.option("useHiddenSubmitElement");n&&(null===(t=this._$submitElement)||void 0===t||t.detach());var a=null===(e=this._$beforeButtonsContainer)||void 0===e?void 0:e[0].parentNode,o=null===(i=this._$afterButtonsContainer)||void 0===i?void 0:i[0].parentNode;null===a||void 0===a||a.removeChild(this._$beforeButtonsContainer[0]),null===o||void 0===o||o.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent:function(t){var e,i=this.option("useHiddenSubmitElement");t.prepend(this._$beforeButtonsContainer),i&&(null===(e=this._$submitElement)||void 0===e||e.appendTo(t)),t.append(this._$afterButtonsContainer)},_refreshButtonsContainer:function(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){a.Z.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new M.k((function(t){var e=(0,n.Z)("<div>").addClass(H);(0,n.Z)(t.container).append(e)}))}),this.callBase()},_renderOpenHandler:function(){var t=this._inputWrapper(),e=(0,k.V4)(E.u,this.NAME),i=this.option("openOnFieldClick");a.Z.off(t,e),a.Z.on(t,e,this._getInputClickHandler(i)),this.$element().toggleClass(K,i),i&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){var t=this;q&&(this._detachFocusOutEvents(),a.Z.on(this._inputWrapper(),(0,k.V4)("focusout",this.NAME),(function(e){var i=e.relatedTarget,a=t.content?(0,n.Z)(t.content()).closest("."+N):t._$popup;if(i&&t.option("opened")){var o=0===(0,n.Z)(i).closest("."+N,a).length;o&&t.close()}})))},_detachFocusOutEvents:function(){q&&a.Z.off(this._inputWrapper(),(0,k.V4)("focusout",this.NAME))},_getInputClickHandler:function(t){var e=this;return t?function(t){e._executeOpenAction(t)}:function(t){e._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(t){this._openOnFieldClickAction({event:t})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return!this.option("disabled")&&(this.option("focusStateEnabled")&&!(0,l.si)(this._input())&&(this._resetCaretPosition(),a.Z.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._input().get(0);if(e){var i=e.value,n=(0,h.$K)(i)&&(t||this._isEditable())?i.length:0;this._caret({start:n,end:n},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(t){this._focusInput()&&(this.option("readOnly")||(t=arguments.length?t:!this.option("opened"),this.option("opened",t)))},_renderOpenedState:function(){var t=this.option("opened");t&&this._createPopup(),this.$element().toggleClass(z,t),this._setPopupOption("visible",t),this.setAria({expanded:t}),this.setAria("owns",t?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=(0,n.Z)("<div>").addClass(N).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:r.ZT,_renderPopup:function(){var t=(0,d.l)(this._popupConfig(),this._options.cache("dropDownOptions"));this._popup=this._createComponent(this._$popup,A.Z,t),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId:function(t){this._popupContentId="dx-"+new o.Z,this.setAria("id",this._popupContentId,t)},_contentReadyHandler:r.ZT,_popupConfig:function(){var t=this;return{onInitialized:this._popupInitializedHandler(),position:(0,d.l)(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:function(){return(0,$.m)(t.$element())},height:"auto",shading:!1,wrapperAttr:{class:N},hideOnParentScroll:!0,closeOnOutsideClick:this._closeOutsideDropDownHandler.bind(this),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null}},_popupInitializedHandler:function(){var t=this;return this.option("onPopupInitialized")?function(e){t._popupInitializedAction({popup:e.component})}:null},_dimensionChanged:function(){var t=this,e=(0,$.T)(this.option("dropDownOptions.width"));void 0===e&&this._setPopupOption("width",(function(){return(0,$.m)(t.$element())}))},_popupPositionedHandler:function(t){t.position&&this._popup.$overlayContent().toggleClass(W,t.position.v.flip)},_popupShowingHandler:r.ZT,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var t;this._openAction();var e=this._popup.$overlayContent(),i=(0,R.jt)(e);if(this._label.isVisible()&&e.hasClass(W)){var n=this._label.$element();(0,R.pB)(e,{top:i.top-parseInt(n.css("fontSize"))})}null===(t=this._validationMessage)||void 0===t||t.option("positionRequest",this._getValidationMessagePositionRequest())},_popupHiddenHandler:function(){var t;this._closeAction(),null===(t=this._validationMessage)||void 0===t||t.option("positionRequest",this._getValidationMessagePositionRequest())},_getValidationMessagePositionRequest:function(){var t="below";if(this._popup&&this._popup.option("visible")){var e=_.Z.setup(this.$element()),i=e.top,n=_.Z.setup(this._popup.$content()),a=n.top;t=i+this.option("popupPosition").offset.v>a?"below":"above"}return t},_closeOutsideDropDownHandler:function(t){var e=t.target,i=(0,n.Z)(e),a=this.getButton("dropDown"),o=a&&a.$element(),s=!!i.closest(this.$element()).length,r=!!i.closest(o).length,l=!s&&!r;return l},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return"useButtons"===this.option("applyValueMode")?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(t){var e=(0,n.Z)(t.currentTarget);(t.shiftKey&&e.is(this._getFirstPopupElement())||!t.shiftKey&&e.is(this._getLastPopupElement()))&&(a.Z.trigger(this._input(),"focus"),t.preventDefault())},_popupElementEscHandler:function(){a.Z.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(t){t.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),t.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var t=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var e=this.option("buttonsLocation"),i=t;if("default"!==e){var n=(0,r.Um)(e);(0,u.S6)(i,(function(t,e){(0,d.l)(e,{toolbar:n[0],location:n[1]})}))}return i},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(t){var e=V.Z.getOptionsFromContainer(t);this._setPopupOption(e);var i=Object.keys(e);-1===i.indexOf("width")&&-1===i.indexOf("height")||this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=(0,n.Z)("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(t){var e;switch(t.name){case"width":case"height":this.callBase(t),null===(e=this._popup)||void 0===e||e.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":(0,h.$K)(t.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(t),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":(0,F.Ym)()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(t.value),this.callBase(t);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return(0,c.u)(this._input())},content:function(){return this._popup?this._popup.content():null}});(0,s.Z)("dxDropDownEditor",Y);var U=Y},98322:function(t,e,i){i.d(e,{T:function(){return s},m:function(){return o}});var n=i(8767),a=i(42632),o=function(t){if((0,a.Ym)())return(0,n.Y_)(t)},s=function(t){return null===t&&(t=void 0),"function"===typeof t&&(t=t()),t}},31289:function(t,e,i){i.r(e),i.d(e,{default:function(){return ln}});var n=i(68932),a=(i(92222),i(69826),i(41539),i(54747),i(68309),i(74916),i(23123),i(64765),i(15306),i(69600),i(47042),i(6885)),o=i(40555),s=i(50337),r=i(61025),l=i(97814),u=i(38218),h=i(37226),d=i(29532),c=i(69598),p=i(33268),_=i(43908),m=i(90417),f=i(17437),v=i(946),g=i(51085),y=i(47767),C=i(42632),b=i(75266),x=i(76133),I=i(92751),D=(i(47941),i(57327),function(){function t(){(0,x.Z)(this,t),this._map={}}return(0,I.Z)(t,[{key:"_findWidgetInstance",value:function(t){var e;return(0,c.S6)(this._map,(function(i,n){var a=n.widgetInstance,o=n.item;if(t(o))return e=a,!1})),e}},{key:"_findFieldByCondition",value:function(t,e){var i;return(0,c.S6)(this._map,(function(n,a){if(t(a))return i="guid"===e?n:a[e],!1})),i}},{key:"clear",value:function(){this._map={}}},{key:"removeItemsByItems",value:function(t){var e=this;(0,c.S6)(t.getItems(),(function(t){return e.removeItemByKey(t)}))}},{key:"removeItemByKey",value:function(t){delete this._map[t]}},{key:"add",value:function(t){var e=t.guid||new l.Z;return this._map[e]=t,e}},{key:"addItemsOrExtendFrom",value:function(t){var e=this;t.each((function(t,i){e._map[t]?(i.widgetInstance&&(e._map[t].widgetInstance=i.widgetInstance),e._map[t].$itemContainer=i.$itemContainer):e.add({item:i.item,widgetInstance:i.widgetInstance,guid:t,$itemContainer:i.$itemContainer})}))}},{key:"extendRunTimeItemInfoByKey",value:function(t,e){this._map[t]&&(this._map[t]=(0,_.l)(this._map[t],e))}},{key:"findWidgetInstanceByItem",value:function(t){return this._findWidgetInstance((function(e){return e===t}))}},{key:"findGroupOrTabLayoutManagerByPath",value:function(t){return this._findFieldByCondition((function(e){var i=e.path;return i===t}),"layoutManager")}},{key:"findKeyByPath",value:function(t){return this._findFieldByCondition((function(e){var i=e.path;return i===t}),"guid")}},{key:"findWidgetInstanceByName",value:function(t){return this._findWidgetInstance((function(e){return t===e.name}))}},{key:"findWidgetInstanceByDataField",value:function(t){return this._findWidgetInstance((function(e){return t===((0,d.HD)(e)?e:e.dataField)}))}},{key:"findItemContainerByItem",value:function(t){for(var e in this._map)if(this._map[e].item===t)return this._map[e].$itemContainer;return null}},{key:"findItemIndexByItem",value:function(t){return this._findFieldByCondition((function(e){var i=e.item;return i===t}),"itemIndex")}},{key:"findPreparedItemByItem",value:function(t){return this._findFieldByCondition((function(e){var i=e.item;return i===t}),"preparedItem")}},{key:"getItems",value:function(){return this._map}},{key:"each",value:function(t){(0,c.S6)(this._map,(function(e,i){t(e,i)}))}},{key:"removeItemsByPathStartWith",value:function(t){var e=this,i=Object.keys(this._map),n=i.filter((function(i){return!!e._map[i].path&&e._map[i].path.indexOf(t,0)>-1}));n.forEach((function(t){return e.removeItemByKey(t)}))}}]),t}()),w=i(8767),S=i(44133),B=i(75395),T=i(90170),V=(i(40561),i(24935)),k=i(39598),Z={move:function(t,e){(0,V.pB)(t,{left:e})}},E={moveTo:function(t,e,i,n){k.Z.animate(t,{type:"slide",to:{left:e},duration:i,complete:n})},complete:function(t){k.Z.stop(t,!0)}},O=i(23737),M=i(85038),A=i(79754),F=i(57566),$="dx-multiview",R="dx-multiview-wrapper",P="dx-multiview-item-container",L="dx-multiview-item",H="dx-multiview-item-hidden",N="dxMultiViewItemData",W=200,z=function(t){return+t},K=function(t){return(0,V.jt)(t).left},G=M.Z.inherit({_activeStateUnit:"."+L,_supportedKeys:function(){return(0,_.l)(this.callBase(),{pageUp:u.ZT,pageDown:u.ZT})},_getDefaultOptions:function(){return(0,_.l)(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===B.Z.real().deviceType&&!B.Z.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return L},_itemDataKey:function(){return N},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=(0,w.dz)(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(t){var e=this._itemsCount();return t<0&&(t+=e),t>=e&&(t-=e),t},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var t=this.$element();t.addClass($),this._$wrapper=(0,o.Z)("<div>").addClass(R),this._$wrapper.appendTo(t),this._$itemContainer=(0,o.Z)("<div>").addClass(P),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_afterItemElementDeleted:function(t,e){this.callBase(t,e),this._deferredItems&&this._deferredItems.splice(e.itemIndex,1)},_beforeItemElementInserted:function(t){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(t.index,0,null)},_executeItemRenderAction:function(t,e,i){t=(this.option("items")||[]).indexOf(e),this.callBase(t,e,i)},_renderItemContent:function(t){var e=new F.BH,i=this,n=this.callBase,a=new F.BH;return a.done((function(){var a=n.call(i,t);e.resolve(a)})),this._deferredItems[t.index]=a,this.option("deferRendering")||a.resolve(),e.promise()},_render:function(){var t=this;this.callBase(),(0,u.g0)((function(){var e=t._getSelectedItemIndices();t._updateItems(e[0])}))},_updateItems:function(t,e){this._updateItemsPosition(t,e),this._updateItemsVisibility(t,e)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_updateItemsPosition:function(t,e){var i=this._itemElements(),n=(0,d.$K)(e)?-this._animationDirection(e,t):void 0,a=i.eq(t);Z.move(a,0),(0,d.$K)(e)&&Z.move(i.eq(e),100*n+"%")},_updateItemsVisibility:function(t,e){var i=this._itemElements();i.each(function(i,n){var a=(0,o.Z)(n),s=i!==t&&i!==e;s||this._renderSpecificItem(i),a.toggleClass(H,s),this.setAria("hidden",s||void 0,a)}.bind(this))},_renderSpecificItem:function(t){var e=this._itemElements().eq(t),i=e.find(this._itemContentClass()).length>0;(0,d.$K)(t)&&!i&&(this._deferredItems[t].resolve(),(0,m.U_)(e))},_refreshItem:function(t,e){this.callBase(t,e),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelected:u.ZT,_updateSelection:function(t,e){var i=t[0],n=e[0];E.complete(this._$itemContainer),this._updateItems(n,i);var a=this._animationDirection(i,n);this._animateItemContainer(a*this._itemWidth(),function(){Z.move(this._$itemContainer,0),this._updateItems(i),(0,w.dz)(this._$itemContainer)}.bind(this))},_animateItemContainer:function(t,e){var i=this.option("animationEnabled")?W:0;E.moveTo(this._$itemContainer,t,i,e)},_animationDirection:function(t,e){var i=K(this._$itemContainer),n=(e-t)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),a=0!==i,o=a?i:n;return(0,O.Xx)(o)},_getSwipeDisabledState:function(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable:function(){var t=this;this._createComponent(this.$element(),A.Z,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:function(e){return t._swipeStartHandler(e.event)},onUpdated:function(e){return t._swipeUpdateHandler(e.event)},onEnd:function(e){return t._swipeEndHandler(e.event)}})},_swipeStartHandler:function(t){E.complete(this._$itemContainer);var e=this.option("selectedIndex"),i=this.option("loop"),n=this._itemsCount()-1,a=this.option("rtlEnabled");t.maxLeftOffset=z(i||(a?e>0:e<n)),t.maxRightOffset=z(i||(a?e<n:e>0)),this._swipeDirection=null},_swipeUpdateHandler:function(t){var e=t.offset,i=(0,O.Xx)(e)*this._getRTLSignCorrection();if(Z.move(this._$itemContainer,e*this._itemWidth()),i!==this._swipeDirection){this._swipeDirection=i;var n=this.option("selectedIndex"),a=this._normalizeIndex(n-i);this._updateItems(n,a)}},_swipeEndHandler:function(t){var e=t.targetOffset*this._getRTLSignCorrection();if(e){this.option("selectedIndex",this._normalizeIndex(this.option("selectedIndex")-e));var i=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",(0,f.u)(i))}else this._animateItemContainer(0,u.ZT)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.last()),e},_nextItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.first()),e},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(t){t&&this._dimensionChanged()},_updateSwipeDisabledState:function(){var t=this._getSwipeDisabledState();A.Z.getInstance(this.$element()).option("disabled",t)},_optionChanged:function(t){var e=t.value;switch(t.name){case"loop":this.option("loopItemFocus",e);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this.callBase(t);break;default:this.callBase(t)}}});(0,r.Z)("dxMultiView",G);var q=G,Y=i(80880),U=i(99299),j=i(31925),Q=i(459),J=i(60492),X="dx-tabs-item-badge",tt="dx-badge",et=J.Z.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(t){if(this._$element.children("."+tt).remove(),t){var e=(0,o.Z)("<div>").addClass(X).addClass(tt).text(t);this._$element.append(e)}}}),it=et,nt="dx-tabs-expanded",at=i(19868),ot=i(14286),st=i(12969),rt=i(19223),lt=i(91599);function ut(t){return t.scrollWidth-t.clientWidth}i(821);function ht(t,e){return Math.round(t)<=e}function dt(t,e,i){return Math.round(ut(t)-e)<=i}var ct="dx-tabs",pt="dx-tabs-wrapper",_t="dx-tabs-stretched",mt="dx-tabs-scrollable",ft="dx-tabs-nav-buttons",vt="dx-overflow-hidden",gt="dx-tab",yt="dx-tab-selected",Ct="dx-tabs-nav-button",bt="dx-tabs-nav-button-left",xt="dx-tabs-nav-button-right",It="dx-tab-text",Dt="dxTabData",wt="chevronnext",St="chevronprev",Bt=100,Tt=5,Vt=300,kt=30,Zt=M.Z.inherit({_activeStateUnit:"."+gt,_getDefaultOptions:function(){return(0,_.l)(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(t){return t?t.badge:void 0},_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){var t=(0,at.Vk)();return this.callBase().concat([{device:function(){return"desktop"!==B.Z.real().deviceType},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return"desktop"===B.Z.real().deviceType&&!B.Z.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return(0,at.x2)(t)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass(ct),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=Bt},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new lt.c(function(t,e){(0,d.PO)(e)?this._prepareDefaultItemTemplate(e,t):t.text(String(e));var i=(0,rt.H)(e.icon);i&&i.prependTo(t),t.wrapInner((0,o.Z)("<span>").addClass(It))}.bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(t,e){var i=this,n=e.itemData,a=e.container,o=e.index;return this._deferredTemplates[o]=new F.BH,t.render({model:n,container:a,index:o,onRendered:function(){return i._deferredTemplates[o].resolve()}})},_itemClass:function(){return gt},_selectedItemClass:function(){return yt},_itemDataKey:function(){return Dt},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass(vt)},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling:function(){var t=this;F.gx.apply(this,this._deferredTemplates).done((function(){return t._renderScrolling()}))},_renderScrolling:function(){var t=[_t,nt,vt];if(this.$element().removeClass(t.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var e=this.getScrollable();if(e.update(),this.option("rtlEnabled")){var i=ut((0,o.Z)(this.getScrollable().container()).get(0));e.scrollTo({left:i})}this._updateNavButtonsVisibility(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass(_t),this.$element().removeClass(ft).addClass(nt))},_isItemsWidthExceeded:function(){var t=this._getSummaryItemsWidth(this._getVisibleItems(),!0);return t-1>(0,w.dz)(this.$element())},_needStretchItems:function(){var t=this._getVisibleItems(),e=(0,w.dz)(this.$element()),i=[];(0,c.S6)(t,(function(t,e){i.push((0,w.Y_)(e,!0))}));var n=Math.max.apply(null,i);return n>e/t.length},_cleanNavButtons:function(){this._leftButton&&this._rightButton&&(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=(0,U.sY)()},_toggleActiveState:function(t,e,i){if(this.callBase.apply(this,arguments),this._inkRipple){var n={element:t,event:i};e?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}},_renderMultiple:function(){"multiple"===this.option("selectionMode")&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=(0,o.Z)("<div>").addClass(pt),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var t=this,e=this.$element().wrapInner((0,o.Z)("<div>").addClass(mt)).children();this._scrollable=this._createComponent(e,st.Z,{direction:"horizontal",showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:function(){t._updateNavButtonsVisibility()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(t){if(this._scrollable){var e=this._editStrategy.getItemElement(t);this._scrollable.scrollToElement(e)}},_renderNavButtons:function(){if(this.$element().toggleClass(ft,this.option("showNavButtons")),this.option("showNavButtons")){var t=this.option("rtlEnabled");this._leftButton=this._createNavButton(-kt,t?wt:St);var e=this._leftButton.$element();e.addClass(bt),this.$element().prepend(e),this._rightButton=this._createNavButton(kt,t?St:wt);var i=this._rightButton.$element();i.addClass(xt),this.$element().append(i)}},_updateNavButtonsVisibility:function(){var t=this.getScrollable();this._leftButton&&this._leftButton.option("disabled",ht(t.scrollLeft(),1)),this._rightButton&&this._rightButton.option("disabled",dt((0,o.Z)(t.container()).get(0),t.scrollLeft(),1))},_updateScrollPosition:function(t,e){this._scrollable.update(),this._scrollable.scrollBy(t/e)},_createNavButton:function(t,e){var i=this,n=i._createAction((function(){i._holdInterval=setInterval((function(){i._updateScrollPosition(t,Tt)}),Tt)})),a=(0,j.V4)(ot.Z.name,"dxNavButton"),r=(0,j.V4)(Q.Z.up,"dxNavButton"),l=(0,j.V4)(Q.Z.out,"dxNavButton"),u=this._createComponent((0,o.Z)("<div>").addClass(Ct),Y["default"],{focusStateEnabled:!1,icon:e,onClick:function(){i._updateScrollPosition(t,1)},integrationOptions:{}}),h=u.$element();return s.Z.on(h,a,{timeout:Vt},function(t){n({event:t})}.bind(this)),s.Z.on(h,r,(function(){i._clearInterval()})),s.Z.on(h,l,(function(){i._clearInterval()})),u},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(t){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(t[0]),{left:1,right:1})},_visibilityChanged:function(t){t&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(t){"single"===this.option("selectionMode")&&this.isItemSelected(t.currentTarget)||this.callBase(t)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_optionChanged:function(t){switch(t.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(t.name,t.value);break;case"width":this.callBase(t),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(t);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_afterItemElementInserted:function(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted:function(t,e){this.callBase(t,e),this._renderScrolling()},getScrollable:function(){return this._scrollable}});Zt.ItemClass=it,(0,r.Z)("dxTabs",Zt);var Et=Zt,Ot=i(50460),Mt=i(87349),At=i(99418),Ft=i(6812),$t=function(t){(0,At.Z)(i,t);var e=(0,Ft.Z)(i);function i(){return(0,x.Z)(this,i),e.apply(this,arguments)}return(0,I.Z)(i,[{key:"_renderWatchers",value:function(){return this._startWatcher("badge",u.ZT),(0,Ot.Z)((0,Mt.Z)(i.prototype),"_renderWatchers",this).call(this)}}]),i}(J.Z),Rt="dx-tabpanel",Pt="dx-tabpanel-tabs",Lt="dx-tabpanel-container",Ht="dx-tab-text",Nt=q.inherit({_getDefaultOptions:function(){return(0,_.l)(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===B.Z.real().deviceType&&!B.Z.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!S.touch},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass(Rt),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new lt.c((function(t,e){if((0,d.PO)(e)){var i=(0,rt.H)(e.icon);i&&t.append(i),(0,d.$K)(e.title)&&!(0,d.PO)(e.title)&&t.append(T["default"].createTextNode(e.title))}else(0,d.$K)(e)&&t.text(String(e));t.wrapInner((0,o.Z)("<span>").addClass(Ht))}),["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var t=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout((function(){t._updateLayout()}),0))},_renderLayout:function(){if(this._tabs)this._updateLayout();else{var t=this.$element();this._$tabContainer=(0,o.Z)("<div>").addClass(Pt).appendTo(t);var e=(0,o.Z)("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(e,Et,this._tabConfig()),this._$container=(0,o.Z)("<div>").addClass(Lt).appendTo(t),this._$container.append(this._$wrapper),this._updateLayout()}},_updateLayout:function(){if((0,C.Ym)()){var t=(0,w.zp)(this._$tabContainer);this._$container.css({marginTop:-t,paddingTop:t})}},_refreshActiveDescendant:function(){if(this._tabs){var t=this._tabs,e=t.itemElements(),i=(0,o.Z)(e[t.option("selectedIndex")]),n=this.getFocusedItemId();this.setAria("controls",void 0,(0,o.Z)(e)),this.setAria("controls",n,i)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:function(t){this.option("selectedIndex",t.component.option("selectedIndex")),this._refreshActiveDescendant()}.bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:function(t){if("focusedElement"===t.name)if(t.value){var e=(0,o.Z)(t.value),i=this._itemElements().eq(e.index());this.option("focusedElement",(0,f.u)(i))}else this.option("focusedElement",t.value)}.bind(this),onFocusIn:function(t){this._focusInHandler(t.event)}.bind(this),onFocusOut:function(t){this._isFocusOutHandlerExecuting||this._focusOutHandler(t.event)}.bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_updateFocusState:function(t,e){this.callBase(t,e),t.target===this._tabs._focusTarget().get(0)&&this._toggleFocusClass(e,this._focusTarget())},_focusOutHandler:function(t){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(t),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(t,e){this._tabs&&this._tabs.option(t,e)},_visibilityChanged:function(t){t&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(t,e){this.callBase(t,e),this._tabs&&this._tabs.registerKeyHandler(t,e)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(t){var e=t.name,i=t.value,n=t.fullName;switch(e){case"dataSource":this.callBase(t);break;case"items":this._setTabsOption(e,this.option(e)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(t);break;case"width":this.callBase(t),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(n,i),this.callBase(t),!0===this.option("focusStateEnabled")){var a=this.option("selectedIndex"),s=this._itemElements().eq(a);this.option("focusedElement",(0,f.u)(s))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(n,i),this.callBase(t);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(n,i);break;case"focusedElement":var r=i?(0,o.Z)(i).index():i,l=i?this._tabs._itemElements().eq(r):i;this._setTabsOption("focusedElement",(0,f.u)(l)),this.callBase(t);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",i);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});Nt.ItemClass=$t,(0,r.Z)("dxTabPanel",Nt);var Wt=Nt,zt=i(71177),Kt=function(){function t(e){(0,x.Z)(this,t),this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}return(0,I.Z)(t,[{key:"findInstance",value:function(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}},{key:"findItemContainer",value:function(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}},{key:"findPreparedItem",value:function(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}},{key:"tryExecute",value:function(){zt.Z.abstract()}}]),t}(),Gt=i(11229),qt=function(t,e){return"".concat(e?"tabs":"items","[").concat(t,"]")},Yt=function(t,e){return(0,d.$K)(t)&&(0,d.$K)(e)?"".concat(t,".").concat(e):t||e},Ut=function(t){return t?t.replace(/\s/g,""):void 0},jt=function(t,e){return!!t&&(t.dataField===e||t.name===e||Ut(t.title)===e||"group"===t.itemType&&Ut(t.caption)===e)},Qt=function(t,e){return"".concat(t,".").concat(e)},Jt=function(t){var e=t.split(".");return e[e.length-1].replace(/\[\d+]/,"")},Xt=function(t){for(var e=t.split("."),i=(0,n.Z)(e),a=e.length-1;a>=0;a--){if(te(e[a]))return i.join(".");i.splice(a,1)}return""},te=function(t){return t.indexOf("tabs")>-1},ee=function t(e,i,n){var a=e.indexOf(i);if(a>-1)return qt(a,n);for(var o=0;o<e.length;o++){var s=e[o],r=s.tabs||s.items;if(r){var l=t(r,i,s.tabs);if(l)return Yt(qt(o,n),l)}}};function ie(t){var e=t.form,i=t.$formElement,n=t.formOptions,a=t.items,o=t.validationGroup,s=t.extendedLayoutManagerOptions,r=t.onFieldDataChanged,l=t.onContentReady,u=t.onDisposing,h=t.onFieldItemRendered,d={form:e,items:a,$formElement:i,validationGroup:o,onFieldDataChanged:r,onContentReady:l,onDisposing:u,onFieldItemRendered:h,validationBoundary:n.scrollingEnabled?i:void 0,scrollingEnabled:n.scrollingEnabled,showRequiredMark:n.showRequiredMark,showOptionalMark:n.showOptionalMark,requiredMark:n.requiredMark,optionalMark:n.optionalMark,requiredMessage:n.requiredMessage,screenByWidth:n.screenByWidth,layoutData:n.formData,labelLocation:n.labelLocation,customizeItem:n.customizeItem,minColWidth:n.minColWidth,showColonAfterLabel:n.showColonAfterLabel,onEditorEnterKey:n.onEditorEnterKey,labelMode:n.labelMode},c=(0,_.l)(d,{isRoot:s.isRoot,colCount:s.colCount,alignItemLabels:s.alignItemLabels,cssItemClass:s.cssItemClass,colCountByScreen:s.colCountByScreen,onLayoutChanged:s.onLayoutChanged,width:s.width});return c}var ne=function(t){(0,At.Z)(i,t);var e=(0,Ft.Z)(i);function i(){return(0,x.Z)(this,i),e.apply(this,arguments)}return(0,I.Z)(i,[{key:"tryExecute",value:function(){var t=this._options.value,e=this.findInstance();return!!e&&(e.option(t),!0)}}]),i}(Kt),ae=function(t){(0,At.Z)(i,t);var e=(0,Ft.Z)(i);function i(){return(0,x.Z)(this,i),e.apply(this,arguments)}return(0,I.Z)(i,[{key:"tryExecute",value:function(){var t=this.findInstance();if(t){var e=this._options,i=e.optionName,n=e.item,a=e.value,o=this._itemsRunTimeInfo.findItemIndexByItem(n);if(o>=0)return t.option(Qt("items[".concat(o,"]"),i),a),!0}return!1}}]),i}(Kt),oe=function(t){(0,At.Z)(i,t);var e=(0,Ft.Z)(i);function i(){return(0,x.Z)(this,i),e.apply(this,arguments)}return(0,I.Z)(i,[{key:"tryExecute",value:function(){var t=this.findPreparedItem();return!(null==t||!t._prepareGroupItemTemplate||!t._renderGroupContentTemplate)&&(t._prepareGroupItemTemplate(this._options.item.template),t._renderGroupContentTemplate(),!0)}}]),i}(Kt),se=function(t){(0,At.Z)(i,t);var e=(0,Ft.Z)(i);function i(){return(0,x.Z)(this,i),e.apply(this,arguments)}return(0,I.Z)(i,[{key:"tryExecute",value:function(){var t=this.findInstance();if(t){var e=this._options.value;return t.option("dataSource",e),!0}return!1}}]),i}(Kt),re=function(t){(0,At.Z)(i,t);var e=(0,Ft.Z)(i);function i(){return(0,x.Z)(this,i),e.apply(this,arguments)}return(0,I.Z)(i,[{key:"tryExecute",value:function(){var t=this._options.item,e=this.findInstance(),i=e&&(0,Gt.aT)(e.$element()[0],"dxValidator");if(i&&t){var n=function(t){return"required"===t.type},a=(i.option("validationRules")||[]).some(n),o=(t.validationRules||[]).some(n);if(!a&&!o||a&&o)return i.option("validationRules",t.validationRules),!0}return!1}}]),i}(Kt),le=function(t){(0,At.Z)(i,t);var e=(0,Ft.Z)(i);function i(){return(0,x.Z)(this,i),e.apply(this,arguments)}return(0,I.Z)(i,[{key:"tryExecute",value:function(){var t=this.findItemContainer(),e=this._options,i=e.previousValue,n=e.value;return!!t&&(t.removeClass(i).addClass(n),!0)}}]),i}(Kt),ue=function(t,e){var i;switch(t){case"editorOptions":case"buttonOptions":return new ne(e);case"validationRules":return new re(e);case"cssClass":return new le(e);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new ae((0,_.l)(e,{optionName:t}));case"tabs":return new se(e);case"template":return"group"===(null===(i=e.item)||void 0===i?void 0:i.itemType)?new oe(e):new ae((0,_.l)(e,{optionName:t}));default:return null}},he=ue,de=i(9726),ce=(i(2707),i(36210),i(83959)),pe=i(30943),_e=i(86930),me=i(80928),fe=(i(77601),i(24603),i(28450),i(88386),i(39714),i(71923)),ve=i(25361),ge=i(94212),ye=(0,C.Jj)(),Ce="dx-responsivebox",be=Ce+"-screen-",xe="dx-box-item",Ie="dxBoxItemData",De=1920,we=ge.Z.inherit({_getDefaultOptions:function(){return(0,_.l)(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0,_layoutStrategy:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",C.$n),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return xe},_itemDataKey:function(){return Ie},_initMarkup:function(){this.callBase(),this.$element().addClass(Ce),this._updateRootBox()},_updateRootBox:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout(function(){this._$root&&s.Z.triggerHandler(this._$root,"dxupdate")}.bind(this))},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(t){var e=this._findItemElementByItem(t);e.length&&(this._refreshItem(e,t),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var t=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(be+t),this.option("currentScreenFactor",t)},_removeScreenSizeClass:function(){var t=this.option("currentScreenFactor");t&&this.$element().removeClass(be+t)},_prepareGrid:function(){var t=this._grid=[];this._prepareRowsAndCols(),(0,c.S6)(this._rows,function(){var e=[];t.push(e),(0,c.S6)(this._cols,function(){e.push(this._createEmptyCell())}.bind(this))}.bind(this))},getSingleColumnRows:function(){var t=this.option("rows"),e=this._screenItems.length;if(t.length){for(var i=this._filterByScreen(t),n=[],a=0;a<e;a++){var o=this._defaultSizeConfig();a<i.length&&(0,d.$K)(i[a].shrink)&&(o.shrink=i[a].shrink),n.push(o)}return n}return this._defaultSizeConfig(e)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort((function(t,e){return t.location.row-e.location.row||t.location.col-e.location.col})),(0,c.S6)(this._screenItems,(function(t,e){(0,_.l)(e.location,{row:t,col:0,rowspan:1,colspan:1})}))},_sizesByScreen:function(t){return(0,c.UI)(this._filterByScreen(t),function(t){return(0,_.l)(this._defaultSizeConfig(),t)}.bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(t){var e=this._createDefaultSizeConfig();if(!arguments.length)return e;for(var i=[],n=0;n<t;n++)i.push(e);return i},_filterByScreen:function(t){var e=this._screenRegExp();return(0,u.h3)(t,(function(t){return!t.screen||e.test(t.screen)}))},_screenRegExp:function(){var t=this._getCurrentScreen();return new RegExp("(^|\\s)"+t+"($|\\s)","i")},_getCurrentScreen:function(){var t=this._screenWidth();return this.option("screenByWidth")(t)},_screenWidth:function(){return(0,C.Ym)()?(0,w.dz)(ye):De},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){(0,c.S6)(this._screenItems,function(t,e){var i=e.location||{},n=i.col,a=i.row,o=this._grid[a],s=o&&o[n];this._occupyCells(s,e)}.bind(this))},_itemsByScreen:function(){var t=this;return this.option("items").reduce((function(e,i){var n=i.location||{};return n=(0,d.PO)(n)?[n]:n,t._filterByScreen(n).forEach((function(t){e.push({item:i,location:(0,_.l)({rowspan:1,colspan:1},t)})})),e}),[])},_occupyCells:function(t,e){t&&!this._isItemCellOccupied(t,e)&&((0,_.l)(t,e),this._markSpanningCell(t))},_isItemCellOccupied:function(t,e){if(!(0,d.Qr)(t.item))return!0;var i=!1;return this._loopOverSpanning(e.location,(function(t){i=i||!(0,d.Qr)(t.item)})),i},_loopOverSpanning:function(t,e){var i=t.row+t.rowspan-1,n=t.col+t.colspan-1,a=Math.min(i,this._rows.length-1),o=Math.min(n,this._cols.length-1);t.rowspan-=i-a,t.colspan-=n-o;for(var s=t.row;s<=a;s++)for(var r=t.col;r<=o;r++)s===t.row&&r===t.col||e(this._grid[s][r])},_markSpanningCell:function(t){this._loopOverSpanning(t.location,(function(e){(0,_.l)(e,{item:t.item,spanningCell:t})}))},_linkNodeToItem:function(){(0,c.S6)(this._itemElements(),(function(t,e){var i=(0,o.Z)(e),n=i.data(Ie);n.box||(n.node=i.children())}))},_layoutItems:function(){var t=this._grid.length,e=t&&this._grid[0].length;if(t||e){var i=this._layoutBlock({direction:"col",row:{start:0,end:t-1},col:{start:0,end:e-1}}),n=this._prepareBoxConfig(i.box||{direction:"row",items:[(0,_.l)(i,{ratio:1})]});(0,_.l)(n,this._rootBoxConfig(n.items)),this._$root=(0,o.Z)("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,ve.Z,n)}},_rootBoxConfig:function(t){var e=(0,c.S6)(t,function(t,e){this._needApplyAutoBaseSize(e)&&(0,_.l)(e,{baseSize:"auto"})}.bind(this));return(0,_.l)({width:"100%",height:"100%",items:e,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")},{_layoutStrategy:this.option("_layoutStrategy")})},_needApplyAutoBaseSize:function(t){return!t.baseSize&&(!t.minSize||"auto"===t.minSize)&&(!t.maxSize||"auto"===t.maxSize)},_prepareBoxConfig:function(t){return(0,_.l)(t||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(t){return this._isSingleItem(t)?this._itemByCell(t.row.start,t.col.start):this._layoutDirection(t)},_isSingleItem:function(t){var e=this._grid[t.row.start][t.col.start].location,i=t.row.end-t.row.start===e.rowspan-1,n=t.col.end-t.col.start===e.colspan-1;return i&&n},_itemByCell:function(t,e){var i=this._grid[t][e];return i.spanningCell?null:i.item},_layoutDirection:function(t){var e,i=[],n=t.direction,a=this._crossDirection(n);while(e=this._nextBlock(t)){if(this._isBlockIndivisible(t.prevBlockOptions,e))throw fe.Z.Error("E1025");var o=this._layoutBlock({direction:a,row:e.row,col:e.col,prevBlockOptions:t});o&&((0,_.l)(o,this._blockSize(e,a)),i.push(o)),t[a].start=e[a].end+1}return{box:this._prepareBoxConfig({direction:n,items:i})}},_isBlockIndivisible:function(t,e){return t&&t.col.start===e.col.start&&t.col.end===e.col.end&&t.row.start===e.row.start&&t.row.end===e.row.end},_crossDirection:function(t){return"col"===t?"row":"col"},_nextBlock:function(t){var e=t.direction,i=this._crossDirection(e),n=t[e].start,a=t[e].end,o=t[i].start;if(o>t[i].end)return null;for(var s=1,r=o;r<o+s;r++){for(var l=1,u=n;u<=a;u++){var h=this._cellByDirection(e,u,r);l=Math.max(l,h.location[i+"span"])}var d=r+l,c=o+s;d>c&&(s+=d-c)}var p={};return p[e]={start:n,end:a},p[i]={start:o,end:o+s-1},p},_cellByDirection:function(t,e,i){return"col"===t?this._grid[i][e]:this._grid[e][i]},_blockSize:function(t,e){for(var i="row"===e?"auto":0,n="row"===e?this._rows:this._cols,a=(0,_.l)(this._createDefaultSizeConfig(),{ratio:0}),o=t[e].start;o<=t[e].end;o++){var s=n[o];a.ratio+=s.ratio,a.baseSize+=s.baseSize,a.minSize+=s.minSize,a.maxSize+=s.maxSize,(0,d.$K)(s.shrink)&&(a.shrink=s.shrink)}return a.minSize=a.minSize?a.minSize:i,a.maxSize=a.maxSize?a.maxSize:"auto",this._isSingleColumnScreen()&&(a.baseSize="auto"),a},_update:function(t){var e=this._$root;this._renderItems(),e&&(t?e.remove():(e.detach(),this._saveAssistantRoot(e))),this._layoutChangedAction(),this._updateRootBox()},_saveAssistantRoot:function(t){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(t)},_dispose:function(){clearTimeout(this._updateTimer),this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&(0,c.S6)(this._assistantRoots,(function(t,e){(0,o.Z)(e).remove()}))},_clearItemNodeTemplates:function(){(0,c.S6)(this.option("items"),(function(){delete this.node}))},_toggleVisibility:function(t){this.callBase(t),t&&this._updateRootBox()},_attachClickEvent:u.ZT,_optionChanged:function(t){switch(t.name){case"rows":case"cols":case"screenByWidth":case"_layoutStrategy":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(t),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(t);break;case"currentScreenFactor":break;default:this.callBase(t)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});(0,r.Z)("dxResponsiveBox",we);var Se=we,Be="dx-widget",Te="dx-form",Ve="dx-form-group",ke="dx-form-group-caption",Ze="dx-col-",Ee="dx-field-item",Oe="dx-layout-manager-one-col",Me="dx-field-item-label-content",Ae="dx-layout-manager",Fe="dx-field-item-label",$e="dx-field-item-content",Re="dx-single-column-item-content",Pe="dx-root-simple-item",Le="dx-form-group-content",He="dx-field-item-has-group",Ne="dx-field-item-has-tabs",We="dx-form-group-with-caption",ze="dx-field-item-tab",Ke="dx-group-colcount-",Ge="group-col-count",qe="dx-form-validation-summary",Ye="dx-form-styling-mode-underlined",Ue="simple",je=(i(88791),i(596),i(37180),i(86254),i(4872)),Qe=i(22195),Je=i(46412),Xe=i(17053),ti=i(58980),ei=["dxTagBox","dxRangeSlider"],ii=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function ni(t){var e=t.$parent,i=t.rootElementCssClassList,n=t.formOrLayoutManager,a=t.createComponentCallback,o=t.useFlexLayout,s=t.item,r=t.template,u=t.name,h=t.formLabelLocation,c=t.requiredMessageTemplate,_=t.validationGroup,m=t.editorValue,f=t.canAssignUndefinedValueToEditor,v=t.editorValidationBoundary,g=t.editorStylingMode,y=t.showColonAfterLabel,C=t.managerLabelLocation,b=t.itemId,x=t.managerMarkOptions,I=t.labelMode,D=(0,d.$K)(s.isRequired)?s.isRequired:!!ri(s.validationRules),w=s.itemType===Ue,S=s.helpText?"dx-"+new l.Z:null,B=li({item:s,id:b,isRequired:D,managerMarkOptions:x,showColonAfterLabel:y,labelLocation:C,formLabelMode:I}),T=B.visible&&B.text,V=B.location,k=B.labelID,Z="top"!==V&&(!!s.helpText&&!o||-1!==(0,p.d3)(s.editorType,["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"])),E=si({editorType:s.editorType,editorValue:m,defaultEditorName:s.dataField,canAssignUndefinedValueToEditor:f,externalEditorOptions:s.editorOptions,editorInputId:b,editorValidationBoundary:v,editorStylingMode:g,formLabelMode:I,labelText:B.textWithoutColon,labelMark:B.markOptions.showRequiredMark?String.fromCharCode(160)+B.markOptions.requiredMark:""}),O=B.markOptions.showOptionalMark&&!B.visible&&"hidden"!==E.labelMode&&!(0,d.$K)(s.helpText),M=O?B.markOptions.optionalMark:s.helpText;return{$parent:e,rootElementCssClassList:i,formOrLayoutManager:n,createComponentCallback:a,useFlexLayout:o,labelOptions:B,labelNeedBaselineAlign:Z,labelLocation:V,needRenderLabel:T,item:s,isSimpleItem:w,isRequired:D,template:r,helpID:S,labelID:k,name:u,helpText:M,formLabelLocation:h,requiredMessageTemplate:c,validationGroup:_,editorOptions:E}}function ai(t){var e=t.showRequiredMark,i=t.requiredMark,n=t.showOptionalMark,a=t.optionalMark;return e||n?String.fromCharCode(160)+(e?i:a):""}function oi(t,e){var i=t.showRequiredMark,n=t.requiredMark,a=t.showOptionalMark,o=t.optionalMark;return{showRequiredMark:i&&e,requiredMark:n,showOptionalMark:a&&!e,optionalMark:o}}function si(t){var e=t.editorType,i=t.defaultEditorName,n=t.editorValue,a=t.canAssignUndefinedValueToEditor,o=t.externalEditorOptions,s=t.editorInputId,r=t.editorValidationBoundary,l=t.editorStylingMode,u=t.formLabelMode,h=t.labelText,c=t.labelMark,p={};(void 0!==n||a)&&(p.value=n),-1!==ei.indexOf(e)&&(p.value=p.value||[]);var m=null===o||void 0===o?void 0:o.labelMode;(0,d.$K)(m)||(m="outside"===u?"hidden":u);var f=(null===o||void 0===o?void 0:o.stylingMode)||l,v=(0,_.l)(!0,p,o,{inputAttr:{id:s},validationBoundary:r,stylingMode:f,label:h,labelMode:m,labelMark:c});return o&&(v.dataSource&&(v.dataSource=o.dataSource),v.items&&(v.items=o.items)),i&&!v.name&&(v.name=i),v}function ri(t){var e;return t&&t.length&&(0,c.S6)(t,(function(t,i){if("required"===i.type)return e=!0,!1})),e}function li(t){var e=t.item,i=t.id,n=t.isRequired,a=t.managerMarkOptions,o=t.showColonAfterLabel,s=t.labelLocation,r=t.formLabelMode,u=-1!==(0,p.d3)(e.editorType,ii),h=(0,_.l)({showColon:o,location:s,id:i,visible:"outside"===r||u&&"hidden"!==r,isRequired:n},e?e.label:{},{markOptions:oi(a,n)});return-1!==(0,p.d3)(e.editorType,["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor"])&&(h.labelID="dx-label-".concat(new l.Z)),!h.text&&e.dataField&&(h.text=(0,Qe.GK)(e.dataField)),h.text&&(h.textWithoutColon=h.text,h.text+=h.showColon?":":""),h}var ui=["$FIELD_ITEM_LABEL_CONTENT_CLASS"],hi="dx-layout-manager-hidden-label",di="dx-field-item-required-mark",ci="dx-field-item-label-location-",pi="dx-field-item-optional-mark",_i="dx-field-item-label-text";function mi(t){var e=t.text,i=t.id,n=t.location,a=t.alignment,s=t.labelID,r=void 0===s?null:s,l=t.markOptions,u=void 0===l?{}:l;return!(0,d.$K)(e)||e.length<=0?null:(0,o.Z)("<label>").addClass(Fe+" "+ci+n).attr("for",i).attr("id",r).css("textAlign",a).append((0,o.Z)("<span>").addClass(Me).append((0,o.Z)("<span>").addClass(_i).text(e),fi(u)))}function fi(t){var e=ai(t);return""===e?null:(0,o.Z)("<span>").addClass(t.showRequiredMark?di:pi).text(e)}function vi(t,e,i){var n,a,o="".concat(e," > .").concat(Fe,":not(.").concat(ci,"top) > .").concat(Me),s=t.find(o),r=s.length,l=0;for(a=0;a<r;a++)n=gi({$FIELD_ITEM_LABEL_CONTENT_CLASS:s[a],location:"left",markOptions:i}),n>l&&(l=n);for(a=0;a<r;a++)s[a].style.width=l+"px"}function gi(t){var e=t.$FIELD_ITEM_LABEL_CONTENT_CLASS,i=(0,ti.Z)(t,ui),n=(0,o.Z)("<div>").addClass(Be).addClass(hi).appendTo("body");i.text=" ";var a=mi(i).appendTo(n),s=a.find("."+_i)[0];s.innerHTML=yi(e);var r=s.offsetWidth;return n.remove(),r}function yi(t){var e,i,n=t.children.length,a="";for(i=0;i<n;i++)e=t.children[i],a+=(0,Je.xb)(e.innerText)?e.innerHTML:e.innerText;return a}var Ci="dx-flex-layout",bi="dx-field-item-optional",xi="dx-field-item-required",Ii="dx-field-item-content-wrapper",Di="dx-field-item-content-location-",wi="dx-field-item-label-align",Si="dx-field-item-help-text",Bi="dx-label-v-align",Ti="dx-label-h-align",Vi="dx-template-wrapper",ki="dx-invalid";function Zi(t){var e=t.$parent,i=t.rootElementCssClassList,n=t.formOrLayoutManager,a=t.createComponentCallback,r=t.useFlexLayout,l=t.labelOptions,u=t.labelNeedBaselineAlign,h=t.labelLocation,d=t.needRenderLabel,c=t.formLabelLocation,p=t.item,_=t.editorOptions,m=t.isSimpleItem,v=t.isRequired,g=t.template,y=t.helpID,C=t.labelID,b=t.name,x=t.helpText,I=t.requiredMessageTemplate,D=t.validationGroup,w=(0,o.Z)("<div>").addClass(i.join(" ")).appendTo(e);w.addClass(v?xi:bi),m&&r&&w.addClass(Ci),m&&u&&w.addClass(wi);var S=(0,o.Z)("<div>");S.data("dx-form-item",p),S.addClass($e).addClass(Di+{right:"left",left:"right",top:"bottom"}[c]);var B,T=d?mi(l):null;if(T?(w.append(T),"top"!==h&&"left"!==h||w.append(S),"right"===h&&w.prepend(S),"top"===h?w.addClass(Bi):w.addClass(Ti),"dxCheckBox"!==p.editorType&&"dxSwitch"!==p.editorType||s.Z.on(T,je.u,(function(){s.Z.trigger(S.children(),je.u)}))):w.append(S),g)g.render({container:(0,f.u)(S),model:{dataField:p.dataField,editorType:p.editorType,editorOptions:_,component:n,name:p.name}});else{var V=(0,o.Z)("<div>").appendTo(S);try{B=a(V,p.editorType,_),B.setAria("describedby",y),C&&B.setAria("labelledby",C),B.setAria("required",v)}catch(H){fe.Z.log("E1035",H.message)}}var k=S.children().first(),Z=k.hasClass(Vi)?k.children().first():k,E=Z&&Z.data("dx-validation-target");if(E){var O,M=p.label&&p.label.text,A=M?null:b,F=M?p.label.text:A&&(0,Qe.GK)(A);if(m)if(p.validationRules)O=p.validationRules;else{var $=(0,Je.WU)(I,F||"");O=p.isRequired?[{type:"required",message:$}]:null}if(Array.isArray(O)&&O.length&&a(Z,Xe.Z,{validationRules:O,validationGroup:D,dataGetter:function(){return{formItem:p}}}),(0,at.x2)()){var R="."+Ii,P=function(t){(0,o.Z)(t.element).parents(R).toggleClass(ki,!1===t.component.option("isValid")&&(t.component._isFocused()||"always"===t.component.option("validationMessageMode")))};E.on("optionChanged",(function(t){"isValid"===t.name&&P(t)})),E.on("focusIn",P).on("focusOut",P).on("enterKey",P)}}if(x&&m){var L=S.parent();L.append((0,o.Z)("<div>").addClass(Ii).append(S).append((0,o.Z)("<div>").addClass(Si).attr("id",y).text(x)))}return{$fieldEditorContainer:S,$rootElement:w,widgetInstance:B}}var Ei="dx-field-button-item";function Oi(t){var e=t.item,i=t.$parent,n=t.rootElementCssClassList,a=t.validationGroup,s=t.createComponentCallback,r=(0,o.Z)("<div>").appendTo(i).addClass(n.join(" ")).addClass(Ei).css("textAlign",Mi(e.horizontalAlignment));i.css("justifyContent",Ai(e.verticalAlignment));var l=(0,o.Z)("<div>").appendTo(r);return{$rootElement:r,buttonInstance:s(l,"dxButton",(0,_.l)({validationGroup:a},e.buttonOptions))}}function Mi(t){return(0,d.$K)(t)?t:"right"}function Ai(t){switch(t){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}var Fi="dx-field-empty-item";function $i(t){var e=t.$parent,i=t.rootElementCssClassList;return(0,o.Z)("<div>").addClass(Fi).html("&nbsp;").addClass(i.join(" ")).appendTo(e)}var Ri="dxTextBox",Pi="dx-first-row",Li="dx-last-row",Hi="dx-first-col",Ni="dx-last-col",Wi="flex",zi="fallback",Ki=g.Z.inherit({_getDefaultOptions:function(){return(0,_.l)(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:v.Z.format("dxForm-optionalMark"),requiredMessage:v.Z.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),(0,_.l)(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var t=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new D,this._updateReferencedOptions(t),this._initDataAndItems(t)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(t){this._syncDataWithItems(),this._updateItems(t)},_syncDataWithItems:function(){var t=this,e=this.option("layoutData"),i=this.option("items");(0,d.$K)(i)&&i.forEach((function(i){var n;i.dataField&&void 0===t._getDataByField(i.dataField)&&(i.editorOptions&&(n=i.editorOptions.value),((0,d.$K)(n)||i.dataField in e)&&t._updateFieldValue(i.dataField,n))}))},_getDataByField:function(t){return t?this.option("layoutData."+t):null},_isCheckboxUndefinedStateEnabled:function(t){var e=t.allowIndeterminateState,i=t.editorType,a=t.dataField;if(!0===e&&"dxCheckBox"===i){var o=["layoutData"].concat((0,n.Z)(a.split("."))),s=o.pop(),r=this.option(o.join("."));return r&&s in r}return!1},_updateFieldValue:function(t,e){var i=this.option("layoutData"),n=e;!ce.Z.isWrapped(i[t])&&(0,d.$K)(t)?this.option("layoutData."+t,n):ce.Z.isWritableWrapped(i[t])&&(n=(0,d.mf)(n)?n():n,i[t](n)),this._triggerOnFieldDataChanged({dataField:t,value:n})},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_updateItems:function(t){var e=this,i=this.option("items"),n=(0,d.$K)(i),a=e.option("customizeItem"),o=n?i:this._generateItemsByData(t);if((0,d.$K)(o)){var s=[];(0,c.S6)(o,(function(t,i){e._isAcceptableItem(i)&&(i=e._processItem(i),a&&a(i),(0,d.Kn)(i)&&!1!==ce.Z.unwrap(i.visible)&&s.push(i))})),e._itemWatchers.length&&n||e._updateItemWatchers(o),this._setItems(s),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach((function(t){t()})),this._itemWatchers=[]},_updateItemWatchers:function(t){var e=this,i=e._getWatch();t.forEach((function(t){(0,d.Kn)(t)&&(0,d.$K)(t.visible)&&(0,d.mf)(i)&&e._itemWatchers.push(i((function(){return ce.Z.unwrap(t.visible)}),(function(){e._updateItems(e.option("layoutData")),e.repaint()}),{skipImmediate:!0}))}))},_generateItemsByData:function(t){var e=[];return(0,d.$K)(t)&&(0,c.S6)(t,(function(t){e.push({dataField:t})})),e},_isAcceptableItem:function(t){var e=t.dataField||t,i=this._getDataByField(e);return!((0,d.mf)(i)&&!ce.Z.isWrapped(i))},_processItem:function(t){if("string"===typeof t&&(t={dataField:t}),"object"!==(0,de.Z)(t)||t.itemType||(t.itemType=Ue),!(0,d.$K)(t.editorType)&&(0,d.$K)(t.dataField)){var e=this._getDataByField(t.dataField);t.editorType=(0,d.$K)(e)?this._getEditorTypeByDataType((0,d.dt)(e)):Ri}var i;"dxCheckBox"===t.editorType&&(t.allowIndeterminateState=null===(i=t.allowIndeterminateState)||void 0===i||i);return t},_getEditorTypeByDataType:function(t){switch(t){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){(0,p.Sq)(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort((function(t,e){var i,n=t.visibleIndex,a=e.visibleIndex;return i=n>a?1:n<a?-1:0,i}))},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass(Ae),this.callBase(),this._renderResponsiveBox()},_hasBrowserFlex:function(){return(0,me.Hj)(Wi)===Wi},_renderResponsiveBox:function(){var t=[];if(this._items&&this._items.length){var e=this._getColCount(),i=(0,o.Z)("<div>").appendTo(this.$element());this._prepareItemsWithMerging(e);var n=this._generateLayoutItems();this._responsiveBox=this._createComponent(i,Se,this._getResponsiveBoxConfig(n,e,t)),(0,C.Ym)()||this._renderTemplates(t)}},_itemStateChangedHandler:function(t){this._refresh()},_renderTemplates:function(t){var e=this;(0,c.S6)(t,(function(t,i){switch(i.itemType){case"empty":$i(i);break;case"button":e._renderButtonItem(i);break;default:e._renderFieldItem(i)}}))},_getResponsiveBoxConfig:function(t,e,i){var n=this,a=n.option("colCountByScreen"),s=a&&a.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),_layoutStrategy:n._hasBrowserFlex()?Wi:zi,onLayoutChanged:function(){var t=n.option("onLayoutChanged"),e=n.isSingleColumnMode();t&&(n.$element().toggleClass(Oe,e),t(e))},onContentReady:function(t){(0,C.Ym)()&&n._renderTemplates(i),n.option("onLayoutChanged")&&n.$element().toggleClass(Oe,n.isSingleColumnMode(t.component))},itemTemplate:function(t,a,s){if(t.location){var r=(0,o.Z)(s),l=t.location.row*e,u=n._items[t.location.col+l];if(u){var h=[u.cssClass];r.toggleClass(Re,n.isSingleColumnMode(this)),0===t.location.row&&h.push(Pi),0===t.location.col&&h.push(Hi),u.itemType===Ue&&n.option("isRoot")&&r.addClass(Pe);var c=t.location.col===e-1||t.location.col+t.location.colspan===e,p=n._getRowsCount(),_=t.location.row===p-1;c&&h.push(Ni),_&&h.push(Li),"empty"!==u.itemType&&(h.push(Ee),h.push(n.option("cssItemClass")),(0,d.$K)(u.col)&&h.push("dx-col-"+u.col)),i.push({itemType:u.itemType,item:u,$parent:r,rootElementCssClassList:h})}}},cols:n._generateRatio(e),rows:n._generateRatio(n._getRowsCount(),!0),dataSource:t,screenByWidth:n.option("screenByWidth"),singleColumnScreen:!s&&"xs"}},_getColCount:function(){var t=this.option("colCount"),e=this.option("colCountByScreen");if(e){var i=this.option("form").getTargetScreenFactor();i||(i=(0,C.Ym)()?(0,C.Wf)(this.option("screenByWidth")):"lg"),t=e[i]||t}if("auto"===t){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=t=this._getMaxColCount()}return t<1?1:t},_getMaxColCount:function(){if(!(0,C.Ym)())return 1;var t=this.option("minColWidth"),e=(0,w.dz)(this.$element()),i=this._items.length,n=Math.floor(e/t)||1;return i<n?i:n},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(t){var e,i,n,a,o=this._items.slice(0),s=[];for(a=0;a<o.length;a++)if(e=o[a],s.push(e),(this.option("alignItemLabels")||e.alignItemLabels||e.colSpan)&&(e.col=this._getColByIndex(s.length-1,t)),e.colSpan>1&&e.col+e.colSpan<=t){for(i=[],n=0;n<e.colSpan-1;n++)i.push({merged:!0});s=s.concat(i)}else delete e.colSpan;this._setItems(s)},_getColByIndex:function(t,e){return t%e},_setItems:function(t){this._items=t,this._cashedColCount=null},_generateLayoutItems:function(){var t,e,i=this._items,n=this._getColCount(),a=[];for(e=0;e<i.length;e++)if(t=i[e],!t.merged){var o={location:{row:parseInt(e/n),col:this._getColByIndex(e,n)}};(0,d.$K)(t.disabled)&&(o.disabled=t.disabled),(0,d.$K)(t.visible)&&(o.visible=t.visible),(0,d.$K)(t.colSpan)&&(o.location.colspan=t.colSpan),(0,d.$K)(t.rowSpan)&&(o.location.rowspan=t.rowSpan),a.push(o)}return a},_renderEmptyItem:function(t){$i({$container:t})},_renderButtonItem:function(t){var e=t.item,i=t.$parent,n=t.rootElementCssClassList,a=Oi({item:e,$parent:i,rootElementCssClassList:n,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)}),o=a.$rootElement,s=a.buttonInstance;this._itemsRunTimeInfo.add({item:e,widgetInstance:s,guid:e.guid,$itemContainer:o})},_renderFieldItem:function(t){var e,i=t.item,n=t.$parent,a=t.rootElementCssClassList,o=this._getDataByField(i.dataField),s=!1;if(void 0===o){var r=i.allowIndeterminateState,l=i.editorType,u=i.dataField;s=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:r,editorType:l,dataField:u})}var h=i.dataField||i.name,d=Zi(ni({$parent:n,rootElementCssClassList:a,item:i,name:h,editorValue:o,canAssignUndefinedValueToEditor:s,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),useFlexLayout:this._hasBrowserFlex(),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:i.template?this._getTemplate(i.template):null,itemId:this.option("form")&&this.option("form").getItemID(h),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode")})),c=d.$fieldEditorContainer,p=d.widgetInstance,_=d.$rootElement;null===(e=this.option("onFieldItemRendered"))||void 0===e||e(),p&&i.dataField&&this._bindDataField(p,i.dataField,i.editorType,c),this._itemsRunTimeInfo.add({item:i,widgetInstance:p,guid:i.guid,$itemContainer:_})},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(t,e,i,n){var a=this._getFormOrThis();t.on("enterKey",(function(t){a._createActionByOption("onEditorEnterKey")((0,_.l)(t,{dataField:e}))})),this._createWatcher(t,n,e),this.linkEditorToDataField(t,e,i)},_createWatcher:function(t,e,i){var n=this,a=n._getWatch();if((0,d.mf)(a)){var o=a((function(){return n._getDataByField(i)}),(function(){var e=n._getDataByField(i);if("dxTagBox"===t.NAME){var a=t.option("value");if(e!==a&&function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}(e,a))return}t.option("value",e)}),{deep:!0,skipImmediate:!0});s.Z.on(e,_e.x,o)}},_getWatch:function(){if(!(0,d.$K)(this._watch)){var t=this.option("form");this._watch=t&&t.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(t,e,i){var n=this.option("readOnly"),a=this.callBase(t,e,i);return n&&a.option("readOnly",n),this.on("optionChanged",(function(t){"readOnly"!==t.name||(0,d.$K)(i.readOnly)||a.option(t.name,t.value)})),a},_generateRatio:function(t,e){var i,n,a=[];for(n=0;n<t;n++)i={ratio:1},e&&(i.baseSize="auto"),a.push(i);return a},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(t){var e=this,i=this.option("layoutData");(0,d.Kn)(i)&&Object.getOwnPropertyNames(i).forEach((function(t){return delete e._optionsByReference["layoutData."+t]})),(0,d.Kn)(t)&&Object.getOwnPropertyNames(t).forEach((function(t){return e._optionsByReference["layoutData."+t]=!0}))},_resetWidget:function(t){this._disableEditorValueChangedHandler=!0,t.reset(),this._disableEditorValueChangedHandler=!1,t.option("isValid",!0)},_optionChanged:function(t){var e=this;if(0!==t.fullName.search("layoutData."))switch(t.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(t.value),this.option("items")?(0,d.Qr)(t.value)||this._itemsRunTimeInfo.each((function(i,n){if((0,d.$K)(n.item)){var a=n.item.dataField;if(a&&(0,d.$K)(n.widgetInstance)){var o=(0,pe.vb)(a),s=o(t.value),r=n.item,l=r.allowIndeterminateState,u=r.editorType;void 0!==s||e._isCheckboxUndefinedStateEnabled({allowIndeterminateState:l,editorType:u,dataField:a})?n.widgetInstance.option("value",s):e._resetWidget(n.widgetInstance)}}})):(this._initDataAndItems(t.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(t.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":this._resetColCount();break;case"minColWidth":"auto"===this.option("colCount")&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(t),"auto"===this.option("colCount")&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(t)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField:function(t,e){var i=this;this.on("optionChanged",(function(i){i.fullName==="layoutData.".concat(e)&&t._setOptionWithoutOptionChange("value",i.value)})),t.on("valueChanged",(function(t){var n=(0,d.Kn)(t.value)||Array.isArray(t.value);i._disableEditorValueChangedHandler||n&&t.value===t.previousValue||i._updateFieldValue(e,t.value)}))},_dimensionChanged:function(){"auto"===this.option("colCount")&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(t,e){var i=this;(0,d.Kn)(t)?(0,c.S6)(t,(function(t,e){i._updateFieldValue(t,e)})):"string"===typeof t&&i._updateFieldValue(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},isSingleColumnMode:function(t){var e=this._responsiveBox||t;if(e)return e.option("currentScreenFactor")===e.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});(0,r.Z)("dxLayoutManager",Ki);var Gi="dx-validationsummary",qi=Gi+"-item",Yi=Gi+"-item-data",Ui=ge.Z.inherit({_getDefaultOptions:function(){return(0,_.l)(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference:function(){this.callBase(),(0,_.l)(this._optionsByReference,{validationGroup:!0})},_init:function(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration:function(){var t=this.$element(),e=this.option("validationGroup")||b.Z.findGroup(t,this._modelByElement(t)),i=b.Z.addGroup(e);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=e,this.groupSubscription=this._groupValidationHandler.bind(this),i.on("validated",this.groupSubscription)},_unsubscribeGroup:function(){var t=b.Z.getGroupConfig(this._validationGroup);t&&t.off("validated",this.groupSubscription)},_getOrderedItems:function(t,e){var i=[];return(0,c.S6)(t,(function(t,n){var a=(0,u.h3)(e,(function(t){if(t.validator===n)return!0}));a.length&&(i=i.concat(a))})),i},_groupValidationHandler:function(t){var e=this,i=this._getOrderedItems(t.validators,(0,c.UI)(t.brokenRules,(function(t){return{text:t.message,validator:t.validator,index:t.index}})));this.validators=t.validators,(0,c.S6)(this.validators,(function(t,i){if(i._validationSummary!==e){var n=e._itemValidationHandler.bind(e);i.on("validated",n),i.on("disposing",(function(){i.off("validated",n),i._validationSummary=null,n=null})),i._validationSummary=e}})),this.option("items",i)},_itemValidationHandler:function(t){var e=t.isValid,i=t.validator,n=t.brokenRules,a=this.option("items"),o=!1,s=0,r=function(){var t=a[s];if(t.validator===i){var r=(0,u.h3)(n||[],(function(e){return e.index===t.index}))[0];if(e||!r)return a.splice(s,1),o=!0,"continue";r.message!==t.text&&(t.text=r.message,o=!0)}s++};while(s<a.length)r();(0,c.S6)(n,(function(t,e){var n=(0,u.h3)(a,(function(t){return t.validator===i&&t.index===e.index}))[0];n||(a.push({text:e.message,validator:i,index:e.index}),o=!0)})),o&&(a=this._getOrderedItems(this.validators,a),this.option("items",a))},_initMarkup:function(){this.$element().addClass(Gi),this.callBase()},_optionChanged:function(t){switch(t.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(t)}},_itemClass:function(){return qi},_itemDataKey:function(){return Yi},_postprocessRenderItem:function(t){s.Z.on(t.itemElement,"click",(function(){t.itemData.validator&&t.itemData.validator.focus&&t.itemData.validator.focus()}))},_dispose:function(){this.callBase(),this._unsubscribeGroup()}});(0,r.Z)("dxValidationSummary",Ui);var ji=Ui,Qi=i(15526),Ji="dx-validationgroup",Xi="dx-validator",tn="dx-validationsummary",en=function(t){(0,At.Z)(i,t);var e=(0,Ft.Z)(i);function i(){return(0,x.Z)(this,i),e.apply(this,arguments)}return(0,I.Z)(i,[{key:"_getDefaultOptions",value:function(){return(0,Ot.Z)((0,Mt.Z)(i.prototype),"_getDefaultOptions",this).call(this)}},{key:"_init",value:function(){(0,Ot.Z)((0,Mt.Z)(i.prototype),"_init",this).call(this),b.Z.addGroup(this)}},{key:"_initMarkup",value:function(){var t=this.$element();t.addClass(Ji),t.find(".".concat(Xi)).each((function(t,e){Xe.Z.getInstance((0,o.Z)(e))._initGroupRegistration()})),t.find(".".concat(tn)).each((function(t,e){ji.getInstance((0,o.Z)(e))._initGroupRegistration()})),(0,Ot.Z)((0,Mt.Z)(i.prototype),"_initMarkup",this).call(this)}},{key:"validate",value:function(){return b.Z.validateGroup(this)}},{key:"reset",value:function(){return b.Z.resetGroup(this)}},{key:"_dispose",value:function(){b.Z.removeGroup(this),this.$element().removeClass(Ji),(0,Ot.Z)((0,Mt.Z)(i.prototype),"_dispose",this).call(this)}},{key:"_useTemplates",value:function(){return!1}}]),i}(Qi.Z);(0,r.Z)("dxValidationGroup",en);var nn=i(47953),an="dx-state-focused",on=["items","isRequired","validationRules","visible"],sn=g.Z.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new D,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return(0,_.l)(this.callBase(),{formID:"dx-"+new l.Z,formData:{},colCount:1,screenByWidth:C.$n,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:v.Z.format("dxForm-optionalMark"),requiredMessage:v.Z.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:(0,h.Z)().editorStylingMode,labelMode:"outside"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return(0,at.x2)()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),(0,_.l)(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(t){return parseInt(t.attr(Ge))},_applyLabelsWidthByCol:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,a=i.inOneColumn?Ee:Ze+e,o=i.excludeTabbed?":not(.".concat(ze,")"):"";vi(t,".".concat(a).concat(o),n)},_applyLabelsWidth:function(t,e,i,n,a){n=i?1:n||this._getGroupColCount(t);var o,s={excludeTabbed:e,inOneColumn:i};for(o=0;o<n;o++)this._applyLabelsWidthByCol(t,o,s,a)},_getGroupElementsInColumn:function(t,e,i){var n=(0,d.$K)(i)?"."+Ke+i:"",a="."+Ze+e+" > ."+$e+" > ."+Ve+n;return t.find(a)},_applyLabelsWidthWithGroups:function(t,e,i,n){if(!0===this.option("alignRootItemLabels"))for(var a=t.find(".".concat(Pe)),o=0;o<e;o++)this._applyLabelsWidthByCol(a,o,i,n);var s=this.option("alignItemLabelsInAllGroups");if(s)this._applyLabelsWidthWithNestedGroups(t,e,i,n);else{var r,l=this.$element().find("."+Ve);for(r=0;r<l.length;r++)this._applyLabelsWidth(l.eq(r),i,void 0,void 0,n)}},_applyLabelsWidthWithNestedGroups:function(t,e,i,n){var a,o,s,r,l={excludeTabbed:i};for(a=0;a<e;a++)for(r=this._getGroupElementsInColumn(t,a),this._applyLabelsWidthByCol(r,0,l,n),o=0;o<this._groupsColCount.length;o++){r=this._getGroupElementsInColumn(t,a,this._groupsColCount[o]);var u=this._getGroupColCount(r);for(s=1;s<u;s++)this._applyLabelsWidthByCol(r,s,l,n)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(t){var e=t.layoutManager,i=t.inOneColumn,n=t.$container,a=t.excludeTabbed,o=t.items;if((0,C.Ym)()&&"top"!==this._labelLocation()){var s=oi(e._getMarkOptions());i?this._applyLabelsWidth(n,a,!0,void 0,s):this._checkGrouping(o)?this._applyLabelsWidthWithGroups(n,e._getColCount(),a,s):this._applyLabelsWidth(n,a,!1,e._getColCount(),s)}},_prepareFormData:function(){(0,d.$K)(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){"underlined"===this.option("stylingMode")&&this.$element().addClass(Ye)},_initMarkup:function(){b.Z.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(Te),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor()},_getCurrentScreenFactor:function(){return(0,C.Ym)()?(0,C.Wf)(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(t,e){this._alignLabelsInColumn({$container:this.$element(),layoutManager:t,excludeTabbed:!0,items:this.option("items"),inOneColumn:e}),(0,m.U_)(this.$element().find(".".concat(nn.z)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0},_renderScrollable:function(){var t=this.option("useNativeScrolling");this._scrollable=new st.Z(this.$element(),{useNative:!!t,useSimulatedScrollbar:!t,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?(0,o.Z)(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var t;null===(t=this._$validationSummary)||void 0===t||t.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=(0,o.Z)("<div>").addClass(qe).appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems:function(t,e,i,n){if(t){for(var o=[],s=0;s<t.length;s++){var r=t[s],l=Yt(i,qt(s,n)),u={item:r,itemIndex:s,path:l},h=this._itemsRunTimeInfo.add(u);if((0,d.HD)(r)&&(r={dataField:r}),(0,d.Kn)(r)){var c=(0,a.Z)({},r);u.preparedItem=c,c.guid=h,this._tryPrepareGroupItem(c),this._tryPrepareTabbedItem(c,l),this._tryPrepareItemTemplate(c),e&&(c.cssItemClass=ze),c.items&&(c.items=this._prepareItems(c.items,e,l)),o.push(c)}else o.push(r)}return o}},_tryPrepareGroupItem:function(t){var e=this;"group"===t.itemType&&(t.alignItemLabels=(0,u.IS)(t.alignItemLabels,!0),t._prepareGroupItemTemplate=function(i){t.template&&(t.groupContentTemplate=e._getTemplate(i)),t.template=e._itemGroupTemplate.bind(e,t)},t._prepareGroupItemTemplate(t.template))},_tryPrepareTabbedItem:function(t,e){"tabbed"===t.itemType&&(t.template=this._itemTabbedTemplate.bind(this,t),t.tabs=this._prepareItems(t.tabs,!0,e,!0))},_tryPrepareItemTemplate:function(t){t.template&&(t.template=this._getTemplate(t.template))},_checkGrouping:function(t){if(t)for(var e=0;e<t.length;e++){var i=t[e];if("group"===i.itemType)return!0}},_renderLayout:function(){var t=this,e=t.option("items"),i=t._getContent();e=t._prepareItems(e),t._rootLayoutManager=t._renderLayoutManager(i,this._createLayoutManagerOptions(e,{isRoot:!0,colCount:t.option("colCount"),alignItemLabels:t.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(e){t._alignLabels.bind(t)(t._rootLayoutManager,e)},onContentReady:function(e){t._alignLabels(e.component,e.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(t){return t.items||[]},_itemTabbedTemplate:function(t,e,i){var a=this,s=(0,o.Z)("<div>").appendTo(i),r=(0,_.l)({},t.tabPanelOptions,{dataSource:t.tabs,onItemRendered:function(t){return(0,m.Uo)(t.itemElement)},itemTemplate:function(t,e,i){var n=(0,o.Z)(i),s=(0,u.IS)(t.alignItemLabels,!0),r=a._renderLayoutManager(n,a._createLayoutManagerOptions(a._tryGetItemsForTemplate(t),{colCount:t.colCount,alignItemLabels:s,screenByWidth:a.option("screenByWidth"),colCountByScreen:t.colCountByScreen,cssItemClass:t.cssItemClass,onLayoutChanged:function(e){a._alignLabelsInColumn({$container:n,layoutManager:r,items:t.items,inOneColumn:e})}}));a._itemsRunTimeInfo&&a._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{layoutManager:r}),s&&a._alignLabelsInColumn({$container:n,layoutManager:r,items:t.items,inOneColumn:r.isSingleColumnMode()})}}),l=function(t,e){Array.isArray(t)&&t.forEach((function(t){return a._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{widgetInstance:e})}))},h=this._createComponent(s,Wt,r);(0,o.Z)(i).parent().addClass(Ne),h.on("optionChanged",(function(t){"dataSource"===t.fullName&&l(t.value,t.component)})),l([{guid:t.guid}].concat((0,n.Z)(t.tabs)),h)},_itemGroupTemplate:function(t,e,i){var n,a,s=this,r=(0,o.Z)("<div>").toggleClass(We,(0,d.$K)(t.caption)&&t.caption.length).addClass(Ve).appendTo(i);(0,o.Z)(i).parent().addClass(He),t.caption&&(0,o.Z)("<span>").addClass(ke).text(t.caption).appendTo(r);var l=(0,o.Z)("<div>").addClass(Le).appendTo(r);t.groupContentTemplate?(t._renderGroupContentTemplate=function(){l.empty();var e={formData:s.option("formData"),component:s};t.groupContentTemplate.render({model:e,container:(0,f.u)(l)})},t._renderGroupContentTemplate()):(a=this._renderLayoutManager(l,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(t),{colCount:t.colCount,colCountByScreen:t.colCountByScreen,alignItemLabels:t.alignItemLabels,cssItemClass:t.cssItemClass})),this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{layoutManager:a}),n=a._getColCount(),-1===(0,p.d3)(n,this._groupsColCount)&&this._groupsColCount.push(n),r.addClass(Ke+n),r.attr(Ge,n))},_createLayoutManagerOptions:function(t,e){var i=this;return ie({form:this,formOptions:this.option(),$formElement:this.$element(),items:t,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:e,onFieldDataChanged:function(t){i._isDataUpdating||i._triggerOnFieldDataChanged(t)},onContentReady:function(t){i._itemsRunTimeInfo.addItemsOrExtendFrom(t.component._itemsRunTimeInfo),e.onContentReady&&e.onContentReady(t)},onDisposing:function(t){var e=t.component,n=e.getItemsRunTimeInfo();i._itemsRunTimeInfo.removeItemsByItems(n)},onFieldItemRendered:function(){var t;null===(t=i._validationSummary)||void 0===t||t._initGroupRegistration()}})},_renderLayoutManager:function(t,e){var i=this,n={lg:e.colCount,md:e.colCount,sm:e.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:(0,_.l)(n,e.colCountByScreen)});var a=(0,o.Z)("<div>");a.appendTo(t);var s=this._createComponent(a,"dxLayoutManager",e);return s.on("autoColCountChanged",(function(){i._clearAutoColCountChangedTimeout(),i.autoColCountChangedTimeoutId=setTimeout((function(){return!i._disposed&&i._refresh()}),0)})),this._cachedLayoutManagers.push(s),s},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(t,e,i){return i=i||{},this._extendConfig(i,{readOnly:this.option("readOnly")}),this.callBase(t,e,i)},_attachSyncSubscriptions:function(){var t=this;t.on("optionChanged",(function(e){var i=e.fullName;"formData"===i&&((0,d.$K)(e.value)||t._options.silent("formData",e.value={}),t._triggerOnFieldDataChangedByDataSet(e.value)),t._cachedLayoutManagers.length&&(0,c.S6)(t._cachedLayoutManagers,(function(n,a){"formData"===i&&(t._isDataUpdating=!0,a.option("layoutData",e.value),t._isDataUpdating=!1),"readOnly"!==e.name&&"disabled"!==e.name||a.option(i,e.value)}))}))},_optionChanged:function(t){var e=t.fullName.split(".");e.length>1&&-1!==e[0].search("items")&&this._itemsOptionChangedHandler(t)||e.length>1&&-1!==e[0].search("formData")&&this._formDataOptionChangedHandler(t)||this._defaultOptionChangedHandler(t)},_defaultOptionChangedHandler:function(t){switch(t.name){case"formData":this.option("items")?(0,d.Qr)(t.value)&&this._resetValues():this._invalidate();break;case"onFieldDataChanged":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":"auto"===this.option("colCount")&&this._invalidate();break;case"alignRootItemLabels":case"readOnly":break;case"width":this.callBase(t),this._rootLayoutManager.option(t.name,t.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"visible":this.callBase(t),t.value&&(0,m.Uo)(this.$element());break;case"validationGroup":b.Z.removeGroup(t.previousValue||this),this._invalidate();break;default:this.callBase(t)}},_itemsOptionChangedHandler:function(t){var e=t.fullName.split("."),i=t.value,n=this._getItemPath(e),a=this.option(n),o=t.fullName.replace(n+".",""),s=o.split(".")[0].replace(/\[\d+]/,""),r=this._tryCreateItemOptionAction(s,a,a[s],t.previousValue,n),l=this._tryExecuteItemOptionAction(r)||this._tryChangeLayoutManagerItemOption(t.fullName,i);if(!l&&a){this._changeItemOption(a,o,i);var u=this._generateItemsFromData(this.option("items"));this.option("items",u),l=!0}return l},_formDataOptionChangedHandler:function(t){var e=t.fullName.split("."),i=t.value,n=e.slice(1).join("."),a=this.getEditor(n);return a?a.option("value",i):this._triggerOnFieldDataChanged({dataField:n,value:i}),!0},_tryCreateItemOptionAction:function(t,e,i,n,a){return"tabs"===t&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(a,".tabs")),i=this._prepareItems(i,!0,a,!0)),he(t,{item:e,value:i,previousValue:n,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(t){return t&&t.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(t){var e,i=Jt(t);on.indexOf(i)>-1&&(b.Z.addGroup(this._getValidationGroup()),this.option("showValidationSummary")&&(null===(e=this._validationSummary)||void 0===e||e._initGroupRegistration()))},_setLayoutManagerItemOption:function(t,e,i,n){var a=this;if(this._updateLockCount>0){!t._updateLockCount&&t.beginUpdate();var o=this._itemsRunTimeInfo.findKeyByPath(n);this.postponedOperations.add(o,(function(){return!t._disposed&&t.endUpdate(),(new F.BH).resolve()}))}var s=function t(e){if(e.component.off("contentReady",t),te(n)){var i=Xt(n),o=a._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(i);o&&a._alignLabelsInColumn({items:o.option("items"),layoutManager:o,$container:o.$element(),inOneColumn:o.isSingleColumnMode()})}else a._alignLabels(a._rootLayoutManager,a._rootLayoutManager.isSingleColumnMode())};t.on("contentReady",s),t.option(e,i),this._updateValidationGroupAndSummaryIfNeeded(e)},_tryChangeLayoutManagerItemOption:function(t,e){var i=t.split("."),n=Jt(t);if("items"===n&&i.length>1){var a=this._getItemPath(i),o=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(a);if(o){this._itemsRunTimeInfo.removeItemsByItems(o.getItemsRunTimeInfo());var s=this._prepareItems(e,!1,a);return this._setLayoutManagerItemOption(o,n,s,a),!0}}else if(i.length>2){var r=i.length-2,l=this._getItemPath(i.slice(0,r)),u=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(l);if(u){var h=Qt(i[r],n);if("editorType"===n&&u.option(h)!==e)return!1;if("visible"===n){var d=this.option(Qt(l,"items"));if(d&&d.length){var c=u.option("items");d.forEach((function(t,e){var i=c[e];i.visibleIndex=t.visibleIndex}))}}return this._setLayoutManagerItemOption(u,h,e,l),!0}}return!1},_tryChangeLayoutManagerItemOptions:function(t,e){var i,n=this;return this.beginUpdate(),(0,c.S6)(e,(function(e,a){if(i=n._tryChangeLayoutManagerItemOption(Qt(t,e),a),!i)return!1})),this.endUpdate(),i},_getItemPath:function(t){var e,i=t[0];for(e=1;e<t.length;e++){if(-1===t[e].search(/items\[\d+]|tabs\[\d+]/))break;i+="."+t[e]}return i},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_triggerOnFieldDataChangedByDataSet:function(t){var e=this;t&&(0,d.Kn)(t)&&(0,c.S6)(t,(function(t,i){e._triggerOnFieldDataChanged({dataField:t,value:i})}))},_updateFieldValue:function(t,e){if((0,d.$K)(this.option("formData"))){var i=this.getEditor(t);if(this.option("formData."+t,e),i){var n=i.option("value");n!==e&&i.option("value",e)}}},_generateItemsFromData:function(t){var e=this.option("formData"),i=[];return!t&&(0,d.$K)(e)&&(0,c.S6)(e,(function(t){i.push({dataField:t})})),t&&(0,c.S6)(t,(function(t,e){(0,d.Kn)(e)?i.push(e):i.push({dataField:e})})),i},_getItemByField:function(t,e){var i,n=this,a=(0,d.Kn)(t)?t:n._getFieldParts(t),o=a.fieldName,s=a.fieldPath;return e.length&&(0,c.S6)(e,(function(t,e){var a=e.itemType;if(s.length){var r=s.slice();e=n._getItemByFieldPath(r,o,e)}else if("group"===a&&!e.caption&&!e.name||"tabbed"===a&&!e.name){var l=n._getSubItemField(a);e.items=n._generateItemsFromData(e.items),e=n._getItemByField({fieldName:o,fieldPath:s},e[l])}if(jt(e,o))return i=e,!1})),i},_getFieldParts:function(t){var e=t,i=e.indexOf("."),n=[];while(-1!==i)n.push(e.substr(0,i)),e=e.substr(i+1),i=e.indexOf(".");return{fieldName:e,fieldPath:n.reverse()}},_getItemByFieldPath:function(t,e,i){var n,a=i.itemType,o=this._getSubItemField(a),s="group"===a||"tabbed"===a||i.title;do{if(!s)break;var r=i.name||i.caption||i.title,l=(0,d.$K)(r),u=Ut(r),h=void 0;if(i[o]=this._generateItemsFromData(i[o]),l&&(h=t.pop()),!t.length&&(n=this._getItemByField(e,i[o]),n))break;(!l||l&&u===h)&&t.length&&(n=this._searchItemInEverySubItem(t,e,i[o]))}while(t.length&&!(0,d.$K)(n));return n},_getSubItemField:function(t){return"tabbed"===t?"tabs":"items"},_searchItemInEverySubItem:function(t,e,i){var n,a=this;return(0,c.S6)(i,(function(i,o){if(n=a._getItemByFieldPath(t.slice(),e,o),n)return!1})),n||(n=!1),n},_changeItemOption:function(t,e,i){(0,d.Kn)(t)&&(t[e]=i)},_dimensionChanged:function(){var t=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==t&&(this._isColCountChanged(this._lastMarkupScreenFactor,t)&&(this._targetScreenFactor=t,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=t)},_isColCountChanged:function(t,e){var i=!1;return(0,c.S6)(this._cachedColCountOptions,(function(n,a){if(a.colCountByScreen[t]!==a.colCountByScreen[e])return i=!0,!1})),i},_refresh:function(){var t="."+an+" input, ."+an+" textarea";s.Z.trigger(this.$element().find(t),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each((function(t,e){(0,d.$K)(e.widgetInstance)&&y.Z.isEditor(e.widgetInstance)&&(e.widgetInstance.reset(),e.widgetInstance.option("isValid",!0))})),b.Z.resetGroup(this._getValidationGroup())},_updateData:function(t,e,i){var n=this,a=i?e:t;(0,d.Kn)(a)?(0,c.S6)(a,(function(e,a){n._updateData(i?t+"."+e:e,a,(0,d.Kn)(a))})):(0,d.HD)(t)&&n._updateFieldValue(t,e)},registerKeyHandler:function(t,e){this.callBase(t,e),this._itemsRunTimeInfo.each((function(i,n){(0,d.$K)(n.widgetInstance)&&n.widgetInstance.registerKeyHandler(t,e)}))},_focusTarget:function(){return this.$element().find("."+$e+" [tabindex]").first()},_visibilityChanged:function(){},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),b.Z.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(t,e){this._updateData(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},getButton:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByName(t)},updateDimensions:function(){var t=this,e=new F.BH;return t._scrollable?t._scrollable.update().done((function(){e.resolveWith(t)})):e.resolveWith(t),e.promise()},itemOption:function(t,e,i){var n=this,a=this._generateItemsFromData(this.option("items")),o=this._getItemByField(t,a),s=ee(a,o);if(o)switch(arguments.length){case 1:return o;case 3:var r=this._tryCreateItemOptionAction(e,o,i,o[e],s);this._changeItemOption(o,e,i);var l=Qt(s,e);this._tryExecuteItemOptionAction(r)||this._tryChangeLayoutManagerItemOption(l,i)||this.option("items",a);break;default:var u;if((0,d.Kn)(e))if(!this._tryChangeLayoutManagerItemOptions(s,e))(0,c.S6)(e,(function(t,e){var i=n._tryCreateItemOptionAction(t,o,e,o[t],s);n._changeItemOption(o,t,e),u||n._tryExecuteItemOptionAction(i)||(u=!0)})),u&&this.option("items",a)}},validate:function(){return b.Z.validateGroup(this._getValidationGroup())},getItemID:function(t){return"dx_"+this.option("formID")+"_"+(t||new l.Z)},getTargetScreenFactor:function(){return this._targetScreenFactor}});(0,r.Z)("dxForm",sn);var rn=sn,ln=rn},596:function(t,e,i){i.d(e,{Z:function(){return Ct}});var n=i(61025),a=(i(47042),i(74916),i(64765),i(15306),i(23123),i(24603),i(28450),i(88386),i(39714),i(73210),i(21249),i(41539),i(77601),i(68309),i(50337)),o=i(43908),s=i(29532),r=i(75395),l=i(23737),u=i(75513),h=(i(69600),i(4723),i(38218)),d=function(t){for(var e=0,i=0,n=0;n<t.length;++n)if("'"===t[n]&&e++,"."===t[n]&&(++i,e%2===0))return{occurrence:i,index:n};return{occurrence:1,index:-1}},c=function(t,e,i){var n=-1;while(i--&&n++<t.length)n=t.indexOf(e,n);return n},p=function(t,e){return-1===e?[t]:[t.slice(0,e),t.slice(e+1)]},_=function(t,e){return t&&(0,l.zB)(t/100,e)},m=function(t,e){if("string"===typeof e){var i=e.split(";"),n=u.Z.getSign(t,e);i[1]=i[1]||"-"+i[0],e=i[n<0?1:0],s=e,e=s.replace(/'([^']*)'/g,(function(t){return t.split("").map((function(){return" "})).join("").substr(2)}));var a=/^[^#0.,]*/.exec(e)[0].length,o=/[^#0.,]*$/.exec(e)[0].length;return{start:a,end:t.length-o}}return{start:0,end:t.length};var s},f=function(t,e){var i=u.Z.getDecimalSeparator(),n=new RegExp("[^0-9"+(0,h.hr)(i)+"]","g"),a=e.slice(0,t);return a.replace(n,"").length},v=function(t){return t.split("").reverse().join("")},g=function(t,e){if(!t)return-1;var i=/[0-9]/g,n=1,a=null,o=i.exec(e);while(o){if(a=o.index,n>=t)return a;n++,o=i.exec(e)}return null===a?e.length:a},y=function(t){return t.replace(/[^0-9e]+$/,"")},C=function(t,e){return void 0===t.start&&(t={start:t,end:t}),{start:t.start+e,end:t.end+e}},b=function(t,e,i,n){i=C(i,0);var a=u.Z.getDecimalSeparator(),o=x(t),s=d(n).occurrence,r=o?0:c(t,a,s),l=c(e,a,s),h=p(t,r),_=p(e,l),m=-1!==r&&i.start>r;if(m){var b=i.start-r-1,I=f(b,h[1]),w=_[1]?l+1+g(I,_[1])+1:e.length;return D(w,e,n)}var S=y(_[0]),B=h[0].length-i.start,T=f(B,v(h[0])),V=g(T,v(S)),k=S.length-(V+1);return D(k,e,n)};function x(t){return 1===t.length&&!!t.match(/^[,.][0-9]*$/g)}var I=function(t,e,i){t=C(t,0);var n=D(t,e,i);return t.start>=n.start&&t.end<=n.end};function D(t,e,i){t=C(t,0);var n=m(e,i),a={start:(0,l.n$)(t.start,n.start,n.end),end:(0,l.n$)(t.end,n.start,n.end)};return a}var w=function(t,e,i){var n=m(t,i),a=m(e,i);return a.start-n.start},S=i(2672),B=(i(92222),i(9653),i(40555)),T=i(90170),V=i(33268),k=i(20613),Z=i(80900),E=i(31925),O=i(76133),M=i(92751),A=i(50460),F=i(87349),$=i(99418),R=i(6812),P=i(23001),L=i(51085),H=i(459),N=i(816),W=i(14286),z=i(57566),K="dx-numberbox-spin",G="dx-numberbox-spin-button",q=100,Y="dxNumberBox",U=(0,E.V4)(H.Z.up,Y),j=(0,E.V4)(H.Z.cancel,Y),Q=L.Z.inherit({_getDefaultOptions:function(){return(0,o.l)(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var t=K+"-"+this.option("direction");this.$element().addClass(G).addClass(t),this._spinIcon=(0,B.Z)("<div>").addClass(t+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var t=(0,E.V4)(H.Z.down,this.NAME),e=this.$element();a.Z.off(e,t),a.Z.on(e,t,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(t){t.preventDefault(),this._clearTimer(),a.Z.on(this.$element(),W.Z.name,function(){this._feedBackDeferred=new z.BH,(0,N.dR)(this._feedBackDeferred),this._spinChangeHandler({event:t}),this._holdTimer=setInterval(this._spinChangeHandler,q,{event:t})}.bind(this));var e=T["default"].getDocument();a.Z.on(e,U,this._clearTimer.bind(this)),a.Z.on(e,j,this._clearTimer.bind(this)),this._spinChangeHandler({event:t})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){a.Z.off(this.$element(),W.Z.name);var t=T["default"].getDocument();a.Z.off(t,U),a.Z.off(t,j),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(t){switch(t.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(t)}}}),J=Q,X="dx-numberbox-spin",tt="dx-numberbox-spin-container",et="dx-numberbox-spin-touch-friendly",it=function(t){(0,$.Z)(i,t);var e=(0,R.Z)(i);function i(){return(0,O.Z)(this,i),e.apply(this,arguments)}return(0,M.Z)(i,[{key:"_attachEvents",value:function(t,e){var i=this.editor,n=(0,E.V4)(H.Z.down,i.NAME),o=e.children(),s=i._createAction((function(t){return i._spinButtonsPointerDownHandler(t)}));a.Z.off(e,n),a.Z.on(e,n,(function(t){return s({event:t})})),J.getInstance(o.eq(0)).option("onChange",(function(t){return i._spinUpChangeHandler(t)})),J.getInstance(o.eq(1)).option("onChange",(function(t){return i._spinDownChangeHandler(t)}))}},{key:"_create",value:function(){var t=this.editor,e=(0,B.Z)("<div>").addClass(tt),i=(0,B.Z)("<div>").appendTo(e),n=(0,B.Z)("<div>").appendTo(e),a=this._getOptions();return this._addToContainer(e),t._createComponent(i,J,(0,o.l)({direction:"up"},a)),t._createComponent(n,J,(0,o.l)({direction:"down"},a)),this._legacyRender(t.$element(),this._isTouchFriendly(),a.visible),{instance:e,$element:e}}},{key:"_getOptions",value:function(){var t=this.editor,e=this._isVisible(),i=t.option("disabled");return{visible:e,disabled:i}}},{key:"_isVisible",value:function(){var t=this.editor;return(0,A.Z)((0,F.Z)(i.prototype),"_isVisible",this).call(this)&&t.option("showSpinButtons")}},{key:"_isTouchFriendly",value:function(){var t=this.editor;return t.option("showSpinButtons")&&t.option("useLargeSpinButtons")}},{key:"_legacyRender",value:function(t,e,i){t.toggleClass(et,e),t.toggleClass(X,i)}},{key:"update",value:function(){var t=(0,A.Z)((0,F.Z)(i.prototype),"update",this).call(this);if(t){var e=this.editor,n=this.instance,a=e.$element(),o=this._isVisible(),s=this._isTouchFriendly(),r=n.children(),l=J.getInstance(r.eq(0)),u=J.getInstance(r.eq(1)),h=this._getOptions();l.option(h),u.option(h),this._legacyRender(a,s,o)}}}]),i}(P.Z),nt=i(946),at=Math,ot="dx-numberbox",st=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],rt="NumberBoxForceValueChange",lt=Z.Z.inherit({_supportedKeys:function(){return(0,o.l)(this.callBase(),{upArrow:function(t){(0,E.j1)(t)||(t.preventDefault(),t.stopPropagation(),this._spinUpChangeHandler(t))},downArrow:function(t){(0,E.j1)(t)||(t.preventDefault(),t.stopPropagation(),this._spinDownChangeHandler(t))},enter:function(){}})},_getDefaultOptions:function(){return(0,o.l)(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:nt.Z.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:it}])},_isSupportInputMode:function(){var t=parseFloat(k.Z.version);return k.Z.chrome&&t>=66||k.Z.safari&&t>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return r.Z.real().generic&&!r.Z.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return"desktop"!==r.Z.real().deviceType&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass(ot),this.callBase()},_getDefaultAttributes:function(){var t=this.callBase();return t.inputmode="decimal",t},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=(0,B.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){this._getSubmitElement().val((0,h.FH)(t))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(t){this.callBase(t);var e=(0,E.qK)(t),i=/[\d.,eE\-+]/.test(e);if(!i){var n=(0,E.EV)(t);if((0,E.j1)(t)||n&&(0,V.d3)(n,st)>=0)return;return t.preventDefault(),!1}this._keyPressed=!0},_onMouseWheel:function(t){t.delta>0?this._spinValueChange(1,t):this._spinValueChange(-1,t)},_renderValue:function(){var t=this._input().val(),e=this.option("value");t.length&&Number(t)===e||(this._forceValueRender(),this._toggleEmptinessEventHandler());var i=(0,s.$K)(e)?null:nt.Z.format("dxNumberBox-noDataText");return this.setAria({valuenow:(0,h.IS)(e,""),valuetext:i}),this.option("text",this._input().val()),this._updateButtons(),(new z.BH).resolve()},_forceValueRender:function(){var t=this.option("value"),e=Number(t),i=isNaN(e)?"":this._applyDisplayValueFormatter(t);this._renderDisplayText(i)},_applyDisplayValueFormatter:function(t){return this.option("displayValueFormatter")(t)},_renderProps:function(){this.callBase(),this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:(0,h.IS)(this.option("min"),""),valuemax:(0,h.IS)(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var t=this._input();this.option("useLargeSpinButtons")||T["default"].getActiveElement()===t[0]||a.Z.trigger(t,"focus")},_spinUpChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(1,t.event||t)},_spinDownChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(-1,t.event||t)},_spinValueChange:function(t,e){var i=parseFloat(this.option("step"));if(0!==i){var n=parseFloat(this._normalizeInputValue())||0;n=this._correctRounding(n,i*t);var a=this.option("min"),o=this.option("max");(0,s.$K)(a)&&(n=Math.max(a,n)),(0,s.$K)(o)&&(n=Math.min(o,n)),this._saveValueChangeEvent(e),this.option("value",n)}},_correctRounding:function(t,e){var i=/[,.](.*)/,n=i.test(t),a=i.test(e);if(n||a){var o=n?i.exec(t)[0].length:0,s=a?i.exec(e)[0].length:0,r=at.max(o,s);return t=this._round(t+e,r),t}return t+e},_round:function(t,e){e=e||0;var i=Math.pow(10,e);return t*=i,t=Math.round(t)/i,t},_renderValueChangeEvent:function(){this.callBase();var t=(0,E.V4)("focusout",rt);a.Z.off(this.element(),t),a.Z.on(this.element(),t,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if("number"!==this.option("mode")){var t=this._input(),e=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(e)}},_valueChangeEventHandler:function(t){var e=this._input(),i=this._normalizeText(),n=this._parseValue(i),a="."!==i&&"-"!==i;!this._isValueValid()||this._validateValue(n)?(a&&this.callBase(t,isNaN(n)?null:n),this._applyValueBoundaries(i,n),this.validationRequest.fire({value:n,editor:this})):e.val(this._applyDisplayValueFormatter(n))},_applyValueBoundaries:function(t,e){var i=this._isValueIncomplete(t),n=this._isValueInRange(t);i||n||null===e||Number(t)!==e&&this._input().val(this._applyDisplayValueFormatter(e))},_replaceCommaWithPoint:function(t){return t.replace(",",".")},_inputIsInvalid:function(){var t="number"===this.option("mode"),e=this._input().get(0).validity;return t&&e&&e.badInput},_renderDisplayText:function(t){this._inputIsInvalid()||this.callBase(t)},_isValueIncomplete:function(t){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(t)},_isValueInRange:function(t){return(0,l.Z2)(t,this.option("min"),this.option("max"))},_isNumber:function(t){return null!==this._parseValue(t)},_validateValue:function(t){var e=this._normalizeText(),i=this._isValueValid(),n=!0,a=this._isNumber(e);return isNaN(Number(t))&&(n=!1),!t&&i?n=!0:a||i||(n=!1),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),n},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var t=this._input().val().trim();return this._replaceCommaWithPoint(t)},_parseValue:function(t){var e=parseFloat(t);return isNaN(e)?null:(0,l.n$)(e,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){null===this.option("value")?(this.option("text",""),this._renderValue()):this.option("value",null)},_optionChanged:function(t){switch(t.name){case"value":this._validateValue(t.value),this._setSubmitValue(t.value),this.callBase(t),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(t)}}}),ut=lt,ht="dxNumberFormatter",dt=1,ct=-1,pt="-",_t="minus",mt="input",ft=0,vt=ut.inherit({_getDefaultOptions:function(){return(0,o.l)(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(t){return"del"===t},_supportedKeys:function(){return this._useMaskBehavior()?(0,o.l)(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,ct),rightArrow:this._arrowHandler.bind(this,dt),home:this._moveCaretToBoundaryEventHandler.bind(this,dt),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,ct)}):this.callBase()},_getTextSeparatorIndex:function(t){var e=u.Z.getDecimalSeparator(),i=d(this.option("format")).occurrence;return c(t,e,i)},_focusInHandler:function(t){this._preventNestedFocusEvent(t)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0;var e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){var i=this._getInputVal(),n=this._getTextSeparatorIndex(i);n>=0?this._caret({start:n,end:n}):this._moveCaretToBoundaryEventHandler(ct,t)}}.bind(this),ft)),this.callBase(t)},_focusOutHandler:function(t){var e=!this._preventNestedFocusEvent(t);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(t),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged:function(t){var e=this._getFormatPattern(),i=this.option("value"),n=this._format(i,e)||"";return n!==t},_updateFormattedValue:function(){var t=this._getInputVal();this._hasValueBeenChanged(t)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&a.Z.trigger(this._input(),"change"))},_arrowHandler:function(t,e){if(this._useMaskBehavior()){var i=this._getInputVal(),n=this._getFormatPattern(),a=C(this._caret(),t);I(a,i,n)||(a=t===dt?a.end:a.start,e.preventDefault(),this._caret(D(a,i,n)))}},_moveCaretToBoundary:function(t){var e=m(this._getInputVal(),this._getFormatPattern()),i=C(t===dt?e.start:e.end,0);this._caret(i)},_moveCaretToBoundaryEventHandler:function(t,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(t),e&&e.preventDefault())},_shouldMoveCaret:function(t,e){var i=u.Z.getDecimalSeparator(),n=t.charAt(e.end)===i,a=(this._lastKey===i||"."===this._lastKey)&&n;return a},_getInputVal:function(){return u.Z.convertDigits(this._input().val(),!0)},_keyboardHandler:function(t){if(this.clearCaretTimeout(),this._lastKey=u.Z.convertDigits((0,E.qK)(t),!0),this._lastKeyName=(0,E.EV)(t),!this._shouldHandleKey(t.originalEvent))return this.callBase(t);var e=this._getInputVal(),i=this._caret(),n=this._lastKeyName===_t?"":this._lastKey,a=this._tryParse(e,i,n);return this._shouldMoveCaret(e,i)&&(this._moveCaret(1),t.originalEvent.preventDefault()),void 0===a?this._lastKeyName!==_t&&t.originalEvent.preventDefault():this._parsedValue=a,this.callBase(t)},_keyPressHandler:function(t){this._useMaskBehavior()||this.callBase(t)},_removeHandler:function(t){var e=this._caret(),i=this._getInputVal(),n=e.start,a=e.end;this._lastKey=(0,E.qK)(t),this._lastKeyName=(0,E.EV)(t);var o=this._isDeleteKey(this._lastKeyName),s=!o;if(n===a){var r=n,l=s&&r>0||o&&r<i.length;if(!l)return void t.preventDefault();o&&a++,s&&n--}var h=i.slice(n,a);if(this._isStub(h))return this._moveCaret(o?1:-1),(this._parsedValue<0||1/this._parsedValue===-1/0)&&(this._revertSign(t),this._setTextByParsedValue()),void t.preventDefault();var d=u.Z.getDecimalSeparator();if(h!==d){if(a-n<i.length){var c=this._replaceSelectedText(i,{start:n,end:a},""),p=c.search(/[0-9]/)<0;if(p&&this._isValueInRange(0))return void(this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0)}var _=this._tryParse(i,{start:n,end:a},"");void 0===_?t.preventDefault():this._parsedValue=_}else{var m=i.indexOf(d);this._isNonStubAfter(m+1)&&(this._moveCaret(o?1:-1),t.preventDefault())}},_isPercentFormat:function(){var t=this._getFormatPattern(),e=t.replace(/'[^']+'/g,"");return-1!==e.indexOf("%")},_parse:function(t,e){var i=this.option("format"),n=(0,s.mf)(i.parser),a=n?i.parser:u.Z.parse,o=0;if(!n){var r=d(e).index,l=this._getTextSeparatorIndex(t),h=-1!==r?r:e.length,c=-1!==l?l:t.length;c>h&&-1===e.indexOf("#")&&(o=c-h)}return t=this._removeStubs(t,!0),t=t.substr(o),a(t,e)},_format:function(t,e){var i=this.option("format"),n=(null===i||void 0===i?void 0:i.formatter)||i,a=(0,s.mf)(n)?n:u.Z.format,o=null===t?"":a(t,e);return o},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var t=this,e=this.option("format"),i=(0,s.mf)(null===e||void 0===e?void 0:e.parser),n=(0,s.HD)(e)&&(e.indexOf("0")>=0||e.indexOf("#")>=0);this._currentFormat=i||n?e:(0,S.y)((function(i){var n=t._format(i,e);return u.Z.convertDigits(n,!0)}))},_getFormatForSign:function(t){var e=this._getFormatPattern();if((0,s.HD)(e)){var i=e.split(";"),n=u.Z.getSign(t,e);return i[1]=i[1]||"-"+i[0],n<0?i[1]:i[0]}var a=u.Z.getSign(t);return a<0?"-":""},_removeStubs:function(t,e){var i=this._getFormatForSign(t),n=u.Z.getThousandsSeparator(),a=this._getStubs(i),o=t;if(a.length){var s=a[0],r=new RegExp("("+(0,h.hr)(a[1]||"")+")$","g"),l=new RegExp("[-"+(0,h.hr)(e?"":n)+"]","g");o=o.replace(s,"").replace(r,"").replace(l,"")}return o},_getStubs:function(t){var e=/[^']([#0.,]+)/g.exec(t),i=e&&e[0].trim();return t.split(i).map((function(t){return t.replace(/'/g,"")}))},_truncateToPrecision:function(t,e){if((0,s.$K)(t)){var i=t.toString(),n=i.indexOf(".");if(i&&n>-1){var a=parseFloat(i.substr(0,n+e+1));return isNaN(a)?t:a}}return t},_tryParse:function(t,e,i){var n=this._replaceSelectedText(t,e,i),a=this._getFormatPattern(),o=e.start!==e.end,s=this._getParsedValue(n,a),r=!a.parser&&this._getPrecisionLimits(n).max,l=s!==this._parsedValue,h=u.Z.getDecimalSeparator(),d=i===h&&0===r,c=!o&&!l&&i!==pt&&!this._isValueIncomplete(n)&&this._isStub(i);if(!d&&!c&&(""===this._removeStubs(n)&&(s=Math.abs(0*this._parsedValue)),!isNaN(s))){var p=null===s?this._parsedValue:s;return s=r?this._truncateToPrecision(p,r):s,!a.parser&&this._isPercentFormat()?_(s,r):s}},_getParsedValue:function(t,e){var i=u.Z.getSign(t,(null===e||void 0===e?void 0:e.formatter)||e),n=this._parse(t,e),a=n<0?-1:1,o=(0,s.kE)(n)&&i!==a?i*n:n;return o},_isValueIncomplete:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret(),i=u.Z.getDecimalSeparator(),n=this._getTextSeparatorIndex(t),a=n>=0&&n<e.start,o=this._removeStubs(t,!0).split(i);if(!a||2!==o.length)return!1;var s=o[1].length,r=this._getFormatPattern(),h=!!r.parser,d=!h&&this._getPrecisionLimits(this._getFormatPattern(),t),c=!!h||(0,l.Z2)(s,d.min,d.max),p="0"===o[1].charAt(s-1);return c&&(p||!s)},_isValueInRange:function(t){var e=(0,h.IS)(this.option("min"),-1/0),i=(0,h.IS)(this.option("max"),1/0);return(0,l.Z2)(t,e,i)},_setInputText:function(t){var e=u.Z.convertDigits(t,!0),i=b(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(t),this._toggleEmptinessEventHandler(),this._formattedValue=t,this._focusOutOccurs||this._caret(i)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var t="number"===this.option("mode"),e="desktop"===r.Z.real().deviceType;this._useMaskBehavior()&&t?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(t){return(0,s.HD)(t)&&1===t.length},_moveCaret:function(t){if(t){var e=C(this._caret(),t),i=D(e,this._getInputVal(),this._getFormatPattern());this._caret(i)}},_shouldHandleKey:function(t){var e=(0,E.EV)(t),i=(0,E.j1)(t)||t.altKey||t.shiftKey||!this._isChar(e),n=e===_t,a=this._useMaskBehavior();return a&&!i&&!n},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){a.Z.off(this._input(),"."+ht)},_isInputFromPaste:function(t){var e=t.originalEvent&&t.originalEvent.inputType;return(0,s.$K)(e)?"insertFromPaste"===e:this._isValuePasted},_attachFormatterEvents:function(){var t=this._input();a.Z.on(t,(0,E.V4)(mt,ht),function(t){this._formatValue(t),this._isValuePasted=!1}.bind(this)),a.Z.on(t,(0,E.V4)("dxclick",ht),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0,this._caret(D(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),ft))}.bind(this)),a.Z.on(t,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(t){var e=this._getInputVal().slice(t);return e&&!this._isStub(e,!0)},_isStub:function(t,e){var i=(0,h.hr)(u.Z.getDecimalSeparator()),n="^[^0-9"+i+"]+$",a=new RegExp(n,"g");return a.test(t)&&(e||this._isChar(t))},_parseValue:function(t){return this._useMaskBehavior()?this._parsedValue:this.callBase(t)},_getPrecisionLimits:function(t){var e=this._getFormatForSign(t),i=d(e).index,n=(p(e,i)[1]||"").replace(/[^#0]/g,""),a=n.replace(/^(0*)#*/,"$1").length,o=n.length;return{min:a,max:o}},_revertSign:function(t){if(this._useMaskBehavior()){var e=this._caret();if(e.start!==e.end){if((0,E.EV)(t)===_t)return void this._applyRevertedSign(t,e,!0);this._caret(D(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(t,e)}},_applyRevertedSign:function(t,e,i){var n=-1*(0,h.IS)(this._parsedValue,null);if(this._isValueInRange(n)&&(this._parsedValue=n,i)){var a=this._getFormatPattern(),o=this._getInputVal();this._setTextByParsedValue(),t.preventDefault();var s=this._getInputVal(),r=w(o,s,a);e=C(e,r);var l=D(e,s,a);this._caret(l)}},_removeMinusFromText:function(t,e){var i=this._lastKeyName===_t&&t.charAt(e.start-1)===pt;return i?this._replaceSelectedText(t,{start:e.start-1,end:e.start},""):t},_setTextByParsedValue:function(){var t=this._getFormatPattern(),e=this._parseValue(),i=this._format(e,t)||"";this._setInputText(i)},_formatValue:function(t){var e=this._getInputVal(),i=this._caret(),n=this._removeMinusFromText(e,i),a=n!==e;if(e=n,!this._isInputFromPaste(t)&&this._isValueIncomplete(n))return this._formattedValue=e,void(a&&this._setTextByParsedValue());var o=u.Z.convertDigits(this._formattedValue,!0)!==e;if(o){var r=this._tryParse(e,i,"");(0,s.$K)(r)&&(this._parsedValue=r)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var t=this._getInputVal();this._parsedValue=this._tryParse(t,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var t=this._removeStubs(this._getInputVal()),e=t?this._parseValue():null;(0,s.kE)(e)?this._parsedValue=(0,l.n$)(e,this.option("min"),this.option("max")):this._parsedValue=e}},_valueChangeEventHandler:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret();this._saveValueChangeEvent(t),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged:function(t){switch(t.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(t);break;default:this.callBase(t)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}}),gt=vt;(0,n.Z)("dxNumberBox",gt);var yt=gt,Ct=yt},38722:function(t,e,i){i.d(e,{Z:function(){return Q}});i(73210),i(41539),i(39714),i(68309);var n=i(40555),a=i(38218),o=i(29532),s=i(43908),r=i(33268),l=i(69598),u=i(57566),h=i(17437),d=i(19386),c=i(90170),p=i(946),_=i(61025),m=i(9726),f=(i(92222),i(57327),i(47042),i(54747),i(69826),i(8767)),v=i(42632),g=i(50337),y=i(97814),C=i(73103),b=i(10648),x=i(71923),I=i(31925),D=i(75395),w=i(80266),S=i(83959),B=i(30943),T=i(18051),V=i(31431),k=i(97419),Z=(0,s.l)({},T.Z,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new V.o({store:new k.Z(this.option("items")),pageSize:0}))},_compileDisplayGetter:function(){this._displayGetter=(0,B.vb)(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=(0,B.vb)(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var e=new u.BH;return t=this._unwrappedValue(t),(0,o.$K)(t)?(this._loadSingle(this._valueGetterExpr(),t).done(function(i){this._isValueEquals(this._valueGetter(i),t)?e.resolve(i):e.reject()}.bind(this)).fail((function(){e.reject()})),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading:function(){var t;null===(t=this._loadValueDeferred)||void 0===t||t.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(t){var e;return t=null!==(e=t)&&void 0!==e?e:this._getCurrentValue(),t&&this._dataSource&&"this"===this._valueGetterExpr()&&(t=this._getItemKey(t)),S.Z.unwrap(t)},_getItemKey:function(t){var e=this._dataSource.key();if(Array.isArray(e)){for(var i={},n=0,a=e.length;n<a;n++)i[e[n]]=t[e[n]];return i}return e&&"object"===(0,m.Z)(t)&&(t=t[e]),t},_isValueEquals:function(t,e){var i=this._dataSource&&this._dataSource.key(),n=this._compareValues(t,e);return!n&&i&&(0,o.$K)(t)&&(0,o.$K)(e)&&(n=Array.isArray(i)?this._compareByCompositeKey(t,e,i):this._compareByKey(t,e,i)),n},_compareByCompositeKey:function(t,e,i){var n=o.Kn;if(!n(t)||!n(e))return!1;for(var a=0,s=i.length;a<s;a++)if(t[i[a]]!==e[i[a]])return!1;return!0},_compareByKey:function(t,e,i){var n=S.Z.unwrap,o=(0,a.IS)(n(t[i]),t),s=(0,a.IS)(n(e[i]),e);return this._compareValues(o,s)},_compareValues:function(t,e){return(0,B.Ex)(t,!0)===(0,B.Ex)(e,!0)},_initDynamicTemplates:a.ZT,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var t=this.option("valueExpr"),e=(0,o.HD)(t)&&"this"!==t||(0,o.mf)(t);return e?t:null},_dataExpressionOptionChanged:function(t){switch(t.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),E=Z,O=i(399),M=i(98992),A=(0,v.Jj)(),F=".dx-list-item",$="dxListItemData",R="dx-dropdownlist-popup-wrapper",P="dx-skip-gesture-event",L="input",H=["startswith","contains","endwith","notcontains"],N="android"!==D.Z.real().platform,W=C.Z.inherit({_supportedKeys:function(){var t=this.callBase();return(0,s.l)({},t,{tab:function(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);var i=(0,n.Z)(this._list.option("focusedElement"));i.length&&this._setSelectedElement(i)}t.tab.apply(this,arguments)},space:a.ZT,home:a.ZT,end:a.ZT})},_allowSelectItemByTab:function(){return this.option("opened")&&"instantly"===this.option("applyValueMode")},_setSelectedElement:function(t){var e=this._valueGetter(this._list._getItemData(t));this._setValue(e)},_setValue:function(t){this.option("value",t)},_getDefaultOptions:function(){return(0,s.l)(this.callBase(),(0,s.l)(E._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:p.Z.format("dxCollectionWidget-noDataText"),onSelectionChanged:null,onItemClick:a.ZT,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),(0,s.l)(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var t=this.option().items;t&&!t.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new O.s("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(t){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(t,e,i){return t>i?e:t<e?i:t},_items:function(){var t=this._getPlainItems(!this._list&&this._dataSource.items()),e=new w.Z(t).filter("disabled","<>",!0).toArray();return e},_calcNextItem:function(t){var e=this._items(),i=this._fitIntoRange(this._getSelectedIndex()+t,0,e.length-1);return e[i]},_getSelectedIndex:function(){var t=this._items(),e=this.option("selectedItem"),i=-1;return(0,l.S6)(t,function(t,n){if(this._isValueEquals(n,e))return i=t,!1}.bind(this)),i},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var t=this._popup.$content();g.Z.off(t,"mouseup"),g.Z.on(t,"mouseup",this._saveFocusOnWidget.bind(this));var e=this;this._popup.on({shown:function(){e.$element().addClass(P)},hidden:function(){e.$element().removeClass(P)}})},_updateCustomBoundaryContainer:function(){var t=this.option("dropDownOptions.container"),e=t&&(0,n.Z)(t);if(e&&e.length&&!(0,o.FJ)(e.get(0))){var i=[].slice.call(e.parents());i.unshift(e.get(0)),(0,l.S6)(i,function(t,e){return e!==(0,n.Z)("body").get(0)&&("hidden"===A.getComputedStyle(e).overflowY?(this._$customBoundaryContainer=(0,n.Z)(e),!1):void 0)}.bind(this))}},_popupWrapperClass:function(){return R},_renderInputValue:function(){var t=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(t,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,t))},_loadInputValue:function(t,e){return this._loadItem(t).always(e)},_getItemFromPlain:function(t,e){var i,n;return e&&"object"!==(0,m.Z)(t)&&(e.itemByValue||(e.itemByValue={},i=this._getPlainItems(),i.forEach((function(t){e.itemByValue[this._valueGetter(t)]=t}),this)),n=e.itemByValue[t]),n||(i=this._getPlainItems(),n=(0,a.h3)(i,function(e){return this._isValueEquals(this._valueGetter(e),t)}.bind(this))[0]),n},_loadItem:function(t,e){var i=this._getItemFromPlain(t,e);return void 0!==i?(new u.BH).resolve(i).promise():this._loadValue(t)},_getPlainItems:function(t){var e=[];t=t||this.option("items")||this._dataSource.items()||[];for(var i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},_updateActiveDescendant:function(){var t,e=this.option("opened"),i=null===(t=this._list)||void 0===t?void 0:t.getFocusedItemId(),a=(0,n.Z)("#".concat(i)).length>0,o=e&&a&&i;this.setAria({activedescendant:o||null})},_setSelectedItem:function(t){var e=this._displayValue(t);this.option("selectedItem",(0,a.IS)(t,null)),this.option("displayValue",e)},_displayValue:function(t){return this._displayGetter(t)},_refreshSelected:function(){var t={};this._listItemElements().each(function(e,i){var a=(0,n.Z)(i),o=this._valueGetter(a.data($)),s=this._isSelectedValue(o,t);s?this._list.selectItem(a):this._list.unselectItem(a)}.bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){this.option("focusStateEnabled")&&this._list&&this._list.option("focusedElement",null)},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_validateSearchMode:function(){var t=this.option("searchMode"),e=t.toLowerCase();if((0,r.d3)(e,H)<0)throw x.Z.Error("E1019",t)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._setListDataSource(),this._renderInputValue().fail(function(){this._isCustomValueAllowed()||this._clearSelectedItem()}.bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(F):(0,n.Z)()},_popupConfig:function(){return(0,s.l)(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners:function(){var t=this._canListHaveFocus();return this.callBase().concat([!t&&this._list])},_setAriaTargetForList:function(){this._list._getAriaTarget=this._getAriaTarget.bind(this)},_renderList:function(){this._listId="dx-"+(new y.Z)._value;var t=this._$list=(0,n.Z)("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._list=this._createComponent(t,b.Z,this._listConfig()),this._refreshList(),this._setAriaTargetForList(),this._list.option("_listAttributes",{role:"combobox"}),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var t=(0,I.V4)("mousedown","dxDropDownList");g.Z.off(this._$list,t),g.Z.on(this._$list,t,(function(t){return t.preventDefault()}))},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria({controls:this._list&&this._listId,owns:this._popup&&this._popupContentId})},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var t=!!this._list.option("dataSource");return t!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return"desktop"===D.Z.real().deviceType},_listConfig:function(){var t={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_revertPageOnEmptyLoad:!0,hoverStateEnabled:!!this._isDesktopDevice()&&this.option("hoverStateEnabled"),focusStateEnabled:!!this._isDesktopDevice()&&this.option("focusStateEnabled")};return this._canListHaveFocus()||(t.tabIndex=null),t},_canListHaveFocus:function(){return!1},_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(t,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(t){this._listItemClickHandler(t),this._itemClickAction(t)},_listItemClickHandler:a.ZT,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return!this._canKeepDataSource()&&this._needPassDataSourceToList()},_canKeepDataSource:function(){var t,e=this._isMinSearchLengthExceeded();return(null===(t=this._dataSource)||void 0===t?void 0:t.isLoaded())&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!e&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return(0,I.V4)(L,this.NAME+"Search")},_getCompositionStartEvent:function(){return(0,I.V4)("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return(0,I.V4)("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return(0,I.V4)("input",this.NAME+"FocusPolicy")},_renderEvents:function(){var t=this;this.callBase(),g.Z.on(this._input(),this._getSetFocusPolicyEvent(),(function(){t._setFocusPolicy()})),this._shouldRenderSearchEvent()&&(g.Z.on(this._input(),this._getSearchEvent(),(function(e){t._searchHandler(e)})),N&&(g.Z.on(this._input(),this._getCompositionStartEvent(),(function(){t._isTextCompositionInProgress(!0)})),g.Z.on(this._input(),this._getCompositionEndEvent(),(function(e){t._isTextCompositionInProgress(void 0),t._searchHandler(e,t._searchValue())}))))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){g.Z.off(this._input(),this._getSearchEvent()),g.Z.off(this._input(),this._getSetFocusPolicyEvent()),N&&(g.Z.off(this._input(),this._getCompositionStartEvent()),g.Z.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(t){if(!arguments.length)return this._isTextComposition;this._isTextComposition=t},_searchHandler:function(t,e){var i=this;if(!this._isTextCompositionInProgress())if(this._isMinSearchLengthExceeded()){var n=this.option("searchTimeout");n?(this._clearSearchTimer(),this._searchTimer=setTimeout((function(){i._searchDataSource(e)}),n)):this._searchDataSource(e)}else this._searchCanceled()},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._searchValue();this._filterDataSource(t)},_filterDataSource:function(t){this._clearSearchTimer();var e=this._dataSource;e&&(e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(t),e.load().done(this._dataSourceFiltered.bind(this,t)))},_clearFilter:function(){var t=this._dataSource;t&&t.searchValue()&&t.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!this.option("readOnly")&&this._searchValue()){var t=this._shouldOpenPopup();t&&!this._isFocused()||(this.option("opened",t),t&&this._dimensionChanged())}},_dataSourceChangedHandler:function(t){0===this._dataSource.pageIndex()?this.option().items=t:this.option().items=this.option().items.concat(t)},_hasItemsToShow:function(){var t=this._dataSource&&this._dataSource.items()||[],e=t.length,i=this._needPassDataSourceToList();return!(!i||!e)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._dimensionChanged()},_dimensionChanged:function(){this.callBase(arguments),this._popup&&this._updatePopupDimensions()},_needPopupRepaint:function(){if(!this._dataSource)return!1;var t=this._dataSource.pageIndex(),e=(0,o.$K)(this._pageIndex)&&t<=this._pageIndex;return this._pageIndex=t,e},_updatePopupDimensions:function(){this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var t=this.$element(),e=this._$customBoundaryContainer,i=t.offset().top-(e?e.offset().top:0),n=(0,f.zp)(A),a=e?Math.min((0,f.zp)(e),n):n,o=Math.max(i,a-i-(0,f.zp)(t));return Math.min(.5*a,o)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var t=this.option("value"),e=this._shouldUseDisplayValue(t)?this._displayGetter(t):t;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(t){return"this"===this.option("valueExpr")&&(0,o.Kn)(t)},_optionChanged:function(t){switch(this._dataExpressionOptionChanged(t),t.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(t.name,t.value),this.callBase(t);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"useItemTextAsTitle":this._setListOption(t.name);break;case"displayValue":this.option("text",t.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":t.previousValue!==t.value&&this._selectionChangedAction({selectedItem:t.value});break;default:this.callBase(t)}}}).include(E,M.Z);(0,_.Z)("dxDropDownList",W);var z=W,K=(i(93232),".dx-state-disabled"),G="dx-selectbox",q="dx-selectbox-popup",Y="dx-selectbox-container",U="dx-selectbox-popup-wrapper",j=z.inherit({_supportedKeys:function(){var t=this,e=this.callBase(),i=function(t){var e=this._isEditable();e?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(t.preventDefault(),this.reset()),this._savedTextRemoveEvent=t,this._preventSubstitution=!0},n=function(){t.option("searchEnabled")&&t._valueSubstituted()&&t._searchHandler()};return(0,s.l)({},e,{tab:function(){this.option("opened")&&"instantly"===this.option("applyValueMode")&&this._resetCaretPosition(!0),e.tab&&e.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(t){if(e.upArrow&&e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(t),!0},downArrow:function(t){if(e.downArrow&&e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(t),!0},leftArrow:function(){n(),e.leftArrow&&e.leftArrow.apply(this,arguments)},rightArrow:function(){n(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home:function(){n(),e.home&&e.home.apply(this,arguments)},end:function(){n(),e.end&&e.end.apply(this,arguments)},escape:function(){var t=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),null===t||void 0===t||t},enter:function(t){var i=this.option("opened"),n=this._input().val().trim(),a=n&&this._list&&!this._list.option("focusedElement");if(!n&&(0,o.$K)(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(t),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return t.preventDefault(),a&&(i&&this._toggleOpenState(),this._valueChangeEventHandler(t)),i;if(e.enter&&e.enter.apply(this,arguments))return i}},space:function(t){var e=this.option("opened"),i=this.option("searchEnabled"),n=this.option("acceptCustomValue");if(e&&!i&&!n)return t.preventDefault(),this._valueChangeEventHandler(t),!0},backspace:i,del:i})},_getDefaultOptions:function(){return(0,s.l)(this.callBase(),{placeholder:p.Z.format("Select"),fieldTemplate:null,valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(t){(0,o.$K)(t.customItem)||(t.customItem=t.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass(G),this._renderTooltip(),this.callBase(),this._$container.addClass(Y)},_createPopup:function(){this.callBase(),this._popup.$element().addClass(q),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+U},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var t=this._searchValue();if(t){var e=this._list._itemElements(),i=(0,r.d3)(this.option("selectedItem"),this.option("items")),n=i>=0&&!this._isCustomItemSelected()?e.eq(i):null;this._focusListElement(n)}else this._focusListElement(null)},_renderFocusedElement:function(){if(this._list){var t=this._searchValue();if(t&&!this.option("acceptCustomValue")){var e=this._list._itemElements(),i=e.not(K).eq(0);this._focusListElement(i)}else this._focusListElement(null)}},_focusListElement:function(t){this._preventInputValueRender=!0,this._list.option("focusedElement",(0,h.u)(t)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase();var t=this._dataSource&&this._dataSource.paginate();t&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),(new u.BH).resolve()},_renderInputValue:function(){return this.callBase().always(function(){this._renderInputValueAsync()}.bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always(function(){this._refreshSelected()}.bind(this))},_renderInputValueImpl:function(){return this._renderField(),(new u.BH).resolve()},_setNextItem:function(t){var e=this._calcNextItem(t),i=this._valueGetter(e);this._setValue(i)},_setNextValue:function(t){var e=this._dataSource.isLoaded()?(new u.BH).resolve():this._dataSource.load();e.done(function(){var e=this._getSelectedIndex(),i=this._dataSource.pageSize(),n=this._dataSource.isLastPage(),a=e===this._items().length-1;this._saveValueChangeEvent(t);var o="downArrow"===(0,I.EV)(t)?1:-1;i&&!n&&a&&o>0?(this._popup||this._createPopup(),this._dataSource.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,o))):this._setNextItem(o)}.bind(this))},_setSelectedItem:function(t){var e=!this._isCustomValueAllowed()&&void 0===t;this.callBase(e?null:t),e||this._isEditable()&&!this._isCustomItemSelected()||this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(t){return t=!(0,o.$K)(t)&&this._isCustomValueAllowed()?this.option("value"):t,this.callBase(t)},_listConfig:function(){var t=(0,s.l)(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&(0,s.l)(t,{showSelectionControls:!0,selectionByClick:!0}),t},_listFocusedItemChangeHandler:function(t){if(!this._preventInputValueRender){var e=t.component,i=(0,n.Z)(e.option("focusedElement")),a=e._getItemData(i);this._updateField(a)}},_updateField:function(t){var e=this._getTemplateByOption("fieldTemplate");if(!e||!this.option("fieldTemplate")){var i=this._displayGetter(t);return this.option("text",i),void this._renderDisplayText(i)}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):a.ZT},_selectionChangeHandler:function(t){(0,l.S6)(t.addedItems||[],function(t,e){this._setValue(this._valueGetter(e))}.bind(this))},_getActualSearchValue:function(){return this._dataSource.searchValue()},_toggleOpenState:function(t){if(!this.option("disabled")){if(t=arguments.length?t:!this.option("opened"),t||this._shouldClearFilter()||this._restoreInputText(!0),this._wasSearch()&&t){this._wasSearch(!1);var e=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(e&&this._dataSource){if(this._searchTimer)return;var i=this._getActualSearchValue();i&&this._wasSearch(!0),this._filterDataSource(i||null)}else this._setListOption("items",[])}t&&this._scrollToSelectedItem(),this.callBase(t)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._dimensionChanged()},_isValueEqualInputText:function(){var t=this.option("selectedItem");if(null===t)return!1;var e=this._displayGetter(t),i=e?String(e):"",n=this._searchValue();return i===n},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(t){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(function(){var e=this.option("selectedItem");this.option("acceptCustomValue")?t||(this._updateField(e),this._clearFilter()):this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")?this._clearTextValue():this._isValueEqualInputText()||this._renderInputValue().always(function(t){var i=(0,a.IS)(t,e);this._setSelectedItem(i),this._updateField(i),this._clearFilter()}.bind(this))}.bind(this))},_focusOutHandler:function(t){if(!this._preventNestedFocusEvent(t)){var e=this._isOverlayNestedTarget(t.relatedTarget);e||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(t)}t.target=this._input().get(0),this.callBase(t)},_cancelSearchIfNeed:function(t){var e=this.option(),i=e.searchEnabled,n=this._isOverlayNestedTarget(null===t||void 0===t?void 0:t.relatedTarget),a=this._wasSearch()&&i&&!n;if(a){var o,s=null===(o=this._popup)||void 0===o?void 0:o._hideAnimationProcessing;this._clearSearchTimer(),s?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(t){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=t},_isOverlayNestedTarget:function(t){return!!(0,n.Z)(t).closest(".".concat(U)).length},_clearTextValue:function(){this.option("selectedItem")&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var t=c["default"].getActiveElement();return this.callBase()&&(0,n.Z)(t).closest(this._input()).length>0},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var t=this._list&&this.option("opened")&&(0,n.Z)(this._list.option("focusedElement"));return t&&t.length?this._list._getItemData(t):this.option("selectedItem")},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&"single"!==this.option("selectionMode"))},_listItemClickHandler:function(t){var e=this._getCurrentValue();this._focusListElement((0,n.Z)(t.itemElement)),this._saveValueChangeEvent(t.event),this._completeSelection(this._valueGetter(t.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(t.itemData)&&this._updateField(t.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(t){this._setValue(t)},_loadItem:function(t,e){var i=this,n=new u.BH;return this.callBase(t,e).done(function(t){n.resolve(t)}.bind(this)).fail(function(e){if(null===e||void 0===e||!e.shouldSkipCallback){var a=i.option("selectedItem");i.option("acceptCustomValue")&&t===i._valueGetter(a)?n.resolve(a):n.reject()}}.bind(this)),n.promise()},_loadInputValue:function(t,e){return this._loadItemDeferred=this._loadItem(t).always(e),this._loadItemDeferred},_isCustomItemSelected:function(){var t=this.option("selectedItem"),e=this._searchValue(),i=this._displayGetter(t);return!i||e!==i.toString()},_valueChangeEventHandler:function(t){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(t),this._isValueChanging=!1)},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(t){var e={text:t},i=this._customItemCreatingAction(e),n=(0,a.IS)(i,e.customItem);return(0,o.$K)(i)&&d.Z.log("W0015","onCustomItemCreating","customItem"),n},_customItemAddedHandler:function(t){var e=this._searchValue(),i=this._createCustomItem(e);if(this._saveValueChangeEvent(t),void 0===i)throw this._renderValue(),d.Z.Error("E0121");(0,o.tI)(i)?(0,u.p4)(i).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(i)},_setCustomItem:function(t){this._disposed||(t=t||null,this.option("selectedItem",t),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(t)),this._renderDisplayText(this._displayGetter(t)))},_clearValueHandler:function(t){return this._preventFiltering=!0,this.callBase(t),this._searchCanceled(),!1},_wasSearch:function(t){if(!arguments.length)return this._wasSearchValue;this._wasSearchValue=t},_searchHandler:function(){this._preventFiltering?delete this._preventFiltering:(this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments))},_dataSourceFiltered:function(t){this.callBase(),null!==t&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var t=this._input().get(0),e=this._searchValue().length,i=0===t.selectionStart&&t.selectionEnd===e,n=t.selectionStart!==t.selectionEnd,a=e===t.selectionEnd;return this._wasSearch()&&n&&!i&&a&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&"startswith"===this.option("searchMode")},_renderInputSubstitution:function(){if(this._shouldSubstitutionBeRendered()){var t=this._list&&this._getPlainItems(this._list.option("items"))[0];if(t){var e=this._input(),i=e.val().length;if(0!==i){var n=e.get(0),a=this._displayGetter(t).toString();n.value=a,this._caret({start:i,end:a.length})}}}else delete this._preventSubstitution},_dispose:function(){this._renderInputValueAsync=a.ZT,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(t){switch(t.name){case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(t)}}});(0,_.Z)("dxSelectBox",j);var Q=j},17053:function(t,e,i){i.d(e,{Z:function(){return b}});i(41539),i(68309),i(39714);var n=i(11229),a=i(30803),o=i(71923),s=i(15526),r=i(43908),l=i(69598),u=i(75266),h=(i(54747),i(71177)),d=h.Z.inherit({ctor:function(t,e){var i=this;this.editor=t,this.validator=e,this.validationRequestsCallbacks=[];var n=function(t){i.validationRequestsCallbacks.forEach((function(e){return e(t)}))};t.validationRequest.add(n),t.on("disposing",(function(){t.validationRequest.remove(n)}))},getValue:function(){return this.editor.option("value")},getCurrentValidationError:function(){return this.editor.option("validationError")},bypass:function(){return this.editor.option("disabled")},applyValidationResults:function(t){this.editor.option({validationErrors:t.brokenRules,validationStatus:t.status})},reset:function(){this.editor.reset()},focus:function(){this.editor.focus()}}),c=d,p=i(61025),_=i(57566),m=i(97814),f="dx-validator",v="valid",g="invalid",y="pending",C=s.Z.inherit({_initOptions:function(t){this.callBase.apply(this,arguments),this.option(u.Z.initValidationOptions(t))},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{validationRules:[]})},_init:function(){this.callBase(),this._initGroupRegistration(),this.focused=(0,a["default"])(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration:function(){var t=this._findGroup();this._groupWasInit||this.on("disposing",(function(t){u.Z.removeRegisteredValidator(t.component._validationGroup,t.component)})),this._groupWasInit&&this._validationGroup===t||(u.Z.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=t,u.Z.registerValidatorInGroup(t,this))},_setOptionsByReference:function(){this.callBase(),(0,r.l)(this._optionsByReference,{validationGroup:!0})},_getEditor:function(){var t=this.$element()[0];return(0,n.aT)(t,"dx-validation-target")},_initAdapter:function(){var t=this,e=this._getEditor(),i=this.option("adapter");if(!i){if(e)return i=new c(e,this),i.validationRequestsCallbacks.push((function(e){t._validationInfo.skipValidation||t.validate(e)})),void this.option("adapter",i);throw o.Z.Error("E0120")}var n=i.validationRequestsCallbacks;n&&n.push((function(e){t.validate(e)}))},_toggleRTLDirection:function(t){var e,i,n,a=null!==(e=null===(i=this.option("adapter"))||void 0===i||null===(n=i.editor)||void 0===n?void 0:n.option("rtlEnabled"))&&void 0!==e?e:t;this.callBase(a)},_initMarkup:function(){this.$element().addClass(f),this.callBase()},_render:function(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes:function(){var t=this._getEditor();if(t){var e=this.option("validationRules")||[],i=e.some((function(t){var e=t.type;return"required"===e}))||null;t.isInitialized()&&t.setAria("required",i),t.option("_onMarkupRendered",(function(){t.setAria("required",i)}))}},_visibilityChanged:function(t){t&&this._initGroupRegistration()},_optionChanged:function(t){switch(t.name){case"validationGroup":return void this._initGroupRegistration();case"validationRules":return this._resetValidationRules(),this._toggleAccessibilityAttributes(),void(void 0!==this.option("isValid")&&this.validate());case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(u.Z.synchronizeValidationOptions(t,this.option()));break;default:this.callBase(t)}},_getValidationRules:function(){var t=this;return this._validationRules||(this._validationRules=(0,l.UI)(this.option("validationRules"),(function(e,i){return(0,r.l)({},e,{validator:t,index:i})}))),this._validationRules},_findGroup:function(){var t=this.$element();return this.option("validationGroup")||u.Z.findGroup(t,this._modelByElement(t))},_resetValidationRules:function(){delete this._validationRules},validate:function(t){var e,i=this,n=this.option("adapter"),a=this.option("name"),o=n.bypass&&n.bypass(),s=t&&void 0!==t.value?t.value:n.getValue(),l=n.getCurrentValidationError&&n.getCurrentValidationError(),h=this._getValidationRules(),d=this._validationInfo&&this._validationInfo.result;return d&&d.status===y&&d.value===s?(0,r.l)({},d):(o?e={isValid:!0,status:v}:l&&l.editorSpecific?(l.validator=this,e={isValid:!1,status:g,brokenRule:l,brokenRules:[l]}):e=u.Z.validate(s,h,a),e.id=(new m.Z).toString(),this._applyValidationResult(e,n),e.complete&&e.complete.then((function(t){t.id===i._validationInfo.result.id&&i._applyValidationResult(t,n)})),(0,r.l)({},this._validationInfo.result))},reset:function(){var t=this.option("adapter"),e={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:v,complete:null};this._validationInfo.skipValidation=!0,t.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(e,t)},_updateValidationResult:function(t){if(this._validationInfo.result&&this._validationInfo.result.id===t.id)for(var e in t)"id"!==e&&"complete"!==e&&(this._validationInfo.result[e]=t[e]);else{var i=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=(0,r.l)({},t,{complete:i})}},_applyValidationResult:function(t,e){var i=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(t.validator=this,this._updateValidationResult(t),e.applyValidationResults&&e.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===y)return this._validationInfo.deferred||(this._validationInfo.deferred=new _.BH,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),void this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);this._validationInfo.result.status!==y&&(i(t),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(t),this._validationInfo.deferred=null))},focus:function(){var t=this.option("adapter");t&&t.focus&&t.focus()},_useTemplates:function(){return!1}});(0,p.Z)("dxValidator",C);var b=C}}]);
//# sourceMappingURL=289-legacy.6d486a4e.js.map