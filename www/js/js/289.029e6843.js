"use strict";(self["webpackChunksiforeca"]=self["webpackChunksiforeca"]||[]).push([[289],{9754:function(t,e,i){var n=i(9164),a=i(337),s=i(5526),o=i(9598),r=i(1925),l=i(3908),h=i(6927),u="dxSwipeable",d="dx-swipeable",c={onStart:n.BL,onUpdated:n.aq,onEnd:n.ut,onCancel:"dxswipecancel"},p=s.Z.inherit({_getDefaultOptions:function(){return(0,l.l)(this.callBase(),{elastic:!0,immediate:!1,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})},_render:function(){this.callBase(),this.$element().addClass(d),this._attachEventHandlers()},_attachEventHandlers:function(){if(this._detachEventHandlers(),!this.option("disabled")){var t=this.NAME;this._createEventData(),(0,o.S6)(c,function(e,i){var n=this._createActionByOption(e,{context:this});i=(0,r.V4)(i,t),a.Z.on(this.$element(),i,this._eventData,(function(t){return n({event:t})}))}.bind(this))}},_createEventData:function(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate")}},_detachEventHandlers:function(){a.Z.off(this.$element(),"."+u)},_optionChanged:function(t){switch(t.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:this.callBase(t)}},_useTemplates:function(){return!1}});(0,h.u2)(p,u),e["Z"]=p},821:function(t,e,i){i.d(e,{I:function(){return a}});var n=i(7514);class a{constructor(t){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=null!==t&&void 0!==t?t:n.Et}get isHorizontal(){return this.direction===n.Xv||this.direction===n.b$}get isVertical(){return this.direction===n.Et||this.direction===n.b$}get isBoth(){return this.direction===n.b$}}},5361:function(t,e,i){var n=i(555),a=i(337),s=i(1025),o=i(3908),r=i(8218),l=i(2632),h=i(2195),u=i(9532),d=i(928),c=i(9598),p=i(8767),_=i(492),m=i(4212),f="dx-box",g=".dx-box",v="dx-box-item",C="dxBoxItemData",y={row:"minWidth",col:"minHeight"},b={row:"maxWidth",col:"maxHeight"},x=1,I={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},D={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},w={row:"row",col:"column"},S=(t,e,i)=>{if(i=(0,d.bh)(e,i),t.style[(0,d.Hj)(e)]=i,!(0,l.Ym)()){if(""===i||!(0,u.$K)(i))return;var n=(0,h.H0)(e),a=n+": "+i+";";t.attributes.style?t.attributes.style.value.indexOf(a)<0&&(t.attributes.style.value+=" "+a):t.setAttribute("style",a)}},B="dxBox",T="dxupdate."+B,V="dx-box-fallback-item",E={row:"nowrap",col:"normal"},k={row:{name:"width",getter:p.dz,setter:p.cl},col:{name:"height",getter:p.Cr,setter:p.QQ}},O={row:k.col,col:k.row},M={row:"marginLeft",col:"marginTop"},Z={row:"marginRight",col:"marginBottom"},A={row:"marginTop",col:"marginLeft"},F={row:"marginBottom",col:"marginRight"},$={marginLeft:"marginRight",marginRight:"marginLeft"};class R extends _.Z{_renderVisible(t,e){super._renderVisible(t),(0,u.$K)(e)&&this._options.fireItemStateChangedAction({name:"visible",state:t,oldState:e})}}class P{constructor(t,e){this._$element=t,this._option=e,this.initSize=r.ZT,this.update=r.ZT}renderBox(){this._$element.css({display:(0,d.gC)("flexDirection")+"flex"}),S(this._$element.get(0),"flexDirection",w[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){var t=this._option("align");return t in I?I[t]:t}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){var t=this._option("crossAlign");return t in D?D[t]:t}renderItems(t){var e=(0,d.gC)("flexDirection"),i=this._option("direction");(0,c.S6)(t,(function(){var t=(0,n.Z)(this),a=t.data(C);t.css({display:e+"flex"}).css(b[i],a.maxSize||"none").css(y[i],a.minSize||"0"),S(t.get(0),"flexBasis",a.baseSize||0),S(t.get(0),"flexGrow",a.ratio),S(t.get(0),"flexShrink",(0,u.$K)(a.shrink)?a.shrink:x),t.children().each(((t,e)=>{(0,n.Z)(e).css({width:"auto",height:"auto",display:(0,d.gC)("flexDirection")+"flex",flexBasis:0}),S(e,"flexGrow",1),S(e,"flexDirection",(0,n.Z)(e)[0].style.flexDirection||"column")}))}))}}class L{constructor(t,e){this._$element=t,this._option=e}renderBox(){this._$element.css({fontSize:0,whiteSpace:E[this._option("direction")],verticalAlign:"top"}),a.Z.off(this._$element,T),a.Z.on(this._$element,T,this.update.bind(this))}renderAlign(){var t=this._$items;if(t){var e=this._option("align"),i=this.totalItemSize,n=this._option("direction"),a=k[n].getter(this._$element),s=a-i,o=0;switch(this._setItemsMargins(t,n,0),e){case"start":break;case"end":o=s,t.first().css(this._chooseMarginSide(M[n]),o);break;case"center":o=.5*s,t.first().css(this._chooseMarginSide(M[n]),o),t.last().css(this._chooseMarginSide(Z[n]),o);break;case"space-between":o=.5*s/(t.length-1),this._setItemsMargins(t,n,o),t.first().css(this._chooseMarginSide(M[n]),0),t.last().css(this._chooseMarginSide(Z[n]),0);break;case"space-around":o=.5*s/t.length,this._setItemsMargins(t,n,o)}}}_setItemsMargins(t,e,i){t.css(this._chooseMarginSide(M[e]),i).css(this._chooseMarginSide(Z[e]),i)}renderCrossAlign(){var t=this._$items;if(t){var e=this._option("crossAlign"),i=this._option("direction"),a=O[i].getter(this._$element),s=this;switch(e){case"start":break;case"end":(0,c.S6)(t,(function(){var t=(0,n.Z)(this),e=O[i].getter(t),o=a-e;t.css(s._chooseMarginSide(A[i]),o)}));break;case"center":(0,c.S6)(t,(function(){var t=(0,n.Z)(this),e=O[i].getter(t),o=.5*(a-e);t.css(s._chooseMarginSide(A[i]),o).css(s._chooseMarginSide(F[i]),o)}));break;case"stretch":t.css(s._chooseMarginSide(A[i]),0).css(s._chooseMarginSide(F[i]),0).css(O[i].name,"100%")}}}_chooseMarginSide(t){return this._option("rtlEnabled")&&$[t]||t}renderItems(t){this._$items=t;var e=this._option("direction"),i=0,a=0,s=0;(0,c.S6)(t,((t,o)=>{var r=(0,n.Z)(o);r.css({display:"inline-block",verticalAlign:"top"}),k[e].setter(r,"auto"),r.removeClass(V);var l=r.data(C),h=l.ratio||0,d=this._baseSize(r),c=(0,u.$K)(l.shrink)?l.shrink:x;i+=h,a+=c*d,s+=d}));var o=this._boxSize()-s,r=t=>{var e=t.data(C),n=this._baseSize(t),s=o>=0?e.ratio||0:((0,u.$K)(e.shrink)?e.shrink:x)*n,r=o>=0?i:a,l=r?Math.round(o*s/r):0;return n+l},l=0;(0,c.S6)(t,((t,i)=>{var a=(0,n.Z)(i),s=(0,n.Z)(i).data(C),o=r(a);l+=o,a.css(b[e],s.maxSize||"none").css(y[e],s.minSize||"0").css(k[e].name,o),a.addClass(V)})),this.totalItemSize=l}_baseSize(t){var e=(0,n.Z)(t).data(C);return null==e.baseSize?0:"auto"===e.baseSize?this._contentSize(t):this._parseSize(e.baseSize)}_contentSize(t){return k[this._option("direction")].getter((0,n.Z)(t))}_parseSize(t){return String(t).match(/.+%$/)?.01*parseFloat(t)*this._boxSizeValue:t}_boxSize(t){if(!arguments.length)return this._boxSizeValue=this._boxSizeValue||this._totalBaseSize(),this._boxSizeValue;this._boxSizeValue=t}_totalBaseSize(){var t=0;return(0,c.S6)(this._$items,((e,i)=>{t+=this._baseSize(i)})),t}initSize(){this._boxSize(k[this._option("direction")].getter(this._$element))}update(){if(this._$items&&!this._$element.is(":hidden")){this._$items.detach(),this.initSize(),this._$element.append(this._$items),this.renderItems(this._$items),this.renderAlign(),this.renderCrossAlign();var t=this._$element.get(0);this._$items.find(g).each((function(){t===(0,n.Z)(this).parent().closest(g).get(0)&&a.Z.triggerHandler(this,T)}))}}}class H extends m.Z{_getDefaultOptions(){return(0,o.l)(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_layoutStrategy:"flex",_queue:void 0})}_itemClass(){return v}_itemDataKey(){return C}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass("".concat(f,"-").concat(this.option("_layoutStrategy"))),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout="fallback"===this.option("_layoutStrategy")?new L(this.$element(),this.option.bind(this)):new P(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return!this.option("_queue")&&!!this._queue.length}_pushItemToQueue(t,e){this._queue.push({$item:t,config:e})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass(f),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(t){this._layout.initSize(),super._renderItems(t);while(this._queueIsNotEmpty()){var e=this._shiftItemFromQueue();this._createComponent(e.$item,H,(0,o.l)({_layoutStrategy:this.option("_layoutStrategy"),itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},e.config))}this._layout.renderItems(this._itemElements()),clearTimeout(this._updateTimer),this._updateTimer=setTimeout((()=>{this._isUpdated||this._layout.update(),this._isUpdated=!1,this._updateTimer=null}))}_renderItemContent(t){var e=t.itemData&&t.itemData.node;return e?this._renderItemContentByNode(t,e):super._renderItemContent(t)}_postprocessRenderItem(t){var e=t.itemData.box;e&&this._pushItemToQueue(t.itemContent,e)}_createItemByTemplate(t,e){return e.itemData.box?t.source?t.source():(0,n.Z)():super._createItemByTemplate(t,e)}_visibilityChanged(t){t&&this._dimensionChanged()}_dimensionChanged(){this._updateTimer||(this._isUpdated=!0,this._layout.update())}_dispose(){clearTimeout(this._updateTimer),super._dispose.apply(this,arguments)}_itemOptionChanged(t,e,i,n){"visible"===e&&this._onItemStateChanged({name:e,state:i,oldState:!1!==n}),super._itemOptionChanged(t,e,i)}_optionChanged(t){switch(t.name){case"_layoutStrategy":case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(t)}}_itemOptions(){var t=super._itemOptions();return t.fireItemStateChangedAction=t=>{this._onItemStateChanged(t)},t}repaint(){this._dimensionChanged()}}H.ItemClass=R,(0,s.Z)("dxBox",H),e["Z"]=H},6254:function(t,e,i){var n=i(1025),a=i(1925),s=i(9532),o=i(1617),r=i(3908),l=i(3737),h=i(337),u=i(4599),d=i(8218),c=t=>t.getMonth()+1,p=(t,e)=>{var i=t.getDate(),n=v("M",t),a=(0,l.n$)(parseInt(e),n.min,n.max);t.setMonth(a-1,1);var{min:s,max:o}=v("dM",t),r=(0,l.n$)(i,s,o);t.setDate(r)},_={a:t=>t.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:c,L:c,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds"},m=(0,r.l)({},(0,u.xe)(),{a:(t,e)=>{var i=t.getHours(),n=i>=12;n!==!!parseInt(e)&&t.setHours((i+12)%24)},d:(t,e)=>{var i=v("dM",t).max;e>i&&t.setMonth(t.getMonth()+1),t.setDate(e)},h:(t,e)=>{var i=t.getHours()>=12;t.setHours(+e%12+(i?12:0))},M:p,L:p,E:(t,e)=>{e<0||t.setDate(t.getDate()-t.getDay()+parseInt(e))},y:(t,e)=>{var i=t.getFullYear(),n=String(e).length,a=String(v("y",t).max).length,s=parseInt(String(i).substr(0,a-n)+e);t.setFullYear(s)}}),f=t=>_[t]||(()=>t),g=(t,e)=>{for(var i=e.regexp.exec(t),n=0,a=0,s=[],o=function(t){n=a,a=n+i[t].length;var o=e.patterns[t-1].replace(/^'|'$/g,""),r=f(o[0]);s.push({index:t-1,isStub:o===i[t],caret:{start:n,end:a},pattern:o,text:i[t],limits:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return v(o[0],...e)},setter:m[o[0]]||d.ZT,getter:r})},r=1;r<i.length;r++)o(r);return s},v=(t,e,i)=>{var n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:0,max:23},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1}};return n[i||t]||n.getAmPm},C=(t,e)=>{for(var i=0;i<t.length;i++){var n=t[i].caret.end>=e;if(!t[i].isStub&&n)return i}return null},y=i(7530),b=i(9049),x=i(2632),I=i(9598),D=i(6545),w=i(4133),S=i(5395),B=i(7226),T=i(7230),V=i(555),E=i(1623),k=["year","day","month","day"],O=["hours","minutes","seconds","milliseconds"],M=6e4,Z=60*M*24,A=365*Z,F=function(t){var e=typeof t;return"string"===e?"format":"object"===e&&void 0!==t.type?t.type:null},$={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:M,ONE_DAY:Z,ONE_YEAR:A,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){var t=new Date;return new Date(t.getFullYear()+50,t.getMonth(),t.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:function(){return"yyyy-MM-dd"},components:k},time:{getStandardPattern:function(){return"HH:mm"},components:O},datetime:{getStandardPattern:function(){var t;return function(){var e=(0,V.Z)("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(t="yyyy-MM-ddTHH:mmZ")}(),t||(t="yyyy-MM-ddTHH:mm:ssZ"),$.FORMATS_INFO.datetime.getStandardPattern=function(){return t},t},components:[...k,...O]},"datetime-local":{getStandardPattern:function(){return"yyyy-MM-ddTHH:mm:ss"},components:[...k,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat:function(t,e){var i=$.FORMATS_INFO[e].getStandardPattern();return E.Z.serializeDate(t,i)},fromStandardDateFormat:function(t){var e=E.Z.dateParser(t);return(0,s.J_)(e)?e:void 0},getMaxMonthDay:function(t,e){return new Date(t,e+1,0).getDate()},mergeDates:function(t,e,i){if(!e)return e||null;if(!t||isNaN(t.getTime())){var n=new Date(null);t=new Date(n.getFullYear(),n.getMonth(),n.getDate())}var a=new Date(t.valueOf()),s=$.FORMATS_INFO[i];return(0,I.S6)(s.components,(function(){var t=$.DATE_COMPONENTS_INFO[this];a[t.setter](e[t.getter]())})),a},getLongestCaptionIndex:function(t){var e,i=0,n=0;for(e=0;e<t.length;++e)t[e].length>n&&(i=e,n=t[e].length);return i},formatUsesMonthName:function(t){return y.Z.formatUsesMonthName(t)},formatUsesDayName:function(t){return y.Z.formatUsesDayName(t)},getLongestDate:function(t,e,i){var n=F(t),a=9;n&&!$.formatUsesMonthName(n)||(a=$.getLongestCaptionIndex(e));var s=new Date(1888,a,21,23,59,59,999);if(!n||$.formatUsesDayName(n)){var o=s.getDate()-s.getDay()+$.getLongestCaptionIndex(i);s.setDate(o)}return s},normalizeTime:function(t){t.setSeconds(0),t.setMilliseconds(0)}};$.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter:function(t,e){var i=new Date(e.getTime());return i.setFullYear(t),y.Z.format(i,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter:function(t,e){var i=new Date(e.getTime());return i.setDate(t),y.Z.format(i,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:function(t){return y.Z.getMonthNames()[t]},startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:function(t){return y.Z.format(new Date(0,0,0,t),"hour")},startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:function(t){return y.Z.format(new Date(0,0,0,0,t),"minute")},startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:function(t){return y.Z.format(new Date(0,0,0,0,0,t),"second")},startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:function(t){return y.Z.format(new Date(0,0,0,0,0,0,t),"millisecond")},startValue:0,endValue:999}};var R=$,P=i(3103),L=i(946),H=i(8767),N=i(7814),W=i(880),z=i(1059),K=i(9754),G=i(1085),q="dx-calendar-navigator",Y="dx-calendar-navigator-previous-month",U="dx-calendar-navigator-next-month",j="dx-calendar-navigator-previous-view",Q="dx-calendar-navigator-next-view",J="dx-calendar-disabled-navigator-link",X="dx-calendar-caption-button",tt=G.Z.inherit({_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{onClick:null,onCaptionClick:null,text:""})},_init:function(){this.callBase(),this._initActions()},_initActions:function(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")},_initMarkup:function(){this.callBase(),this.$element().addClass(q),this._renderButtons(),this._renderCaption()},_renderButtons:function(){var t=this,e=this.option("rtlEnabled")?-1:1;this._prevButton=this._createComponent((0,V.Z)("<a>"),W["default"],{focusStateEnabled:!1,icon:"chevronleft",onClick:function(i){t._clickAction({direction:-e,event:i})},integrationOptions:{}});var i=this._prevButton.$element().addClass(j).addClass(Y);this._nextButton=this._createComponent((0,V.Z)("<a>"),W["default"],{focusStateEnabled:!1,icon:"chevronright",onClick:function(i){t._clickAction({direction:e,event:i})},integrationOptions:{}});var n=this._nextButton.$element().addClass(Q).addClass(U);this._caption=this._createComponent((0,V.Z)("<a>").addClass(X),W["default"],{focusStateEnabled:!1,onClick:function(e){t._captionClickAction({event:e})},integrationOptions:{}});var a=this._caption.$element();this.$element().append(i,a,n)},_renderCaption:function(){this._caption.option("text",this.option("text"))},toggleButton:function(t,e){var i="_"+t+"Button",n=this[i];n&&(n.option("disabled",e),n.$element().toggleClass(J,e))},_optionChanged:function(t){switch(t.name){case"text":this._renderCaption();break;default:this.callBase(t)}}}),et=tt,it=i(170),nt=i(1229),at=i(7437),st=i(4872),{abstract:ot}=G.Z,rt="dx-calendar-other-view",lt="dx-calendar-cell",ht="dx-calendar-empty-cell",ut="dx-calendar-today",dt="dx-calendar-selected-date",ct="dx-calendar-contoured-date",pt=(0,a.V4)(st.u,"dxCalendar"),_t="dxDateValueKey",mt=G.Z.inherit({_getViewName:function(){return"base"},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})},_initMarkup:function(){this.callBase(),this._renderImpl()},_renderImpl:function(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderEvents()},_createTable:function(){return this._$table=(0,V.Z)("<table>"),this.setAria({label:L.Z.format("dxCalendar-ariaWidgetName"),role:"grid"},this._$table),this._$table},_renderBody:function(){this.$body=(0,V.Z)("<tbody>").appendTo(this._$table);for(var t={cellDate:this._getFirstCellData(),prevCellDate:null},e=0,i=this.option("rowCount");e<i;e++){t.row=this._createRow();for(var n=0,a=this.option("colCount");n<a;n++)this._renderCell(t,n)}},_createRow:function(){var t=it["default"].createElement("tr");return this.setAria("role","row",(0,V.Z)(t)),this.$body.get(0).appendChild(t),t},_appendCell:function(t,e){this._appendMethodName||this._cacheAppendMethodName(),(0,V.Z)(t)[this._appendMethodName](e)},_cacheAppendMethodName:function(t){this._appendMethodName=(null!==t&&void 0!==t?t:this.option("rtlEnabled"))?"prepend":"append"},_createCell:function(t){var e=it["default"].createElement("td"),i=(0,V.Z)(e);return e.className=this._getClassNameByDate(t),e.setAttribute("data-value",E.Z.serializeDate(t,T.Z.getShortDateFormat())),(0,nt.aT)(e,_t,t),this.setAria({role:"gridcell",label:this.getCellAriaLabel(t)},i),{cell:e,$cell:i}},_renderCell:function(t,e){var{cellDate:i,prevCellDate:n,row:a}=t;n&&T.Z.fixTimezoneGap(n,i),t.prevCellDate=i;var{cell:s,$cell:o}=this._createCell(i),r=this.option("cellTemplate");this._appendCell(a,s),r?r.render(this._prepareCellTemplateData(i,e,o)):s.innerHTML=this._getCellText(i),t.cellDate=this._getNextCellData(i)},_getClassNameByDate:function(t){var e=lt;return this._isTodayCell(t)&&(e+=" ".concat(ut)),(this._isDateOutOfRange(t)||this.isDateDisabled(t))&&(e+=" ".concat(ht)),this._isOtherView(t)&&(e+=" ".concat(rt)),e},_prepareCellTemplateData:function(t,e,i){return{model:{text:this._getCellText(t),date:t,view:this._getViewName()},container:(0,at.u)(i),index:e}},_renderEvents:function(){this._createCellClickAction(),h.Z.off(this._$table,pt),h.Z.on(this._$table,pt,"td",(t=>{(0,V.Z)(t.currentTarget).hasClass(ht)||this._cellClickAction({event:t,value:(0,V.Z)(t.currentTarget).data(_t)})}))},_createCellClickAction:function(){this._cellClickAction=this._createActionByOption("onCellClick")},_createDisabledDatesHandler:function(){var t=this.option("disabledDates");this._disabledDatesHandler=Array.isArray(t)?this._getDefaultDisabledDatesHandler(t):t||d.ZT},_getDefaultDisabledDatesHandler:function(t){return d.ZT},_isTodayCell:ot,_isDateOutOfRange:ot,isDateDisabled:function(t){var e={date:t,view:this._getViewName()};return this._disabledDatesHandler(e)},_isOtherView:ot,_getCellText:ot,_getFirstCellData:ot,_getNextCellData:ot,_renderContouredDate:function(t){if(this.option("focusStateEnabled")){t=t||this.option("contouredDate");var e=this._getContouredCell(),i=this._getCellByDate(t);e.removeClass(ct),i.addClass(ct)}},_getContouredCell:function(){return this._$table.find(".".concat(ct))},_changeValue:function(t){if(t){var e=this.option("value"),i=e?new Date(e):new Date;i.setDate(t.getDate()),i.setMonth(t.getMonth()),i.setFullYear(t.getFullYear()),i.setDate(t.getDate()),this.option("value",i)}else this.option("value",null)},_renderValue:function(){if(this.option("allowValueSelection")){var t=this.option("value"),e=this._getCellByDate(t);this._selectedCell&&this._selectedCell.removeClass(dt),e.addClass(dt),this._selectedCell=e}},getCellAriaLabel:function(t){return this._getCellText(t)},_getFirstAvailableDate:function(){var t=this.option("date"),e=this.option("min");return t=T.Z.getFirstDateView(this._getViewName(),t),new Date(e&&t<e?e:t)},_getCellByDate:ot,isBoundary:ot,_optionChanged:function(t){var{name:e,value:i}=t;switch(e){case"value":this._renderValue();break;case"contouredDate":this._renderContouredDate(i);break;case"onCellClick":this._createCellClickAction();break;case"disabledDates":case"cellTemplate":this._invalidate();break;case"rtlEnabled":this._cacheAppendMethodName(i),this.callBase(t);break;case"_todayDate":this._renderBody();break;default:this.callBase(t)}}}),ft=mt,gt="dx-calendar-other-month",vt="dx-calendar-other-view",Ct={month:ft.inherit({_getViewName:function(){return"month"},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{firstDayOfWeek:void 0,rowCount:6,colCount:7})},_renderImpl:function(){this.callBase(),this._renderHeader()},_renderBody:function(){this.callBase(),this._$table.find(".".concat(vt)).addClass(gt)},_renderFocusTarget:d.ZT,getCellAriaLabel:function(t){return y.Z.format(t,"longdate")},_renderHeader:function(){var t=(0,V.Z)("<tr>"),e=(0,V.Z)("<thead>").append(t);this._$table.prepend(e);for(var i=0,n=this.option("colCount");i<n;i++)this._renderHeaderCell(i,t)},_renderHeaderCell:function(t,e){var{full:i,abbreviated:n}=this._getDayCaption(this._getFirstDayOfWeek()+t),a=(0,V.Z)("<th>").attr({scope:"col",abbr:i}).text(n);this._appendCell(e,a)},getNavigatorCaption:function(){return y.Z.format(this.option("date"),"monthandyear")},_isTodayCell:function(t){var e=this.option("_todayDate")();return T.Z.sameDate(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),i=this.option("max");return!T.Z.dateInRange(t,e,i,"date")},_isOtherView:function(t){return t.getMonth()!==this.option("date").getMonth()},_getCellText:function(t){return y.Z.format(t,"d")},_getDayCaption:function(t){var e=this.option("colCount"),i=t%e;return{full:y.Z.getDayNames()[i],abbreviated:y.Z.getDayNames("abbreviated")[i]}},_getFirstCellData:function(){var t=T.Z.getFirstMonthDate(this.option("date")),e=this._getFirstDayOfWeek()-t.getDay(),i=this.option("colCount");return e>=0&&(e-=i),t.setDate(t.getDate()+e),t},_getNextCellData:function(t){return t=new Date(t),t.setDate(t.getDate()+1),t},_getFirstDayOfWeek:function(){return(0,s.$K)(this.option("firstDayOfWeek"))?this.option("firstDayOfWeek"):y.Z.firstDayOfWeekIndex()},_getCellByDate:function(t){return this._$table.find("td[data-value='".concat(E.Z.serializeDate(t,T.Z.getShortDateFormat()),"']"))},isBoundary:function(t){return T.Z.sameMonthAndYear(t,this.option("min"))||T.Z.sameMonthAndYear(t,this.option("max"))},_getDefaultDisabledDatesHandler:function(t){return function(e){var i=t.some((function(t){return T.Z.sameDate(t,e.date)}));if(i)return!0}}}),year:ft.inherit({_getViewName:function(){return"year"},_isTodayCell:function(t){var e=this.option("_todayDate")();return T.Z.sameMonthAndYear(t,e)},_isDateOutOfRange:function(t){return!T.Z.dateInRange(t,T.Z.getFirstMonthDate(this.option("min")),T.Z.getLastMonthDate(this.option("max")))},_isOtherView:function(){return!1},_getCellText:function(t){return y.Z.getMonthNames("abbreviated")[t.getMonth()]},_getFirstCellData:function(){var t=this.option("date"),e=new Date(t);return e.setDate(1),e.setMonth(0),e},_getNextCellData:function(t){return t=new Date(t),t.setMonth(t.getMonth()+1),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),this._$table.find("td[data-value='".concat(E.Z.serializeDate(e,T.Z.getShortDateFormat()),"']"))},getCellAriaLabel:function(t){return y.Z.format(t,"monthandyear")},getNavigatorCaption:function(){return y.Z.format(this.option("date"),"yyyy")},isBoundary:function(t){return T.Z.sameYear(t,this.option("min"))||T.Z.sameYear(t,this.option("max"))}}),decade:ft.inherit({_getViewName:function(){return"decade"},_isTodayCell:function(t){var e=this.option("_todayDate")();return T.Z.sameYear(t,e)},_isDateOutOfRange:function(t){var e=this.option("min"),i=this.option("max");return!T.Z.dateInRange(t.getFullYear(),e&&e.getFullYear(),i&&i.getFullYear())},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!T.Z.sameDecade(e,this.option("date"))},_getCellText:function(t){return y.Z.format(t,"yyyy")},_getFirstCellData:function(){var t=T.Z.getFirstYearInDecade(this.option("date"))-1;return T.Z.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+1),t},getNavigatorCaption:function(){var t=this.option("date"),e=T.Z.getFirstYearInDecade(t),i=new Date(t),n=new Date(t);return i.setFullYear(e),n.setFullYear(e+9),y.Z.format(i,"yyyy")+"-"+y.Z.format(n,"yyyy")},_isValueOnCurrentView:function(t,e){return T.Z.sameDecade(t,e)},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),this._$table.find("td[data-value='".concat(E.Z.serializeDate(e,T.Z.getShortDateFormat()),"']"))},isBoundary:function(t){return T.Z.sameDecade(t,this.option("min"))||T.Z.sameDecade(t,this.option("max"))}}),century:ft.inherit({_getViewName:function(){return"century"},_isTodayCell:function(t){var e=this.option("_todayDate")();return T.Z.sameDecade(t,e)},_isDateOutOfRange:function(t){var e=T.Z.getFirstYearInDecade(t),i=T.Z.getFirstYearInDecade(this.option("min")),n=T.Z.getFirstYearInDecade(this.option("max"));return!T.Z.dateInRange(e,i,n)},_isOtherView:function(t){var e=new Date(t);return e.setMonth(1),!T.Z.sameCentury(e,this.option("date"))},_getCellText:function(t){var e=y.Z.format(t,"yyyy"),i=new Date(t);return i.setFullYear(i.getFullYear()+9),e+" - "+y.Z.format(i,"yyyy")},_getFirstCellData:function(){var t=T.Z.getFirstDecadeInCentury(this.option("date"))-10;return T.Z.createDateWithFullYear(t,0,1)},_getNextCellData:function(t){return t=new Date(t),t.setFullYear(t.getFullYear()+10),t},_getCellByDate:function(t){var e=new Date(t);return e.setDate(1),e.setMonth(0),e.setFullYear(T.Z.getFirstYearInDecade(e)),this._$table.find("td[data-value='".concat(E.Z.serializeDate(e,T.Z.getShortDateFormat()),"']"))},getNavigatorCaption:function(){var t=this.option("date"),e=T.Z.getFirstDecadeInCentury(t),i=new Date(t),n=new Date(t);return i.setFullYear(e),n.setFullYear(e+99),y.Z.format(i,"yyyy")+"-"+y.Z.format(n,"yyyy")},isBoundary:function(t){return T.Z.sameCentury(t,this.option("min"))||T.Z.sameCentury(t,this.option("max"))}})},yt=Ct,bt=i(4935),xt=i(2070),It=i(7328),Dt="dx-calendar",wt="dx-calendar-body",St="dx-calendar-cell",Bt="dx-calendar-footer",Tt="dx-calendar-today-button",Vt="dx-calendar-with-footer",Et="dx-calendar-views-wrapper",kt="dx-calendar-view",Ot="dx-state-focused",Mt=250,Zt=.6,At=1,Ft="yyyy-MM-dd",$t="dxDateValueKey",Rt={month:3,year:2,decade:1,century:0},Pt={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"};function Lt(t){return t.hasClass(Ot)}var Ht=z.Z.inherit({_activeStateUnit:"."+St,_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,dateSerializationFormat:void 0,min:new Date(1e3,0),max:new Date(3e3,0),firstDayOfWeek:void 0,zoomLevel:Pt.MONTH,maxZoomLevel:Pt.MONTH,minZoomLevel:Pt.CENTURY,showTodayButton:!1,cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===S.Z.real().deviceType&&!S.Z.isSimulator()},options:{focusStateEnabled:!0}}])},_supportedKeys:function(){return(0,r.l)(this.callBase(),{rightArrow:function(t){t.preventDefault(),(0,a.j1)(t)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow:function(t){t.preventDefault(),(0,a.j1)(t)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow:function(t){if(t.preventDefault(),(0,a.j1)(t))this._navigateUp();else{if(xt.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow:function(t){if(t.preventDefault(),(0,a.j1)(t))this._navigateDown();else{if(xt.Z.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home:function(t){t.preventDefault();var e=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("min");if(!this._view.isDateDisabled(i)){var a=T.Z.sameView(e,i,n)?n:T.Z.getViewFirstCellDate(e,i);this._moveToClosestAvailableDate(a)}},end:function(t){t.preventDefault();var e=this.option("zoomLevel"),i=this.option("currentDate"),n=this._dateOption("max");if(!this._view.isDateDisabled(i)){var a=T.Z.sameView(e,i,n)?n:T.Z.getViewLastCellDate(e,i);this._moveToClosestAvailableDate(a)}},pageUp:function(t){t.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown:function(t){t.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab:d.ZT,enter:function(t){if(this._isMaxZoomLevel()){if(!this._view.isDateDisabled(this.option("currentDate"))){var e=this._updateTimeComponent(this.option("currentDate"));this._dateValue(e,t)}}else this._navigateDown()}})},_getSerializationFormat:function(t){var e=this.option(t||"value");return this.option("dateSerializationFormat")?this.option("dateSerializationFormat"):(0,s.kE)(e)?"number":(0,s.HD)(e)?E.Z.getDateSerializationFormat(e):void 0},_convertToDate:function(t,e){return E.Z.deserializeDate(t)},_dateValue:function(t,e){if(e){if("keydown"===e.type){var i=this._view._getContouredCell().get(0);e.target=i}this._saveValueChangeEvent(e)}this._dateOption("value",t)},_dateOption:function(t,e){if(1===arguments.length)return this._convertToDate(this.option(t),t);var i=this._getSerializationFormat(t);this.option(t,E.Z.serializeDate(e,i))},_shiftDate:function(t,e,i,n){switch(t){case Pt.MONTH:e.setDate(e.getDate()+i*n);break;case Pt.YEAR:e.setMonth(e.getMonth()+i*n);break;case Pt.DECADE:e.setFullYear(e.getFullYear()+i*n);break;case Pt.CENTURY:e.setFullYear(e.getFullYear()+10*i*n)}},_moveCurrentDateByOffset:function(t){var e=this.option("currentDate"),i=new Date(e),n=this.option("zoomLevel");this._shiftDate(n,i,t,1);var a=this._getMaxDate(),s=this._getMinDate(),o=this._areDatesInNeighborView(n,i,e),r=(0,l.Z2)(i,s,a)&&o,h=new Date(i);while(r){if(!this._view.isDateDisabled(h)){i=h;break}this._shiftDate(n,h,t,1),o=this._areDatesInNeighborView(n,h,e),r=(0,l.Z2)(h,s,a)&&o}this._view.isDateDisabled(e)||this._view.isDateDisabled(i)?this._waitRenderView(t>0?1:-1):this.option("currentDate",i)},_areDatesInSameView(t,e,i){switch(t){case Pt.MONTH:return e.getMonth()===i.getMonth();case Pt.YEAR:return e.getYear()===i.getYear();case Pt.DECADE:return parseInt(e.getYear()/10)===parseInt(i.getYear()/10);case Pt.CENTURY:return parseInt(e.getYear()/100)===parseInt(i.getYear()/100)}},_areDatesInNeighborView(t,e,i){switch(t){case Pt.MONTH:return n=e.getMonth(),a=i.getMonth(),s=Math.abs(n-a),Math.min(s,12-s)<=1;case Pt.YEAR:return Math.abs(e.getYear()-i.getYear())<=1;case Pt.DECADE:return Math.abs(e.getYear()-i.getYear())<=10;case Pt.CENTURY:return Math.abs(e.getYear()-i.getYear())<=100}var n,a,s},_moveToClosestAvailableDate:function(){var t,e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("currentDate"),n=new Date(i),a=this.option("zoomLevel"),s=!this._isDateNotAvailable(n),o=s,r=s,l=new Date(n),h=new Date(n);do{if(o){n=l;break}if(r){n=h;break}this._shiftDate(a,l,1,1),this._shiftDate(a,h,1,-1),t=this._areDatesInSameView(a,l,i),e=this._areDatesInSameView(a,h,i),o=t&&!this._isDateNotAvailable(l),r=e&&!this._isDateNotAvailable(h)}while(t||e);this.option("currentDate",n)},_isDateNotAvailable:function(t){var e=this._getMaxDate(),i=this._getMinDate();return!(0,l.Z2)(t,i,e)||this._view.isDateDisabled(t)},_init:function(){this.callBase(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()},_correctZoomLevel:function(){var t=this.option("minZoomLevel"),e=this.option("maxZoomLevel"),i=this.option("zoomLevel");Rt[e]<Rt[t]||(Rt[i]>Rt[e]?this.option("zoomLevel",e):Rt[i]<Rt[t]&&this.option("zoomLevel",t))},_initCurrentDate:function(){var t=this._getNormalizedDate(this._dateOption("value"))||this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",t)},_getNormalizedDate:function(t){return t=T.Z.normalizeDate(t,this._getMinDate(),this._getMaxDate()),(0,s.$K)(t)?this._getDate(t):t},_initActions:function(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")},_initTemplates:function(){this._templateManager.addDefaultTemplates({cell:new It.k((function(t){var e=t.model;(0,V.Z)(t.container).append((0,V.Z)("<span>").text(e&&e.text||String(e)))}))}),this.callBase()},_updateCurrentDate:function(t){xt.Z.isAnimating(this._$viewsWrapper)&&xt.Z.stop(this._$viewsWrapper,!0);var e=this._getMinDate(),i=this._getMaxDate();if(e>i)this.option("currentDate",new Date);else{var n=this._getNormalizedDate(t);if(t.getTime()===n.getTime()){var a=this._getViewsOffset(this._view.option("date"),n);0!==a&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(a=0),this._view&&0!==a&&!this._suppressNavigation?this._navigate(a,n):(this._renderNavigator(),this._setViewContoured(n),this._updateAriaId(n))}else this.option("currentDate",new Date(n))}},_setViewContoured:function(t){(this.option("skipFocusCheck")||Lt(this._focusTarget()))&&this._view.option("contouredDate",t)},_getMinDate:function(){return this.min||(this.min=this._dateOption("min")||new Date(1e3,0)),this.min},_getMaxDate:function(){return this.max||(this.max=this._dateOption("max")||new Date(3e3,0)),this.max},_getViewsOffset:function(t,e){var i,n=this.option("zoomLevel");if(n===Pt.MONTH)return this._getMonthsOffset(t,e);switch(n){case Pt.CENTURY:i=100;break;case Pt.DECADE:i=10;break;default:i=1}return parseInt(e.getFullYear()/i)-parseInt(t.getFullYear()/i)},_getMonthsOffset:function(t,e){var i=e.getFullYear()-t.getFullYear(),n=e.getMonth()-t.getMonth();return 12*i+n},_waitRenderView:function(t){if(!this._alreadyViewRender){this._alreadyViewRender=!0;var e=this._getDateByOffset(t*this._getRtlCorrection());this._moveToClosestAvailableDate(e),this._waitRenderViewTimeout=setTimeout((()=>{this._alreadyViewRender=!1}))}},_getRtlCorrection:function(){return this.option("rtlEnabled")?-1:1},_getDateByOffset:function(t,e){var i;e=this._getDate(null!==(i=e)&&void 0!==i?i:this.option("currentDate"));var n=e.getDate(),a=T.Z.getDifferenceInMonth(this.option("zoomLevel"))*t;e.setDate(1),e.setMonth(e.getMonth()+a);var s=T.Z.getLastMonthDate(e).getDate();return e.setDate(n>s?s:n),e},_focusTarget:function(){return this.$element()},_initMarkup:function(){this._renderSubmitElement(),this.callBase();var t=this.$element();t.addClass(Dt),this._renderBody(),t.append(this.$body),this._renderViews(),this._renderNavigator(),t.append(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._updateAriaSelected(),this._updateAriaId(),this._moveToClosestAvailableDate()},_render:function(){this.callBase(),this._setViewContoured(this.option("currentDate"))},_renderBody:function(){this._$viewsWrapper||(this.$body=(0,V.Z)("<div>").addClass(wt),this._$viewsWrapper=(0,V.Z)("<div>").addClass(Et),this.$body.append(this._$viewsWrapper))},_getKeyboardListeners(){return this.callBase().concat([this._view])},_renderViews:function(){this.$element().addClass(kt+"-"+this.option("zoomLevel"));var t=this.option("currentDate");if(this._view=this._renderSpecificView(t),(0,x.Ym)()){var e=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(e)?this._renderSpecificView(e):null;var i=this._getDateByOffset(1,t);i.setDate(1),this._afterView=this._isViewAvailable(i)?this._renderSpecificView(i):null}this._translateViews()},_renderSpecificView:function(t){var e=yt[this.option("zoomLevel")],i=(0,V.Z)("<div>").appendTo(this._$viewsWrapper),n=this._viewConfig(t);return this._createComponent(i,e,n)},_viewConfig:function(t){var e=this.option("disabledDates");return e=(0,s.mf)(e)?this._injectComponent(e.bind(this)):e,{date:t,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek"),value:this._dateOption("value"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:e,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")}},_injectComponent:function(t){var e=this;return function(i){return(0,r.l)(i,{component:e}),t(i)}},_isViewAvailable:function(t){var e=this.option("zoomLevel"),i=T.Z.getViewMinBoundaryDate(e,this._getMinDate()),n=T.Z.getViewMaxBoundaryDate(e,this._getMaxDate());return T.Z.dateInRange(t,i,n)},_translateViews:function(){(0,bt.pB)(this._view.$element(),{left:0,top:0}),this._beforeView&&(0,bt.pB)(this._beforeView.$element(),{left:this._getViewPosition(-1),top:0}),this._afterView&&(0,bt.pB)(this._afterView.$element(),{left:this._getViewPosition(1),top:0})},_getViewPosition:function(t){var e=this.option("rtlEnabled")?-1:1;return 100*t*e+"%"},_cellClickHandler:function(t){var e=this.option("zoomLevel"),i=T.Z.getViewDown(e),n=this._isMaxZoomLevel();if(i&&!n)this._navigateDown(t.event.currentTarget);else{var a=this._updateTimeComponent(t.value);this._dateValue(a,t.event),this._cellClickAction(t)}},_updateTimeComponent:function(t){var e=new Date(t),i=this._dateOption("value");return i&&(e.setHours(i.getHours()),e.setMinutes(i.getMinutes()),e.setSeconds(i.getSeconds()),e.setMilliseconds(i.getMilliseconds())),e},_isMaxZoomLevel:function(){return this.option("zoomLevel")===this.option("maxZoomLevel")},_navigateDown:function(t){var e=this.option("zoomLevel");if(!this._isMaxZoomLevel()){var i=T.Z.getViewDown(e);if(i){var n=this._view.option("contouredDate")||this._view.option("date");t&&(n=(0,V.Z)(t).data($t)),this._isOtherViewCellClicked=!0,this.option("currentDate",n),this.option("zoomLevel",i),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}}},_renderNavigator:function(){this._navigator||(this._navigator=new et((0,V.Z)("<div>"),this._navigatorConfig())),this._navigator.option("text",this._view.getNavigatorCaption()),this._updateButtonsVisibility()},_navigatorConfig:function(){return{text:this._view.getNavigatorCaption(),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),rtlEnabled:this.option("rtlEnabled")}},_navigatorClickHandler:function(t){var e=this._getDateByOffset(t.direction,this.option("currentDate"));this._moveToClosestAvailableDate(e)},_navigateUp:function(){var t=this.option("zoomLevel"),e=T.Z.getViewUp(t);e&&!this._isMinZoomLevel(t)&&(this.option("zoomLevel",e),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))},_isMinZoomLevel:function(t){var e=this._getMinDate(),i=this._getMaxDate();return T.Z.sameView(t,e,i)||this.option("minZoomLevel")===t},_updateButtonsVisibility:function(){this._navigator.toggleButton("next",!(0,s.$K)(this._getRequiredView("next"))),this._navigator.toggleButton("prev",!(0,s.$K)(this._getRequiredView("prev")))},_renderSwipeable:function(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),K.Z,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))},_swipeStartHandler:function(t){xt.Z.stop(this._$viewsWrapper,!0),t.event.maxLeftOffset=this._getRequiredView("next")?1:0,t.event.maxRightOffset=this._getRequiredView("prev")?1:0},_getRequiredView:function(t){var e,i=this.option("rtlEnabled");return"next"===t?e=i?this._beforeView:this._afterView:"prev"===t&&(e=i?this._afterView:this._beforeView),e},_swipeUpdateHandler:function(t){var e=t.event.offset;(0,bt.pB)(this._$viewsWrapper,{left:e*this._viewWidth(),top:0}),this._updateNavigatorCaption(e)},_swipeEndHandler:function(t){var e=t.event.targetOffset,i=e?e/Math.abs(e):0;if(0!==i){var n=this._getDateByOffset(-i*this._getRtlCorrection());this._isDateInInvalidRange(n)&&(n=i>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",n)}else this._animateWrapper(0,Mt)},_viewWidth:function(){return this._viewWidthValue||(this._viewWidthValue=(0,H.dz)(this.$element())),this._viewWidthValue},_updateNavigatorCaption:function(t){t*=this._getRtlCorrection();var e=this._view;t>.5&&this._beforeView?e=this._beforeView:t<-.5&&this._afterView&&(e=this._afterView),this._navigator.option("text",e.getNavigatorCaption())},_isDateInInvalidRange:function(t){if(!this._view.isBoundary(t)){var e=this._getMinDate(),i=this._getMaxDate(),n=T.Z.normalizeDate(t,e,i);return n===e||n===i}},_renderFooter:function(){var t=this.option("showTodayButton");if(t){var e=this._createComponent((0,V.Z)("<a>"),W["default"],{focusStateEnabled:!1,text:L.Z.format("dxCalendar-todayButtonText"),onClick:function(t){this._toTodayView(t)}.bind(this),integrationOptions:{}}).$element().addClass(Tt);this._$footer=(0,V.Z)("<div>").addClass(Bt).append(e),this.$element().append(this._$footer)}this.$element().toggleClass(Vt,t)},_renderSubmitElement:function(){this._$submitElement=(0,V.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){var e=this._convertToDate(t);this._getSubmitElement().val(E.Z.serializeDate(e,Ft))},_getSubmitElement:function(){return this._$submitElement},_animateShowView:function(){return xt.Z.stop(this._view.$element(),!0),this._popAnimationView(this._view,Zt,At,Mt).promise()},_popAnimationView:function(t,e,i,n){return xt.Z.animate(t.$element(),{type:"pop",from:{scale:e,opacity:e},to:{scale:i,opacity:i},duration:n})},_navigate:function(t,e){if(0!==t&&1!==Math.abs(t)&&this._isViewAvailable(e)){var i=this._renderSpecificView(e);t>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=i):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=i),this._translateViews()}var n=this._getRtlCorrection(),a=t>0?1:t<0?-1:0,s=-n*a*this._viewWidth(),o=this._$viewsWrapper.position().left;o!==s&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(t,e):this._animateWrapper(s,Mt).done(this._wrapperAnimationEndHandler.bind(this,t,e)))},_animateWrapper:function(t,e){return xt.Z.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:t},duration:e})},_getDate:t=>new Date(t),_toTodayView:function(t){this._saveValueChangeEvent(t.event);var e=new Date;this._isMaxZoomLevel()?this._dateOption("value",e):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._dateOption("value",e),this._animateShowView(),this._preventViewChangeAnimation=!1)},_wrapperAnimationEndHandler:function(t,e){this._rearrangeViews(t),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(e),this._updateAriaId(e)},_rearrangeViews:function(t){var e,i,n;if(0!==t&&(t<0?(e=1,i="_beforeView",n="_afterView"):(e=-1,i="_afterView",n="_beforeView"),this[i])){var a=this[i].option("date");this[n]&&this[n].$element().remove(),t===e?this[n]=this._view:(this[n]=this._renderSpecificView(this._getDateByOffset(e,a)),this._view.$element().remove()),this._view=this[i];var s=this._getDateByOffset(-e,a);this[i]=this._isViewAvailable(s)?this._renderSpecificView(s):null}},_resetLocation:function(){(0,bt.pB)(this._$viewsWrapper,{left:0,top:0})},_clean:function(){this.callBase(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer},_clearViewWidthCache:function(){delete this._viewWidthValue},_disposeViews:function(){this._view.$element().remove(),this._beforeView&&this._beforeView.$element().remove(),this._afterView&&this._afterView.$element().remove(),delete this._view,delete this._beforeView,delete this._afterView},_dispose:function(){clearTimeout(this._waitRenderViewTimeout),this.callBase()},_refreshViews:function(){this._disposeViews(),this._renderViews()},_visibilityChanged:function(){this._translateViews()},_focusInHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",this.option("currentDate"))},_focusOutHandler:function(){this.callBase.apply(this,arguments),this._view.option("contouredDate",null)},_updateViewsValue:function(t){var e=t?new Date(t):null;this._view.option("value",e),this._beforeView&&this._beforeView.option("value",e),this._afterView&&this._afterView.option("value",e)},_updateAriaSelected:function(t,e){var i;t=null!==(i=t)&&void 0!==i?i:this._dateOption("value");var n=this._view._getCellByDate(e),a=this._view._getCellByDate(t);this.setAria("selected",void 0,n),this.setAria("selected",!0,a),t&&this.option("currentDate").getTime()===t.getTime()&&this._updateAriaId(t)},_updateAriaId:function(t){var e;t=null!==(e=t)&&void 0!==e?e:this.option("currentDate");var i="dx-"+new N.Z,n=this._view._getCellByDate(t);this.setAria("id",i,n),this.setAria("activedescendant",i),this._onContouredChanged(i)},_suppressingNavigation:function(t,e){this._suppressNavigation=!0,t.apply(this,e),delete this._suppressNavigation},_optionChanged:function(t){var e=t.value,i=t.previousValue;switch(t.name){case"width":this.callBase(t),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(i)),this._updateCurrentDate(e);break;case"zoomLevel":this.$element().removeClass(kt+"-"+i),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":e=this._convertToDate(e),i=this._convertToDate(i),this._updateAriaSelected(e,i),this.option("currentDate",(0,s.$K)(e)?new Date(e):new Date),this._updateViewsValue(e),this._setSubmitValue(e),this.callBase(t);break;case"onCellClick":this._view.option("onCellClick",e);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"skipFocusCheck":break;case"_todayDate":this._refreshViews();break;default:this.callBase(t)}},getContouredDate:function(){return this._view.option("contouredDate")}});(0,n.Z)("dxCalendar",Ht);var Nt=Ht,Wt=Nt,zt=i(1177),Kt=zt.Z.abstract,Gt=zt.Z.inherit({ctor:function(t){this.dateBox=t},widgetOption:function(){return this._widget&&this._widget.option.apply(this._widget,arguments)},_renderWidget:function(t){t=t||(0,V.Z)("<div>"),this._widget=this._createWidget(t),this._widget.$element().appendTo(this._getWidgetContainer())},_createWidget:function(t){var e=this._getWidgetName(),i=this._getWidgetOptions();return this.dateBox._createComponent(t,e,i)},_getWidgetOptions:Kt,_getWidgetName:Kt,getDefaultOptions:function(){return{mode:"text"}},getDisplayFormat:Kt,supportedKeys:d.ZT,getKeyboardListener:d.ZT,customizeButtons:d.ZT,getParsedText:function(t,e){var i=y.Z.parse(t,e);return i||y.Z.parse(t)},renderInputMinMax:d.ZT,renderOpenedState:function(){this._updateValue()},popupConfig:Kt,_dimensionChanged:function(){var t;null===(t=this._getPopup())||void 0===t||t.repaint()},renderPopupContent:function(){var t=this._getPopup();this._renderWidget();var e=t.$content().parent();h.Z.off(e,"mousedown"),h.Z.on(e,"mousedown",this._preventFocusOnPopup.bind(this))},getFirstPopupElement:d.ZT,getLastPopupElement:d.ZT,_preventFocusOnPopup:function(t){t.preventDefault()},_getWidgetContainer:function(){return this._getPopup().$content()},_getPopup:function(){return this.dateBox._popup},popupShowingHandler:d.ZT,popupHiddenHandler:d.ZT,_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},useCurrentDateByDefault:d.ZT,getDefaultDate:function(){return new Date},textChangedHandler:d.ZT,renderValue:function(){this.dateBox.option("opened")&&this._updateValue()},getValue:function(){return this._widget.option("value")},isAdaptivityChanged:function(){return!1},dispose:function(){var t=this._getPopup();t&&t.$content().empty()},dateBoxValue:function(){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}),qt=Gt,Yt=qt.inherit({NAME:"Calendar",supportedKeys:function(){var t=function(t){return!!this.option("opened")&&(t.preventDefault(),!0)};return{rightArrow:function(){if(this.option("opened"))return!0},leftArrow:function(){if(this.option("opened"))return!0},enter:function(t){if(this.dateBox.option("opened")){if(t.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){var e=this._getContouredValue(),i=this._lastActionElement,n=this._closeDropDownByEnter();return n&&e&&"calendar"===i&&this.dateBoxValue(e,t),n&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(t),!n}return!0}this.dateBox._valueChangeEventHandler(t)}.bind(this),home:t,end:t}},getDisplayFormat:function(t){return t||"shortdate"},_closeDropDownByEnter:()=>!0,_getWidgetName:function(){return Wt},_getContouredValue:function(){return this._widget._view.option("contouredDate")},getKeyboardListener(){return this._widget},_getWidgetOptions:function(){var t=this.dateBox.option("disabledDates");return(0,r.l)(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),tabIndex:null,disabledDates:(0,s.mf)(t)?this._injectComponent(t.bind(this.dateBox)):t,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})},_injectComponent:function(t){var e=this;return function(i){return(0,r.l)(i,{component:e.dateBox}),t(i)}},_refreshActiveDescendant:function(t){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",t.actionValue)},popupConfig:function(t){var e=t.toolbarItems,i=this.dateBox.option("buttonsLocation"),n=[];return n="default"!==i?(0,d.Um)(i):["bottom","center"],"useButtons"===this.dateBox.option("applyValueMode")&&this._isCalendarVisible()&&e.unshift({widget:"dxButton",toolbar:n[0],location:"after"===n[1]?"before":n[1],options:{onInitialized:function(t){t.component.registerKeyHandler("escape",this._escapeHandler.bind(this))}.bind(this),onClick:t=>{this._widget._toTodayView(t)},text:L.Z.format("dxCalendar-todayButtonText"),type:"today"}}),(0,r.l)(!0,t,{toolbarItems:e,position:{collision:"flipfit flip"},width:"auto"})},_isCalendarVisible:function(){return(0,s.Qr)(this.dateBox.option("calendarOptions"))||!1!==this.dateBox.option("calendarOptions.visible")},_escapeHandler:function(){this.dateBox.close(),this.dateBox.focus()},_valueChangedHandler:function(t){var e=this.dateBox,i=t.value,n=t.previousValue;T.Z.sameDate(i,n)||"instantly"===e.option("applyValueMode")&&this.dateBoxValue(this.getValue(),t.event)},_updateValue:function(){this._widget&&this._widget.option("value",this.dateBoxValue())},textChangedHandler:function(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)},_cellClickHandler:function(t){var e=this.dateBox;"instantly"===e.option("applyValueMode")&&(e.option("opened",!1),this.dateBoxValue(this.getValue(),t.event))}}),Ut=Yt,jt=i(2969),Qt=i(821);function Jt(t,e){if((0,s.PO)(t)){var i=(0,d.IS)(t.left,t.x),n=(0,d.IS)(t.top,t.y);return{left:(0,s.$K)(i)?i:void 0,top:(0,s.$K)(n)?n:void 0}}var{isHorizontal:a,isVertical:o}=new Qt.I(e);return{left:a&&(0,s.$K)(t)?t:void 0,top:o&&(0,s.$K)(t)?t:void 0}}var Xt="dx-dateviewroller",te="dx-state-active",ee="dx-dateviewroller-current",ie="dx-dateview-item",ne="dx-dateview-item-selected",ae="dx-dateview-item-selected-frame",se="dx-dateview-item-selected-border";class oe extends jt.Z{_getDefaultOptions(){return(0,r.l)(super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass(Xt),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){h.Z.on((0,V.Z)(this.container()),"dxmousewheel",(t=>{this._isWheelScrolled=!0}))}_renderContainerClick(){if(this.option("showOnClick")){var t=(0,a.V4)(st.u,this.NAME),e=this._createActionByOption("onClick");h.Z.off((0,V.Z)(this.container()),t),h.Z.on((0,V.Z)(this.container()),t,(function(t){e({event:t})}))}}_renderItems(){var t=this.option("items")||[],e=(0,V.Z)();(0,V.Z)(this.content()).empty(),t.forEach((function(t){e=e.add((0,V.Z)("<div>").addClass(ie).append(t))})),(0,V.Z)(this.content()).append(e),this._$items=e,this.update()}_renderSelectedItemFrame(){(0,V.Z)("<div>").addClass(ae).append((0,V.Z)("<div>").addClass(se)).appendTo((0,V.Z)(this.container()))}_renderSelectedValue(t){var e=this._fitIndex(null!==t&&void 0!==t?t:this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(e)}),this._renderActiveStateItem()}_fitIndex(t){var e=this.option("items")||[],i=e.length;return t>=i?i-1:t<0?0:t}_getItemPosition(t){return Math.round(this._itemHeight()*t)}_renderItemsClick(){var t=this._getItemSelector(),e=(0,a.V4)(st.u,this.NAME);h.Z.off(this.$element(),e,t),h.Z.on(this.$element(),e,t,this._itemClickHandler.bind(this))}_getItemSelector(){return"."+ie}_itemClickHandler(t){this.option("selectedIndex",this._itemElementIndex(t.currentTarget))}_itemElementIndex(t){return this._itemElements().index(t)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){var t=this.option("selectedIndex");(0,I.S6)(this._$items,(function(e){(0,V.Z)(this).toggleClass(ne,t===e)}))}_shouldScrollToNeighborItem(){return"desktop"===S.Z.real().deviceType&&this._isWheelScrolled}_moveTo(t){var{top:e,left:i}=Jt(t),n=this.scrollOffset(),a={x:n.left-i,y:n.top-e};if(this._isVisible()&&(a.x||a.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){var s=this;xt.Z.stop((0,V.Z)(this.content())),xt.Z.animate((0,V.Z)(this.content()),{duration:200,type:"slide",to:{top:Math.floor(a.y)},complete(){(0,bt.Kx)((0,V.Z)(s.content())),s.handleMove({delta:a})}}),delete this._animation}else this.handleMove({delta:a})}_validate(t){return this._moveIsAllowed(t)}_fitSelectedIndexInRange(t){var e=this.option("items").length;return Math.max(Math.min(t,e-1),0)}_isInNullNeighborhood(t){return-.1<=t&&t<=.1}_getSelectedIndexAfterScroll(t){var e=this.scrollOffset().top,i=t*this._itemHeight(),n=e-i;if(this._isInNullNeighborhood(n))return t;var a=n>0?1:-1,s=this._fitSelectedIndexInRange(t+a);return s}_getNewSelectedIndex(t){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(t);this._animation=!0;var e=this.scrollOffset().top/this._itemHeight();return Math.round(e)}_endActionHandler(){var t=this.option("selectedIndex"),e=this._getNewSelectedIndex(t);e===t?this._renderSelectedValue(e):this.option("selectedIndex",e),this._isWheelScrolled=!1}_itemHeight(){var t=this._$items.first();return(0,H.Cr)(t)}_toggleActive(t){this.$element().toggleClass(te,t)}_isVisible(){return(0,V.Z)(this.container()).is(":visible")}_fireSelectedIndexChanged(t,e){this._selectedIndexChanged({value:t,previousValue:e,event:void 0})}_visibilityChanged(t){super._visibilityChanged(t),this._visibilityChangedHandler(t)}_visibilityChangedHandler(t){t&&(this._visibilityTimer=setTimeout((()=>{this._renderSelectedValue(this.option("selectedIndex"))}))),this.toggleActiveState(!1)}toggleActiveState(t){this.$element().toggleClass(ee,t)}_refreshSelectedIndex(){var t=this.option("selectedIndex"),e=this._fitIndex(t);e===t?this._renderActiveStateItem():this.option("selectedIndex",e)}_optionChanged(t){switch(t.name){case"selectedIndex":this._fireSelectedIndexChanged(t.value,t.previousValue),this._renderSelectedValue(t.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(t)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}(0,n.Z)("dxDateViewRoller",oe);var re=oe,le="dx-dateview",he="dx-dateview-compact",ue="dx-dateview-wrapper",de="dx-dateview-rollers",ce="dx-dateviewroller",pe={date:"date",datetime:"datetime",time:"time"},_e={year:"year",month:"month",day:"day",hours:"hours"},me=z.Z.inherit({_valueOption:function(){var t=this.option("value"),e=new Date(t);return!t||isNaN(e)?this._getDefaultDate():e},_getDefaultDate:function(){var t=new Date;return this.option("type")===pe.date?new Date(t.getFullYear(),t.getMonth(),t.getDate()):t},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{minDate:R.MIN_DATEVIEW_DEFAULT_DATE,maxDate:R.MAX_DATEVIEW_DEFAULT_DATE,type:pe.date,value:new Date,applyCompactClass:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){return"desktop"!==t.deviceType},options:{applyCompactClass:!0}}])},_render:function(){this.callBase(),this.$element().addClass(le),this._toggleFormatClasses(this.option("type")),this._toggleCompactClass()},_toggleFormatClasses:function(t,e){this.$element().addClass(le+"-"+t),e&&this.$element().removeClass(le+"-"+e)},_toggleCompactClass:function(){this.$element().toggleClass(he,this.option("applyCompactClass"))},_wrapper:function(){return this._$wrapper},_renderContentImpl:function(){this._$wrapper=(0,V.Z)("<div>").addClass(ue),this._renderRollers(),this._$wrapper.appendTo(this.$element())},_renderRollers:function(){this._$rollersContainer||(this._$rollersContainer=(0,V.Z)("<div>").addClass(de)),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};var t=this;(0,I.S6)(t._rollerConfigs,(function(e){var i=(0,V.Z)("<div>").appendTo(t._$rollersContainer).addClass(ce+"-"+t._rollerConfigs[e].type);t._rollers[t._rollerConfigs[e].type]=t._createComponent(i,re,{items:t._rollerConfigs[e].displayItems,selectedIndex:t._rollerConfigs[e].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart:function(i){var n=i.component;n._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],n.option("selectedIndex"))},onEnd:function(t){var e=t.component;e._toggleActive(!1)},onClick:function(i){var n=i.component;n._toggleActive(!0),t._setActiveRoller(t._rollerConfigs[e],n.option("selectedIndex")),t._setRollerState(t._rollerConfigs[e],n.option("selectedIndex")),n._toggleActive(!1)},onSelectedIndexChanged:function(i){var n=i.component;t._setRollerState(t._rollerConfigs[e],n.option("selectedIndex"))}})})),t._$rollersContainer.appendTo(t._wrapper())},_createRollerConfigs:function(t){var e=this;t=t||e.option("type"),e._rollerConfigs={},y.Z.getFormatParts(R.FORMATS_MAP[t]).forEach((function(t){e._createRollerConfig(t)}))},_createRollerConfig:function(t){for(var e=R.DATE_COMPONENTS_INFO[t],i=this._calculateRollerConfigValueRange(t),n=i.startValue,a=i.endValue,s=e.formatter,o=this._getCurrentDate(),r={type:t,setValue:e.setter,valueItems:[],displayItems:[],getIndex:function(t){return t[e.getter]()-n}},l=n;l<=a;l++)r.valueItems.push(l),r.displayItems.push(s(l,o));r.selectedIndex=r.getIndex(o),this._rollerConfigs[t]=r},_setActiveRoller:function(t){var e=t&&this._rollers[t.type];(0,I.S6)(this._rollers,(function(){this.toggleActiveState(this===e)}))},_updateRollersPosition:function(){var t=this;(0,I.S6)(this._rollers,(function(e){var i=t._rollerConfigs[e].getIndex(t._getCurrentDate());this.option("selectedIndex",i)}))},_setRollerState:function(t,e){if(e!==t.selectedIndex){var i=t.valueItems[e],n=t.setValue,a=new Date(this._getCurrentDate()),s=a.getDate(),o=this.option("minDate"),r=this.option("maxDate");t.type===_e.month?s=Math.min(s,R.getMaxMonthDay(a.getFullYear(),i)):t.type===_e.year&&(s=Math.min(s,R.getMaxMonthDay(i,a.getMonth()))),a.setDate(s),a[n](i);var l=T.Z.normalizeDate(a,o,r);a=R.mergeDates(l,a,"time"),a=T.Z.normalizeDate(a,o,r),this.option("value",a),t.selectedIndex=e}t.type===_e.year&&this._refreshRollers(),t.type===_e.month&&(this._refreshRoller(_e.day),this._refreshRoller(_e.hours))},_refreshRoller:function(t){var e=this._rollers[t];if(e){this._createRollerConfig(t);var i=this._rollerConfigs[t];t!==_e.day&&i.displayItems.toString()===e.option("items").toString()||e.option({items:i.displayItems,selectedIndex:i.selectedIndex})}},_getCurrentDate:function(){var t=this._valueOption(),e=this.option("minDate"),i=this.option("maxDate");return T.Z.normalizeDate(t,e,i)},_calculateRollerConfigValueRange:function(t){var e=this._getCurrentDate(),i=this.option("minDate"),n=this.option("maxDate"),a=T.Z.sameYear(e,i),s=a&&e.getMonth()===i.getMonth(),o=T.Z.sameYear(e,n),r=o&&e.getMonth()===n.getMonth(),l=s&&e.getDate()===i.getDate(),h=r&&e.getDate()===n.getDate(),u=R.DATE_COMPONENTS_INFO[t],d=u.startValue,c=u.endValue;return t===_e.year&&(d=i.getFullYear(),c=n.getFullYear()),t===_e.month&&(a&&(d=i.getMonth()),o&&(c=n.getMonth())),t===_e.day&&(c=R.getMaxMonthDay(e.getFullYear(),e.getMonth()),a&&s&&(d=i.getDate()),o&&r&&(c=n.getDate())),t===_e.hours&&(d=l?i.getHours():d,c=h?n.getHours():c),{startValue:d,endValue:c}},_refreshRollers:function(){this._refreshRoller(_e.month),this._refreshRoller(_e.day),this._refreshRoller(_e.hours)},_optionChanged:function(t){switch(t.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(t.value,t.previousValue);break;case"visible":this.callBase(t),t.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:this.callBase(t)}},_clean:function(){this.callBase(),delete this._$rollersContainer}});(0,n.Z)("dxDateView",me);var fe=me,ge=(0,x.Jj)(),ve=qt.inherit({NAME:"DateView",getDefaultOptions:function(){return(0,r.l)(this.callBase(),{openOnFieldClick:!0,applyButtonText:L.Z.format("OK"),"dropDownOptions.showTitle":!0})},getDisplayFormat:function(t){return t||R.FORMATS_MAP[this.dateBox.option("type")]},popupConfig:function(t){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:t.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device:function(t){var e=t.platform;return"generic"===e||"ios"===e},options:{width:"auto",height:"auto"}},{device:function(t){var e=t.platform,i=t.phone;return"generic"===e&&i},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:ge}}}]}},_renderWidget:function(){if((0,w.inputType)(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))this._widget&&(this._widget.$element().remove(),this._widget=null);else{var t=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{var e=(0,V.Z)("<div>").appendTo(t.$content());this._widget=this._createWidget(e)}this._widget.$element().appendTo(this._getWidgetContainer())}},_getWidgetName:function(){return fe},renderOpenedState:function(){this.callBase(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())},_getWidgetOptions:function(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*R.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}}),Ce=ve,ye=i(3268),be=qt.inherit({NAME:"Native",popupConfig:function(t){return(0,r.l)({},t,{width:"auto"})},getParsedText:function(t){return t?"datetime"===this.dateBox.option("type")?new Date(t.replace(/-/g,"/").replace("T"," ").split(".")[0]):R.fromStandardDateFormat(t):null},renderPopupContent:d.ZT,_getWidgetName:d.ZT,_getWidgetOptions:d.ZT,_getDateBoxType:function(){var t=this.dateBox.option("type");return-1===(0,ye.d3)(t,R.SUPPORTED_FORMATS)?t="date":"datetime"!==t||(0,w.inputType)(t)||(t="datetime-local"),t},customizeButtons:function(){var t=this.dateBox.getButton("dropDown");S.Z.real().android&&t&&t.on("click",function(){this.dateBox._input().get(0).click()}.bind(this))},getDefaultOptions:function(){return{mode:this._getDateBoxType()}},getDisplayFormat:function(t){var e=this._getDateBoxType();return t||R.FORMATS_MAP[e]},renderInputMinMax:function(t){t.attr({min:E.Z.serializeDate(this.dateBox.dateOption("min"),"yyyy-MM-dd"),max:E.Z.serializeDate(this.dateBox.dateOption("max"),"yyyy-MM-dd")})}}),xe=be,Ie=i(596),De=i(8722),we=i(5361),Se="dx-timeview",Be="dx-timeview-clock",Te="dx-timeview-field",Ve="dx-timeview-hourarrow",Ee="dx-timeview-time-separator",ke="dx-timeview-format12",Oe=-1,Me=1,Ze="dx-timeview-minutearrow",Ae=function(t,e,i){Fe(t,e,i)},Fe=function(t,e,i){t.css("transform","rotate("+e+"deg) translate(0,"+i+"px)")},$e=z.Z.inherit({_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5,stylingMode:void 0})},_getValue:function(){return this.option("value")||new Date},_init:function(){this.callBase(),this.$element().addClass(Se)},_render:function(){this.callBase(),this._renderBox(),this._updateTime()},_renderBox:function(){var t=(0,V.Z)("<div>").appendTo(this.$element()),e=[];this.option("_showClock")&&e.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),e.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(t,we.Z,{height:"100%",width:"100%",direction:"col",items:e})},_renderClock:function(t,e,i){this._$hourArrow=(0,V.Z)("<div>").addClass(Ve),this._$minuteArrow=(0,V.Z)("<div>").addClass(Ze);var n=(0,V.Z)(i);n.addClass(Be).append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",n)},_updateClock:function(){var t=this._getValue(),e=t.getHours()/12*360+t.getMinutes()/60*30,i=t.getMinutes()/60*360;Ae(this._$hourArrow,e,this.option("_arrowOffset")),Ae(this._$minuteArrow,i,this.option("_arrowOffset"))},_getBoxItems:function(t){var e=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:(0,V.Z)("<div>").addClass(Ee).text(y.Z.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return t&&e.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),e},_renderField:function(){var t=!this.option("use24HourFormat");return this._createHourBox(t),this._createMinuteBox(),t&&this._createFormat12Box(),this._createComponent((0,V.Z)("<div>").addClass(Te),we.Z,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(t)}).$element()},_createHourBox:function(t){var e=this._hourBox=this._createComponent((0,V.Z)("<div>"),Ie.Z,(0,r.l)({min:-1,max:t?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:t=>this._keyboardHandler(t)},this._getNumberBoxConfig()));e.setAria("label","hours")},_isPM:function(){return!this.option("use24HourFormat")&&1===this._format12.option("value")},_onHourBoxValueChanged:function(t){var{value:e,component:i}=t,n=this._getValue(),a=new Date(n),s=this._convertMaxHourToMin(e);i.option("value",s),this._isPM()&&(s+=12),a.setHours(s),R.normalizeTime(a),this.option("value",a)},_convertMaxHourToMin:function(t){var e=this.option("use24HourFormat")?24:12;return(e+t)%e},_createMinuteBox:function(){var t=this._minuteBox=this._createComponent((0,V.Z)("<div>"),Ie.Z,(0,r.l)({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:t=>this._keyboardHandler(t),onValueChanged:t=>{var{value:e,component:i}=t,n=(60+e)%60;i.option("value",n);var a=new Date(this._getValue());a.setMinutes(n),R.normalizeTime(a),this.option("value",a)}},this._getNumberBoxConfig()));t.setAria("label","minutes")},_createFormat12Box:function(){var t=y.Z.getPeriodNames(),e=this._format12=this._createComponent((0,V.Z)("<div>").addClass(ke),De.Z,{items:[{value:Oe,text:t[0]},{value:Me,text:t[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:t=>this._keyboardHandler(t),onValueChanged:t=>{var{value:e}=t,i=this._getValue().getHours(),n=new Date(this._getValue()),a=(i+12*e)%24;n.setHours(a),this.option("value",n)},value:this._getValue().getHours()>=12?Me:Oe,stylingMode:this.option("stylingMode")});e.setAria("label","type")},_refreshFormat12:function(){if(!this.option("use24HourFormat")){var t=this._getValue(),e=t.getHours(),i=e>=12,n=i?Me:Oe;this._silentEditorValueUpdate(this._format12,n)}},_silentEditorValueUpdate:function(t,e){t&&(t._suppressValueChangeAction(),t.option("value",e),t._resumeValueChangeAction())},_getNumberBoxConfig:function(){return{showSpinButtons:!0,displayValueFormatter:function(t){return(t<10?"0":"")+t},stylingMode:this.option("stylingMode")}},_normalizeHours:function(t){return this.option("use24HourFormat")?t:t%12||12},_updateField:function(){var t=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,t),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()},_updateTime:function(){this.option("_showClock")&&this._updateClock(),this._updateField()},_visibilityChanged:function(t){t&&this._updateTime()},_optionChanged:function(t){switch(t.name){case"value":this._updateTime(),this.callBase(t);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:this.callBase(t)}}});(0,n.Z)("dxTimeView",$e);var Re=$e,Pe=(0,x.Jj)(),Le=573,He="dx-datebox-adaptivity-mode",Ne="dx-datebox-datetime-time-side",We=Ut.inherit({NAME:"CalendarWithTime",getDefaultOptions:function(){return(0,r.l)(this.callBase(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})},_closeDropDownByEnter:function(){return T.Z.sameDate(this._getContouredValue(),this.widgetOption("value"))},getDisplayFormat:function(t){return t||"shortdateshorttime"},_is24HourFormat:function(){return y.Z.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))},_getContouredValue:function(){var t=this.callBase();return this._updateDateTime(t)},_renderWidget:function(){this.callBase(),this._timeView=this.dateBox._createComponent((0,V.Z)("<div>"),Re,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")}),this._timeView.registerKeyHandler("escape",this._escapeHandler.bind(this))},renderOpenedState:function(){this.callBase();var t=this._getPopup();t&&t.$wrapper().toggleClass(He,this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(function(){this._getPopup()&&this._getPopup().repaint()}.bind(this),0)},isAdaptivityChanged:function(){var t=this._isShrinkView(),e=this._currentAdaptiveMode;return t!==e?(this._currentAdaptiveMode=t,void 0!==e):this.callBase()},_updateValue:function(t){var e=this.dateBoxValue();e||t||(e=new Date,R.normalizeTime(e)),this.callBase(),this._timeView&&(e&&this._timeView.option("value",e),this._timeView.option("use24HourFormat",this._is24HourFormat()))},_isSmallScreen:function(){return(0,H.dz)(Pe)<=Le},_isShrinkView:function(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()},_getBoxItems:function(){var t=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||t.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),t},renderPopupContent:function(){this.callBase(),this._currentAdaptiveMode=this._isShrinkView();var t=this._getPopup().$content();this._box=this.dateBox._createComponent((0,V.Z)("<div>").appendTo(t),we.Z,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:function(t,e,i){var n=(0,V.Z)("<div>");switch(t.name){case"calendar":n.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(Ne),n.append(this._timeView.$element()));break;case"time":n.append(this._timeView.$element()),(0,V.Z)(i).addClass(Ne)}return n}.bind(this)}),this._attachTabHandler()},popupConfig:function(t){var e=this.callBase(t),i=(0,r.l)(e,{width:"auto",onShowing:function(){if("fallback"===this._box.option("_layoutStrategy")){var t=this._getPopup().$content().find(".dx-timeview-clock").css("minWidth");this._timeView.$element().css("maxWidth",t)}}.bind(this)});return i},getFirstPopupElement:function(){return this._timeView._hourBox.$element().find("input")},_attachTabHandler:function(){var t=this.dateBox;this._timeView._hourBox.registerKeyHandler("tab",(function(e){e.shiftKey&&(e.preventDefault(),t.focus())}))},_preventFocusOnPopup:function(t){(0,V.Z)(t.target).hasClass("dx-texteditor-input")||(this.callBase.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())},_updateDateTime:function(t){var e=this._timeView.option("value");return t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t},getValue:function(){var t,e=null!==(t=this._widget.option("value"))&&void 0!==t?t:this._widget.getContouredDate();return e=e?new Date(e):new Date,this._updateDateTime(e)},dispose:function(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),this.callBase()}}),ze=We,Ke=i(2710),Ge=(i(3232),i(8322)),qe=(0,x.Jj)(),Ye="date",Ue={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)},je=qt.inherit({NAME:"List",supportedKeys:function(){return{tab:function(){var{opened:t,applyValueMode:e}=this.option();t&&"instantly"===e&&this.close()},space:d.ZT,home:d.ZT,end:d.ZT}},getDefaultOptions:function(){return(0,r.l)(this.callBase(),{applyValueMode:"instantly"})},getDisplayFormat:function(t){return t||"shorttime"},popupConfig:function(t){return t},getValue:function(){var t=this._widget.option("selectedIndex");if(-1===t)return this.dateBox.option("value");var e=this._widgetItems[t];return this._getDateByItemData(e)},useCurrentDateByDefault:function(){return!0},getDefaultDate:function(){return new Date(null)},popupShowingHandler:function(){this.dateBox._dimensionChanged()},_renderWidget:function(){this.callBase(),this._refreshItems()},_getWidgetName:function(){return Ke.Z},_getWidgetOptions:function(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}},_refreshActiveDescendant:function(t){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",t.actionValue)},_refreshItems:function(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)},renderOpenedState:function(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())},dispose:function(){this.callBase(),clearTimeout(this._asyncScrollTimeout)},_updateValue:function(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())},_setSelectedItemsByValue:function(){var t=this.dateBoxValue(),e=this._getDateIndex(t);-1===e?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",e)},_scrollToSelectedItem:function(){this._widget.scrollToItem(this._widget.option("selectedIndex"))},_getDateIndex:function(t){for(var e=-1,i=0,n=this._widgetItems.length;i<n;i++)if(this._areDatesEqual(t,this._widgetItems[i])){e=i;break}return e},_areDatesEqual:function(t,e){return(0,s.J_)(t)&&(0,s.J_)(e)&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()},_getTimeListItems:function(){var t=this.dateBox.dateOption("min")||this._getBoundaryDate("min"),e=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),i=this.dateBox.dateOption("value")||null,n=e-t,a=t.getMinutes()%this.dateBox.option("interval");return n<0?[]:(n>R.ONE_DAY&&(n=R.ONE_DAY),i-t<R.ONE_DAY||(t=this._getBoundaryDate("min"),t.setMinutes(a),i&&Math.abs(i-e)<R.ONE_DAY&&(n=(60*e.getHours()+Math.abs(e.getMinutes()-a))*R.ONE_MINUTE)),this._getRangeItems(t,new Date(t),n))},_getRangeItems:function(t,e,i){var n=[],a=this.dateBox.option("interval");while(e-t<=i)n.push(new Date(e)),e.setMinutes(e.getMinutes()+a);return n},_getBoundaryDate:function(t){var e=Ue[t],i=new Date((0,d.IS)(this.dateBox.dateOption("value"),0));return new Date(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes())},_timeListItemTemplate:function(t){var e=this.dateBox.option("displayFormat");return y.Z.format(t,this.getDisplayFormat(e))},_listItemClickHandler:function(t){if("useButtons"!==this.dateBox.option("applyValueMode")){var e=this._getDateByItemData(t.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(e,t.event)}},_getDateByItemData:function(t){var e=this.dateBox.option("value"),i=t.getHours(),n=t.getMinutes(),a=t.getSeconds(),s=t.getFullYear(),o=t.getMonth(),r=t.getDate();return e?(e=this.dateBox.option("dateSerializationFormat")?E.Z.deserializeDate(e):new Date(e),e.setHours(i),e.setMinutes(n),e.setSeconds(a),e.setFullYear(s),e.setMonth(o),e.setDate(r)):e=new Date(s,o,r,i,n,0,0),e},getKeyboardListener:function(){return this._widget},_updatePopupHeight:function(){var t=(0,Ge.T)(this.dateBox.option("dropDownOptions.height"));if(void 0===t||"auto"===t){this.dateBox._setPopupOption("height","auto");var e=(0,H.zp)(this._widget.$element()),i=.45*(0,H.Cr)(qe);this.dateBox._setPopupOption("height",Math.min(e,i))}this.dateBox._timeList&&this.dateBox._timeList.updateDimensions()},getParsedText:function(t,e){var i=this.callBase(t,e);return i&&(i=R.mergeDates(i,new Date(null),Ye)),i}}),Qe=je,Je=(0,x.Jj)(),Xe="dx-datebox",ti="dx-auto-width",ei="dx-show-invalid-badge",ii="dx-clear-button-area",ni="dx-datebox-wrapper",ai="dx-dropdowneditor-overlay",si={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},oi={date:"date",datetime:"datetime",time:"time"},ri={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},li={Calendar:Ut,DateView:Ce,Native:xe,CalendarWithTime:ze,List:Qe},hi=P.Z.inherit({_supportedKeys:function(){return(0,r.l)(this.callBase(),this._strategy.supportedKeys())},_renderButtonContainers:function(){this.callBase.apply(this,arguments),this._strategy.customizeButtons()},_getDefaultOptions:function(){return(0,r.l)(this.callBase(),{type:"date",showAnalogClock:!0,value:null,dateSerializationFormat:void 0,min:void 0,max:void 0,displayFormat:null,interval:30,disabledDates:null,pickerType:si.calendar,invalidDateMessage:L.Z.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:L.Z.format("validation-range"),applyButtonText:L.Z.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device:function(){var t=S.Z.real(),e=t.platform;return"ios"===e||"android"===e},options:{pickerType:si.native}},{device:function(t){var e=S.Z.real(),i=e.platform,n=e.version;return"generic"===i&&"desktop"!==t.deviceType||"android"===i&&(0,D.q)(n,[4,4])<0},options:{pickerType:si.rollers}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])},_initOptions:function(t){this._userOptions=(0,r.l)({},t),this.callBase(t),this._updatePickerOptions()},_updatePickerOptions:function(){var t=this.option("pickerType"),e=this.option("type");t!==si.list||e!==oi.datetime&&e!==oi.date||(t=si.calendar),e===oi.time&&t===si.calendar&&(t=si.list),this.option("showDropDownButton","generic"!==S.Z.real().platform||t!==si.native),this._pickerType=t},_init:function(){this._initStrategy(),this.option((0,r.l)({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,this.callBase()},_toLowerCaseFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},_initStrategy:function(){var t=this._getStrategyName(this._getFormatType()),e=li[t];this._strategy&&this._strategy.NAME===t||(this._strategy=new e(this))},_getFormatType:function(){var t=this.option("type"),e=/h|m|s/g.test(t),i=/d|M|Y/g.test(t),n="";return i&&(n+=oi.date),e&&(n+=oi.time),n},_getStrategyName:function(t){var e=this._pickerType;return e===si.rollers?ri.dateView:e===si.native?ri.native:t===oi.date?ri.calendar:t===oi.datetime?ri.calendarWithTime:ri.list},_initMarkup:function(){this.$element().addClass(Xe),this.callBase(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())},_render:function(){this.callBase(),this._formatValidationIcon()},_renderDimensions:function(){this.callBase(),this.$element().toggleClass(ti,!this.option("width")),this._dimensionChanged()},_dimensionChanged:function(){var t,e;(this.callBase(arguments),this._popup)&&(null===(t=(e=this._strategy)._updatePopupHeight)||void 0===t||t.call(e))},_refreshFormatClass:function(){var t=this.$element();(0,I.S6)(oi,(function(e,i){t.removeClass(Xe+"-"+i)})),t.addClass(Xe+"-"+this.option("type"))},_refreshPickerTypeClass:function(){var t=this.$element();(0,I.S6)(si,(function(e,i){t.removeClass(Xe+"-"+i)})),t.addClass(Xe+"-"+this._pickerType)},_formatValidationIcon:function(){if((0,x.Ym)()){var t=this._input().get(0),e=this.option("rtlEnabled"),i=this._getClearButtonWidth(),n=this._getLongestElementDimensions(),a=parseFloat(Je.getComputedStyle(t).width)-i,s=n.width>a,o=t.style;this.$element().toggleClass(ei,!s),s?(void 0===this._storedPadding&&(this._storedPadding=e?n.leftPadding:n.rightPadding),e?o.paddingLeft=0:o.paddingRight=0):e?o.paddingLeft=this._storedPadding+"px":o.paddingRight=this._storedPadding+"px"}},_getClearButtonWidth:function(){var t=0;if(this._isClearButtonVisible()&&""===this._input().val()){var e=this.$element().find("."+ii).get(0);t=parseFloat(Je.getComputedStyle(e).width)}return t},_getLongestElementDimensions:function(){var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=y.Z.format(R.getLongestDate(t,y.Z.getMonthNames(),y.Z.getDayNames()),t),i=this._input(),n=i.get(0),a=(0,o.l5)(i,e),s=void 0!==this._storedPadding,r=s?this._storedPadding:0;a.appendTo(this.$element());var l=parseFloat(Je.getComputedStyle(a.get(0)).width),h=parseFloat(Je.getComputedStyle(n).paddingRight),u=parseFloat(Je.getComputedStyle(n).paddingLeft),d=l+u+h+r;return a.remove(),{width:d,leftPadding:u,rightPadding:h}},_getKeyboardListeners(){return this.callBase().concat([this._strategy&&this._strategy.getKeyboardListener()])},_renderPopup:function(){this.callBase(),this._popup.$wrapper().addClass(ni),this._renderPopupWrapper()},_popupConfig:function(){var t=this.callBase();return(0,r.l)(this._strategy.popupConfig(t),{title:this._getPopupTitle(),dragEnabled:!1})},_renderPopupWrapper:function(){if(this._popup){var t=this.$element(),e=(0,r.l)({},oi,si);(0,I.S6)(e,function(e,i){t.removeClass(ni+"-"+i)}.bind(this)),this._popup.$wrapper().addClass(ni+"-"+this.option("type")).addClass(ni+"-"+this._pickerType).addClass(ai)}},_renderPopupContent:function(){this.callBase(),this._strategy.renderPopupContent()},_getFirstPopupElement:function(){return this._strategy.getFirstPopupElement()||this.callBase()},_getLastPopupElement:function(){return this._strategy.getLastPopupElement()||this.callBase()},_popupShowingHandler:function(){this.callBase(),this._strategy.popupShowingHandler()},_popupShownHandler:function(){this.callBase(),this._strategy.renderOpenedState()},_popupHiddenHandler:function(){this.callBase(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()},_visibilityChanged:function(t){t&&this._formatValidationIcon()},_clearValueHandler:function(t){this.option("text",""),this.callBase(t)},_readOnlyPropValue:function(){if(this._pickerType===si.rollers)return!0;var t=S.Z.real().platform,e=this._isNativeType()&&("ios"===t||"android"===t);return e?this.option("readOnly"):this.callBase()},_isClearButtonVisible:function(){return this.callBase()&&!this._isNativeType()},_renderValue:function(){var t=this.dateOption("value");return this.option("text",this._getDisplayedText(t)),this._strategy.renderValue(),this.callBase()},_setSubmitValue:function(){var t=this.dateOption("value"),e=this.option("dateSerializationFormat"),i=R.SUBMIT_FORMATS_MAP[this.option("type")],n=e?E.Z.serializeDate(t,e):R.toStandardDateFormat(t,i);this._getSubmitElement().val(n)},_getDisplayedText:function(t){var e,i=this.option("mode");if("text"===i){var n=this._strategy.getDisplayFormat(this.option("displayFormat"));e=y.Z.format(t,n)}else{var a=this._getFormatByMode(i);e=a?y.Z.format(t,a):R.toStandardDateFormat(t,i)}return e},_getFormatByMode:function(t){return(0,w.inputType)(t)?null:R.FORMATS_MAP[t]},_valueChangeEventHandler:function(t){var{text:e,type:i,validationError:n}=this.option(),a=this.dateOption("value");if(e!==this._getDisplayedText(a)){var s=this._getParsedDate(e),o=null!==a&&void 0!==a?a:this._getDateByDefault(),r=R.mergeDates(o,s,i),l=s&&"time"===i?r:s;if(this._applyInternalValidation(l).isValid){var h=this._getDisplayedText(r);o&&r&&o.getTime()===r.getTime()&&h!==e?this._renderValue():this.dateValue(r,t)}}else n&&!n.editorSpecific||(this._applyInternalValidation(a),this._applyCustomValidation(a))},_getDateByDefault:function(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()},_getParsedDate:function(t){var e=this._strategy.getDisplayFormat(this.option("displayFormat")),i=this._strategy.getParsedText(t,e);return null!==i&&void 0!==i?i:void 0},_applyInternalValidation(t){var e=this.option("text"),i=!!e&&null!==t,n=!!t&&(0,s.J_)(t)&&!isNaN(t.getTime()),a=n&&T.Z.dateInRange(t,this.dateOption("min"),this.dateOption("max"),this.option("type")),o=!i&&!t||a,r="";return n?a||(r=this.option("dateOutOfRangeMessage")):r=this.option("invalidDateMessage"),this.option({isValid:o,validationError:o?null:{editorSpecific:!0,message:r}}),{isValid:o,isDate:n}},_applyCustomValidation:function(t){this.validationRequest.fire({editor:this,value:this._serializeDate(t)})},_isValueChanged:function(t){var e=this.dateOption("value"),i=e&&e.getTime(),n=t&&t.getTime();return i!==n},_isTextChanged:function(t){var e=this.option("text"),i=t&&this._getDisplayedText(t)||"";return e!==i},_renderProps:function(){this.callBase(),this._input().attr("autocomplete","off")},_renderOpenedState:function(){this._isNativeType()||this.callBase(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()},_getPopupTitle:function(){var t=this.option("placeholder");if(t)return t;var e=this.option("type");return e===oi.time?L.Z.format("dxDateBox-simulatedDataPickerTitleTime"):e===oi.date||e===oi.datetime?L.Z.format("dxDateBox-simulatedDataPickerTitleDate"):""},_refreshStrategy:function(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()},_applyButtonHandler:function(t){var e=this._strategy.getValue(),{isValid:i,isDate:n}=this._applyInternalValidation(e);if(i)this.dateValue(e,t.event);else if(n){var a=this._getDisplayedText(e);this.option("text",a),this._renderDisplayText(a)}this.callBase()},_dispose:function(){var t;this.callBase(),null===(t=this._strategy)||void 0===t||t.dispose()},_isNativeType:function(){return this._pickerType===si.native},_updatePopupTitle:function(){var t;null===(t=this._popup)||void 0===t||t.option("title",this._getPopupTitle())},_optionChanged:function(t){switch(t.name){case"showClearButton":case"buttons":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions({pickerType:t.value}),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions({format:t.value}),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":this.callBase.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":var e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break;case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(t.value),this.callBase.apply(this,arguments);break;case"isValid":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"showDropDownButton":this._formatValidationIcon(),this.callBase.apply(this,arguments);break;case"readOnly":this.callBase.apply(this,arguments),this._formatValidationIcon();break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":break;default:this.callBase.apply(this,arguments)}},_getSerializationFormat:function(){var t=this.option("value");return this.option("dateSerializationFormat")&&(0,B.Z)().forceIsoDateParsing?this.option("dateSerializationFormat"):(0,s.kE)(t)?"number":(0,s.HD)(t)?E.Z.getDateSerializationFormat(t):void 0},_updateValue:function(t){this.callBase(),this._applyInternalValidation(null!==t&&void 0!==t?t:this.dateOption("value"))},dateValue:function(t,e){var i=this._isValueChanged(t);return i&&e&&this._saveValueChangeEvent(e),i||(this._isTextChanged(t)?this._updateValue(t):""===this.option("text")&&this._applyCustomValidation(t)),this.dateOption("value",t)},dateOption:function(t,e){if(1===arguments.length)return E.Z.deserializeDate(this.option(t));this.option(t,this._serializeDate(e))},_serializeDate:function(t){var e=this._getSerializationFormat();return E.Z.serializeDate(t,e)},_clearValue:function(){var t=this.option("value");this.callBase(),null===t&&this._applyCustomValidation(null)},reset:function(){var t=this.option("value");this.callBase(),null===t&&this._applyInternalValidation(null)}}),ui=hi,di=i(5513),ci=i(613),pi="dateBoxMask",_i=1,mi=-1,fi=ui.inherit({_supportedKeys(t){var e=this.callBase(t),i=t=>{var i=e[(0,a.EV)(t)];return i&&i.apply(this,[t])},n=(t,e)=>this._shouldUseOriginalHandler(t)?i.apply(this,[t]):e.apply(this,[t]);return(0,r.l)({},e,{del:t=>n(t,(t=>{this._revertPart(_i),this._isAllSelected()||t.preventDefault()})),backspace:t=>n(t,(t=>{this._revertPart(mi),this._isAllSelected()||t.preventDefault()})),home:t=>n(t,(t=>{this._selectFirstPart(),t.preventDefault()})),end:t=>n(t,(t=>{this._selectLastPart(),t.preventDefault()})),escape:t=>n(t,(t=>{this._revertChanges(t)})),enter:t=>n(t,(t=>{this._enterHandler(t)})),leftArrow:t=>n(t,(t=>{this._selectNextPart(mi),t.preventDefault()})),rightArrow:t=>n(t,(t=>{this._selectNextPart(_i),t.preventDefault()})),upArrow:t=>n(t,(t=>{this._upDownArrowHandler(_i),t.preventDefault()})),downArrow:t=>n(t,(t=>{this._upDownArrowHandler(mi),t.preventDefault()}))})},_shouldUseOriginalHandler(t){var e=this.option("opened")&&t&&-1===["backspace","del"].indexOf((0,a.EV)(t));return!this._useMaskBehavior()||e||t&&t.altKey},_upDownArrowHandler(t){this._setNewDateIfEmpty();var e=this._getActivePartValue(this._initialMaskValue),i=this._getActivePartValue(),n=i-e;this._loadMaskValue(this._initialMaskValue),this._partIncrease(n+t,!0)},_getDefaultOptions(){return(0,r.l)(this.callBase(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})},_isSingleCharKey(t){var{originalEvent:e,alt:i}=t,n=e.data||e.key;return"string"===typeof n&&1===n.length&&!i&&!(0,a.j1)(e)},_isSingleDigitKey(t){var e,i=null===(e=t.originalEvent)||void 0===e?void 0:e.data;return 1===(null===i||void 0===i?void 0:i.length)&&parseInt(i,10)},_useBeforeInputEvent:function(){var t=S.Z.real();return t.android&&t.version[0]>4},_keyInputHandler(t,e){var i=this._input().val();this._processInputKey(e),t.preventDefault();var n=i!==this._input().val();n&&h.Z.trigger(this._input(),"input")},_keyboardHandler(t){var e=t.originalEvent.key,i=this.callBase(t);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(ci.Z.chrome&&"Process"===t.key&&0===t.code.indexOf("Digit")?(e=t.code.replace("Digit",""),this._processInputKey(e),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(t)&&this._keyInputHandler(t.originalEvent,e)),i},_maskBeforeInputHandler(t){this._maskInputHandler=null;var{inputType:e}=t.originalEvent;"insertCompositionText"===e&&(this._maskInputHandler=()=>{this._renderSelectedPart()});var i="deleteContentBackward"===e,n="deleteContentForward"===e;if(i||n){var a=i?mi:_i;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(a)}}if(this._useMaskBehavior()&&this._isSingleCharKey(t)){var s=t.originalEvent.data;return this._keyInputHandler(t,s),!0}},_keyPressHandler(t){var{originalEvent:e}=t;"insertCompositionText"===(null===e||void 0===e?void 0:e.inputType)&&this._isSingleDigitKey(t)&&(this._processInputKey(e.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),this.callBase(t),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)},_processInputKey(t){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(t))?this._searchString(t):this._searchNumber(t)},_isAllSelected(){var t=this._caret();return t.end-t.start===this.option("text").length},_getFormatPattern(){if(this._formatPattern)return this._formatPattern;var t=this._strategy.getDisplayFormat(this.option("displayFormat")),e=(0,s.HD)(t)&&!y.Z._getPatternByFormat(t);return this._formatPattern=e?t:(0,b.y)((function(e){return y.Z.format(e,t)})),this._formatPattern},_setNewDateIfEmpty(){if(!this._maskValue){var t="time"===this.option("type")?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}},_partLimitsReached(t){var e=String(t).length,i=this._getActivePartProp("pattern").length,n=1===i,a=n?e:Math.min(i,e),s=this._searchValue.length===a,o=parseInt(this._searchValue+"0")>t;return s||o},_searchNumber(t){var{max:e}=this._getActivePartLimits(),i=String(e).length;this._searchValue=(this._searchValue+t).substr(-i),isNaN(this._searchValue)&&(this._searchValue=t),this._setActivePartValue(this._searchValue),this._partLimitsReached(e)&&this._selectNextPart(_i)},_searchString(t){if(isNaN(parseInt(this._getActivePartProp("text")))){for(var e=this._getActivePartProp("limits")(this._maskValue),i=this._searchValue+t.toLowerCase(),n=e.max-e.min,a=0;a<=n;a++)if(this._loadMaskValue(this._initialMaskValue),this._partIncrease(a+1),0===this._getActivePartProp("text").toLowerCase().indexOf(i))return void(this._searchValue=i);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(t))}},_clearSearchValue(){this._searchValue=""},_revertPart:function(t){if(!this._isAllSelected()){var e=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(e),this._selectNextPart(t)}this._clearSearchValue()},_useMaskBehavior(){return this.option("useMaskBehavior")&&"text"===this.option("mode")},_prepareRegExpInfo(){this._regExpInfo=(0,u.oo)(this._getFormatPattern(),y.Z);var t=this._regExpInfo.regexp,e=t.source,i=t.flags,n=new RegExp(/(\{[0-9]+,?[0-9]*\})/),a=e.split(n).map((t=>n.test(t)?t:di.Z.convertDigits(t,!1))).join("");this._regExpInfo.regexp=new RegExp(a,i)},_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()},_renderMask(){this.callBase(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())},_renderDateParts(){if(this._useMaskBehavior()){var t=this.option("text")||this._getDisplayedText(this._maskValue);t&&(this._dateParts=g(t,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}},_detachMaskEvents(){h.Z.off(this._input(),"."+pi)},_attachMaskEvents(){h.Z.on(this._input(),(0,a.V4)("dxclick",pi),this._maskClickHandler.bind(this)),h.Z.on(this._input(),(0,a.V4)("paste",pi),this._maskPasteHandler.bind(this)),h.Z.on(this._input(),(0,a.V4)("drop",pi),(()=>{this._renderSelectedPart()})),h.Z.on(this._input(),(0,a.V4)("compositionend",pi),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&h.Z.on(this._input(),(0,a.V4)("beforeinput",pi),this._maskBeforeInputHandler.bind(this))},_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()},_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(mi))},_selectFirstPart(){this.option("text")&&(this._activePartIndex=-1,this._selectNextPart(_i))},_onMouseWheel(t){this._useMaskBehavior()&&this._partIncrease(t.delta>0?_i:mi,t)},_selectNextPart(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.option("text")&&!this._disposed){t&&(this._initialMaskValue=new Date(this._maskValue));var e=(0,l.n$)(this._activePartIndex+t,0,this._dateParts.length-1);if(this._dateParts[e].isStub){var i=0===e&&t<0||e===this._dateParts.length-1&&t>0;if(!i)return void this._selectNextPart(t>=0?t+1:t-1);e=this._activePartIndex}this._activePartIndex!==e&&this._clearSearchValue(),this._activePartIndex=e,this._caret(this._getActivePartProp("caret"))}},_getRealLimitsPattern(){if("d"===this._getActivePartProp("pattern")[0])return"dM"},_getActivePartLimits(t){var e=this._getActivePartProp("limits");return e(this._maskValue,t&&this._getRealLimitsPattern())},_getActivePartValue(t){t=t||this._maskValue;var e=this._getActivePartProp("getter");return(0,s.mf)(e)?e(t):t[e]()},_addLeadingZeroes(t){var e=this._searchValue.match(/^0+/),i=this._getActivePartLimits(),n=String(i.max).length;return((e&&e[0]||"")+String(t)).substr(-n)},_setActivePartValue(t,e){e=e||this._maskValue;var i=this._getActivePartProp("setter"),n=this._getActivePartLimits();t=(0,l.Z2)(t,n.min,n.max)?t:t%10,t=this._addLeadingZeroes((0,l.n$)(t,n.min,n.max)),(0,s.mf)(i)?i(e,t):e[i](t),this._renderDisplayText(this._getDisplayedText(e)),this._renderDateParts()},_getActivePartProp(t){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][t]},_loadMaskValue(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=t&&new Date(t),this._initialMaskValue=t&&new Date(t)},_saveMaskValue(){var t=this._maskValue&&new Date(this._maskValue);t&&"date"===this.option("type")&&t.setHours(0,0,0,0),this._initialMaskValue=new Date(t),this.dateOption("value",t)},_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()},_renderDisplayText(t){this.callBase(t),this._useMaskBehavior()&&this.option("text",t)},_partIncrease(t,e){this._setNewDateIfEmpty();var{max:i,min:n}=this._getActivePartLimits(e),a=i-n;1===a&&a++;var s=t+this._getActivePartValue();s>i?s=this._applyLimits(s,{limitBase:n,limitClosest:i,limitDelta:a}):s<n&&(s=this._applyLimits(s,{limitBase:i,limitClosest:n,limitDelta:a})),this._setActivePartValue(s)},_applyLimits(t,e){var{limitBase:i,limitClosest:n,limitDelta:a}=e,s=(t-n)%a;return s?i+s-1*(0,l.Xx)(s):n},_maskClickHandler(){this.option("text")&&(this._activePartIndex=C(this._dateParts,this._caret().start),this._isAllSelected()||((0,s.$K)(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))},_maskCompositionEndHandler(t){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}},_maskPasteHandler(t){var e=this._replaceSelectedText(this.option("text"),this._caret(),(0,o.Zx)(t)),i=y.Z.parse(e,this._getFormatPattern());i&&this._isDateValid(i)&&(this._maskValue=i,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),t.preventDefault()},_isDateValid:t=>(0,s.J_)(t)&&!isNaN(t),_isValueDirty(){var t=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(t&&t.getTime())},_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&h.Z.trigger(this._input(),"change")},_enterHandler(t){this._fireChangeEvent(),this._selectNextPart(_i),t.preventDefault()},_focusOutHandler(t){var e=this._useMaskBehavior()&&!t.isDefaultPrevented();e?(this._fireChangeEvent(),this.callBase(t),this._selectFirstPart(t)):this.callBase(t)},_valueChangeEventHandler(t){var e=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(t),e?null===this._maskValue&&this._loadMaskValue(e):this._maskValue=null,this._saveMaskValue()):this.callBase(t)},_optionChanged(t){switch(t.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":this.callBase(t),this._renderMask();break;case"value":this._loadMaskValue(),this.callBase(t),this._renderDateParts();break;case"emptyDateValue":break;default:this.callBase(t)}},_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue},reset(){this.callBase(),this._clearMaskState(),this._activePartIndex=0},_clean(){this.callBase(),this._detachMaskEvents(),this._clearMaskState()}}),gi=fi;(0,n.Z)("dxDateBox",gi)},3103:function(t,e,i){i.d(e,{Z:function(){return W}});i(2262),i(4506);var n=i(555),a=i(337),s=i(7814),o=i(1025),r=i(8218),l=i(5623),h=i(9598),u=i(9532),d=i(3908),c=i(7437),p=i(1923),_=i(9053),m=i(217),f=i(946),g=i(3001),v=i(880),C="dx-dropdowneditor-button",y="dx-dropdowneditor-button-visible",b="dxDropDownEditor-selectLabel";class x extends g.Z{constructor(t,e,i){super(t,e,i),this.currentTemplate=null}_attachEvents(t){var{editor:e}=this;t.option("onClick",(t=>{!e.option("openOnFieldClick")&&e._openHandler(t)})),a.Z.on(t.$element(),"mousedown",(t=>{e.$element().is(".dx-state-focused")&&t.preventDefault()}))}_create(){var{editor:t}=this,e=(0,n.Z)("<div>"),i=this._getOptions();this._addToContainer(e);var a=t._createComponent(e,v["default"],(0,d.l)({},i,{elementAttr:{"aria-label":f.Z.format(b)}}));return this._legacyRender(t.$element(),e,i.visible),{$element:e,instance:a}}_getOptions(){var{editor:t}=this,e=this._isVisible(),i=t.option("readOnly"),n={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:i,visible:e};return this._addTemplate(n),n}_isVisible(){var{editor:t}=this;return super._isVisible()&&t.option("showDropDownButton")}_legacyRender(t,e,i){t.toggleClass(y,i),e&&e.removeClass("dx-button").addClass(C)}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(t){this._isSameTemplate()||(t.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){var t=super.update();if(t){var{editor:e,instance:i}=this,n=e.$element(),a=this._getOptions();null===i||void 0===i||i.option(a),this._legacyRender(n,null===i||void 0===i?void 0:i.$element(),a.visible)}}}var I=i(1085),D=i(1925),w=i(8791),S=i(4872),B=i(5395),T=i(7328),V=i(6236),E=i(2632),k=i(8322),O=i(4935),M="dx-dropdowneditor",Z="dx-dropdowneditor-input-wrapper",A="dx-dropdowneditor-icon",F="dx-dropdowneditor-overlay",$="dx-dropdowneditor-overlay-flipped",R="dx-dropdowneditor-active",P="dx-dropdowneditor-field-clickable",L="dx-dropdowneditor-field-template-wrapper",H="ios"===B.Z.current().platform,N=w.Z.inherit({_supportedKeys:function(){return(0,d.l)({},this.callBase(),{tab:function(t){if(this.option("opened"))if("instantly"!==this.option("applyValueMode")){var e=t.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();e&&a.Z.trigger(e,"focus"),t.preventDefault()}else this.close()},escape:function(t){return this.option("opened")&&t.preventDefault(),this.close(),!0},upArrow:function(t){return!(!(0,D.j1)(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey))||(this.close(),!1)},downArrow:function(t){return!(!(0,D.j1)(t)&&(t.preventDefault(),t.stopPropagation(),t.altKey))||(this._validatedOpening(),!1)},enter:function(t){return this.option("opened")&&(t.preventDefault(),this._valueChangeEventHandler(t)),!0}})},_getDefaultButtons:function(){return this.callBase().concat([{name:"dropDown",Ctor:x}])},_getDefaultOptions:function(){return(0,d.l)(this.callBase(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:f.Z.format("OK"),cancelButtonText:f.Z.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1})},_useTemplates:function(){return!0},_getDefaultPopupPosition:function(t){var e=(0,m.q)(t);return{offset:{h:0,v:-1},my:e+" top",at:e+" bottom",collision:"flip flip"}},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(t){var e="generic"===t.platform;return e},options:{popupPosition:{offset:{v:0}}}}])},_inputWrapper:function(){return this.$element().find("."+Z).first()},_init:function(){this.callBase(),this._initVisibilityActions(),this._initPopupInitializedAction(),this._updatePopupPosition(this.option("rtlEnabled")),this._options.cache("dropDownOptions",this.option("dropDownOptions"))},_updatePopupPosition:function(t){var{my:e,at:i}=this._getDefaultPopupPosition(t),n=this.option("popupPosition");this.option("popupPosition",(0,d.l)({},n,{my:e,at:i}))},_initVisibilityActions:function(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})},_initPopupInitializedAction:function(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})},_initMarkup:function(){this._renderSubmitElement(),this.callBase(),this.$element().addClass(M),this.setAria("role","combobox")},_render:function(){this.callBase(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()},_renderContentImpl:function(){this.option("deferRendering")||this._createPopup()},_renderInput:function(){this.callBase(),this._wrapInput(),this._setDefaultAria()},_wrapInput:function(){this._$container=this.$element().wrapInner((0,n.Z)("<div>").addClass(Z)).children().eq(0)},_setDefaultAria:function(){this.setAria({haspopup:"true",autocomplete:"list"})},_readOnlyPropValue:function(){return!this._isEditable()||this.callBase()},_cleanFocusState:function(){this.callBase(),this.option("fieldTemplate")&&this._detachFocusEvents()},_getFieldTemplate:function(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")},_renderMask:function(){this.option("fieldTemplate")||this.callBase()},_renderField:function(){var t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())},_renderPlaceholder:function(){var t=!!this._getFieldTemplate();t||this.callBase()},_renderValue:function(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();var t=this.callBase();t.always(this._renderField.bind(this))},_renderTemplatedField:function(t,e){var i=(0,l.si)(this._input()),s=this._$container;this._detachKeyboardEvents(),this._refreshButtonsContainer(),this._detachWrapperContent(),this._detachFocusEvents(),s.empty();var o=(0,n.Z)("<div>").addClass(L).appendTo(s);t.render({model:e,container:(0,c.u)(o),onRendered:()=>{var t=this._input();if(!t.length)throw p.Z.Error("E1010");this._integrateInput(),i&&a.Z.trigger(t,"focus")}}),this._attachWrapperContent(s)},_detachWrapperContent(){var t,e,i,n=this.option("useHiddenSubmitElement");n&&(null===(t=this._$submitElement)||void 0===t||t.detach());var a=null===(e=this._$beforeButtonsContainer)||void 0===e?void 0:e[0].parentNode,s=null===(i=this._$afterButtonsContainer)||void 0===i?void 0:i[0].parentNode;null===a||void 0===a||a.removeChild(this._$beforeButtonsContainer[0]),null===s||void 0===s||s.removeChild(this._$afterButtonsContainer[0])},_attachWrapperContent(t){var e,i=this.option("useHiddenSubmitElement");t.prepend(this._$beforeButtonsContainer),i&&(null===(e=this._$submitElement)||void 0===e||e.appendTo(t)),t.append(this._$afterButtonsContainer)},_refreshButtonsContainer(){this._$buttonsContainer=this.$element().children().eq(0)},_integrateInput:function(){this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent()},_refreshEmptinessEvent:function(){a.Z.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()},_fieldRenderData:function(){return this.option("value")},_initTemplates:function(){this._templateManager.addDefaultTemplates({dropDownButton:new T.k((function(t){var e=(0,n.Z)("<div>").addClass(A);(0,n.Z)(t.container).append(e)}))}),this.callBase()},_renderOpenHandler:function(){var t=this._inputWrapper(),e=(0,D.V4)(S.u,this.NAME),i=this.option("openOnFieldClick");a.Z.off(t,e),a.Z.on(t,e,this._getInputClickHandler(i)),this.$element().toggleClass(P,i),i&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))},_attachFocusOutHandler:function(){H&&(this._detachFocusOutEvents(),a.Z.on(this._inputWrapper(),(0,D.V4)("focusout",this.NAME),(t=>{var e=t.relatedTarget,i=this.content?(0,n.Z)(this.content()).closest("."+F):this._$popup;if(e&&this.option("opened")){var a=0===(0,n.Z)(e).closest("."+F,i).length;a&&this.close()}})))},_detachFocusOutEvents:function(){H&&a.Z.off(this._inputWrapper(),(0,D.V4)("focusout",this.NAME))},_getInputClickHandler:function(t){return t?t=>{this._executeOpenAction(t)}:t=>{this._focusInput()}},_openHandler:function(){this._toggleOpenState()},_executeOpenAction:function(t){this._openOnFieldClickAction({event:t})},_keyboardEventBindingTarget:function(){return this._input()},_focusInput:function(){return!this.option("disabled")&&(this.option("focusStateEnabled")&&!(0,l.si)(this._input())&&(this._resetCaretPosition(),a.Z.trigger(this._input(),"focus")),!0)},_resetCaretPosition:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._input().get(0);if(e){var{value:i}=e,n=(0,u.$K)(i)&&(t||this._isEditable())?i.length:0;this._caret({start:n,end:n},!0)}},_isEditable:function(){return this.option("acceptCustomValue")},_toggleOpenState:function(t){this._focusInput()&&(this.option("readOnly")||(t=arguments.length?t:!this.option("opened"),this.option("opened",t)))},_renderOpenedState:function(){var t=this.option("opened");t&&this._createPopup(),this.$element().toggleClass(R,t),this._setPopupOption("visible",t),this.setAria({expanded:t}),this.setAria("owns",t?this._popupContentId:void 0,this.$element())},_createPopup:function(){this._$popup||(this._$popup=(0,n.Z)("<div>").addClass(F).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent())},_renderPopupContent:r.ZT,_renderPopup:function(){var t=(0,d.l)(this._popupConfig(),this._options.cache("dropDownOptions"));this._popup=this._createComponent(this._$popup,V.Z,t),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")},_setPopupContentId(t){this._popupContentId="dx-"+new s.Z,this.setAria("id",this._popupContentId,t)},_contentReadyHandler:r.ZT,_popupConfig:function(){return{onInitialized:this._popupInitializedHandler(),position:(0,d.l)(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>(0,k.m)(this.$element()),height:"auto",shading:!1,wrapperAttr:{class:F},hideOnParentScroll:!0,closeOnOutsideClick:this._closeOutsideDropDownHandler.bind(this),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null}},_popupInitializedHandler:function(){return this.option("onPopupInitialized")?t=>{this._popupInitializedAction({popup:t.component})}:null},_dimensionChanged:function(){var t=(0,k.T)(this.option("dropDownOptions.width"));void 0===t&&this._setPopupOption("width",(()=>(0,k.m)(this.$element())))},_popupPositionedHandler:function(t){t.position&&this._popup.$overlayContent().toggleClass($,t.position.v.flip)},_popupShowingHandler:r.ZT,_popupHidingHandler:function(){this.option("opened",!1)},_popupShownHandler:function(){var t;this._openAction();var e=this._popup.$overlayContent(),i=(0,O.jt)(e);if(this._label.isVisible()&&e.hasClass($)){var n=this._label.$element();(0,O.pB)(e,{top:i.top-parseInt(n.css("fontSize"))})}null===(t=this._validationMessage)||void 0===t||t.option("positionRequest",this._getValidationMessagePositionRequest())},_popupHiddenHandler:function(){var t;this._closeAction(),null===(t=this._validationMessage)||void 0===t||t.option("positionRequest",this._getValidationMessagePositionRequest())},_getValidationMessagePositionRequest:function(){var t="below";if(this._popup&&this._popup.option("visible")){var{top:e}=_.Z.setup(this.$element()),{top:i}=_.Z.setup(this._popup.$content());t=e+this.option("popupPosition").offset.v>i?"below":"above"}return t},_closeOutsideDropDownHandler:function(t){var{target:e}=t,i=(0,n.Z)(e),a=this.getButton("dropDown"),s=a&&a.$element(),o=!!i.closest(this.$element()).length,r=!!i.closest(s).length,l=!o&&!r;return l},_clean:function(){delete this._openOnFieldClickAction,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),this.callBase()},_setPopupOption:function(t,e){this._setWidgetOption("_popup",arguments)},_validatedOpening:function(){this.option("readOnly")||this._toggleOpenState(!0)},_getPopupToolbarItems:function(){return"useButtons"===this.option("applyValueMode")?this._popupToolbarItemsConfig():[]},_getFirstPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-done.dx-button")},_getLastPopupElement:function(){return this._popup.$wrapper().find(".dx-popup-cancel.dx-button")},_popupElementTabHandler:function(t){var e=(0,n.Z)(t.currentTarget);(t.shiftKey&&e.is(this._getFirstPopupElement())||!t.shiftKey&&e.is(this._getLastPopupElement()))&&(a.Z.trigger(this._input(),"focus"),t.preventDefault())},_popupElementEscHandler:function(){a.Z.trigger(this._input(),"focus"),this.close()},_popupButtonInitializedHandler:function(t){t.component.registerKeyHandler("tab",this._popupElementTabHandler.bind(this)),t.component.registerKeyHandler("escape",this._popupElementEscHandler.bind(this))},_popupToolbarItemsConfig:function(){var t=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText"),onInitialized:this._popupButtonInitializedHandler.bind(this)}}];return this._applyButtonsLocation(t)},_applyButtonsLocation:function(t){var e=this.option("buttonsLocation"),i=t;if("default"!==e){var n=(0,r.Um)(e);(0,h.S6)(i,(function(t,e){(0,d.l)(e,{toolbar:n[0],location:n[1]})}))}return i},_applyButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_cancelButtonHandler:function(){this.close(),this.option("focusStateEnabled")&&this.focus()},_popupOptionChanged:function(t){var e=I.Z.getOptionsFromContainer(t);this._setPopupOption(e);var i=Object.keys(e);-1===i.indexOf("width")&&-1===i.indexOf("height")||this._dimensionChanged()},_renderSubmitElement:function(){this.option("useHiddenSubmitElement")&&(this._$submitElement=(0,n.Z)("<input>").attr("type","hidden").appendTo(this.$element()))},_setSubmitValue:function(){this._getSubmitElement().val(this.option("value"))},_getSubmitElement:function(){return this.option("useHiddenSubmitElement")?this._$submitElement:this.callBase()},_dispose:function(){this._detachFocusOutEvents(),this.callBase()},_optionChanged:function(t){var e;switch(t.name){case"width":case"height":this.callBase(t),null===(e=this._popup)||void 0===e||e.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":(0,u.$K)(t.value)?this._renderField():this._invalidate();break;case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(t),this._options.cache("dropDownOptions",this.option("dropDownOptions"));break;case"popupPosition":break;case"deferRendering":(0,E.Ym)()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(t.value),this.callBase(t);break;default:this.callBase(t)}},open:function(){this.option("opened",!0)},close:function(){this.option("opened",!1)},field:function(){return(0,c.u)(this._input())},content:function(){return this._popup?this._popup.content():null}});(0,o.Z)("dxDropDownEditor",N);var W=N},8322:function(t,e,i){i.d(e,{T:function(){return o},m:function(){return s}});var n=i(8767),a=i(2632),s=function(t){if((0,a.Ym)())return(0,n.Y_)(t)},o=function(t){return null===t&&(t=void 0),"function"===typeof t&&(t=t()),t}},1289:function(t,e,i){i.r(e),i.d(e,{default:function(){return Xi}});var n=i(6885),a=i(555),s=i(337),o=i(1025),r=i(7814),l=i(8218),h=i(7226),u=i(9532),d=i(9598),c=i(3268),p=i(3908),_=i(417),m=i(7437),f=i(946),g=i(1085),v=i(1059),C=i(2632),y=i(5266);class b{constructor(){this._map={}}_findWidgetInstance(t){var e;return(0,d.S6)(this._map,(function(i,n){var{widgetInstance:a,item:s}=n;if(t(s))return e=a,!1})),e}_findFieldByCondition(t,e){var i;return(0,d.S6)(this._map,(function(n,a){if(t(a))return i="guid"===e?n:a[e],!1})),i}clear(){this._map={}}removeItemsByItems(t){(0,d.S6)(t.getItems(),(t=>this.removeItemByKey(t)))}removeItemByKey(t){delete this._map[t]}add(t){var e=t.guid||new r.Z;return this._map[e]=t,e}addItemsOrExtendFrom(t){t.each(((t,e)=>{this._map[t]?(e.widgetInstance&&(this._map[t].widgetInstance=e.widgetInstance),this._map[t].$itemContainer=e.$itemContainer):this.add({item:e.item,widgetInstance:e.widgetInstance,guid:t,$itemContainer:e.$itemContainer})}))}extendRunTimeItemInfoByKey(t,e){this._map[t]&&(this._map[t]=(0,p.l)(this._map[t],e))}findWidgetInstanceByItem(t){return this._findWidgetInstance((e=>e===t))}findGroupOrTabLayoutManagerByPath(t){return this._findFieldByCondition((e=>{var{path:i}=e;return i===t}),"layoutManager")}findKeyByPath(t){return this._findFieldByCondition((e=>{var{path:i}=e;return i===t}),"guid")}findWidgetInstanceByName(t){return this._findWidgetInstance((e=>t===e.name))}findWidgetInstanceByDataField(t){return this._findWidgetInstance((e=>t===((0,u.HD)(e)?e:e.dataField)))}findItemContainerByItem(t){for(var e in this._map)if(this._map[e].item===t)return this._map[e].$itemContainer;return null}findItemIndexByItem(t){return this._findFieldByCondition((e=>{var{item:i}=e;return i===t}),"itemIndex")}findPreparedItemByItem(t){return this._findFieldByCondition((e=>{var{item:i}=e;return i===t}),"preparedItem")}getItems(){return this._map}each(t){(0,d.S6)(this._map,(function(e,i){t(e,i)}))}removeItemsByPathStartWith(t){var e=Object.keys(this._map),i=e.filter((e=>!!this._map[e].path&&this._map[e].path.indexOf(t,0)>-1));i.forEach((t=>this.removeItemByKey(t)))}}var x=i(8767),I=i(4133),D=i(5395),w=i(170),S=i(4935),B=i(2070),T={move(t,e){(0,S.pB)(t,{left:e})}},V={moveTo(t,e,i,n){B.Z.animate(t,{type:"slide",to:{left:e},duration:i,complete:n})},complete(t){B.Z.stop(t,!0)}},E=i(3737),k=i(5038),O=i(9754),M=i(7566),Z="dx-multiview",A="dx-multiview-wrapper",F="dx-multiview-item-container",$="dx-multiview-item",R="dx-multiview-item-hidden",P="dxMultiViewItemData",L=200,H=t=>+t,N=t=>(0,S.jt)(t).left,W=k.Z.inherit({_activeStateUnit:"."+$,_supportedKeys:function(){return(0,p.l)(this.callBase(),{pageUp:l.ZT,pageDown:l.ZT})},_getDefaultOptions:function(){return(0,p.l)(this.callBase(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,_itemAttributes:{role:"tabpanel"},loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectionByClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===D.Z.real().deviceType&&!D.Z.isSimulator()},options:{focusStateEnabled:!0}}])},_itemClass:function(){return $},_itemDataKey:function(){return P},_itemContainer:function(){return this._$itemContainer},_itemElements:function(){return this._itemContainer().children(this._itemSelector())},_itemWidth:function(){return this._itemWidthValue||(this._itemWidthValue=(0,x.dz)(this._$wrapper)),this._itemWidthValue},_clearItemWidthCache:function(){delete this._itemWidthValue},_itemsCount:function(){return this.option("items").length},_normalizeIndex:function(t){var e=this._itemsCount();return t<0&&(t+=e),t>=e&&(t-=e),t},_getRTLSignCorrection:function(){return this.option("rtlEnabled")?-1:1},_init:function(){this.callBase.apply(this,arguments);var t=this.$element();t.addClass(Z),this._$wrapper=(0,a.Z)("<div>").addClass(A),this._$wrapper.appendTo(t),this._$itemContainer=(0,a.Z)("<div>").addClass(F),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._initSwipeable()},_initMarkup:function(){this._deferredItems=[],this.callBase();var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_afterItemElementDeleted:function(t,e){this.callBase(t,e),this._deferredItems&&this._deferredItems.splice(e.itemIndex,1)},_beforeItemElementInserted:function(t){this.callBase.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(t.index,0,null)},_executeItemRenderAction:function(t,e,i){t=(this.option("items")||[]).indexOf(e),this.callBase(t,e,i)},_renderItemContent:function(t){var e=new M.BH,i=this,n=this.callBase,a=new M.BH;return a.done((function(){var a=n.call(i,t);e.resolve(a)})),this._deferredItems[t.index]=a,this.option("deferRendering")||a.resolve(),e.promise()},_render:function(){this.callBase(),(0,l.g0)((()=>{var t=this._getSelectedItemIndices();this._updateItems(t[0])}))},_updateItems:function(t,e){this._updateItemsPosition(t,e),this._updateItemsVisibility(t,e)},_modifyByChanges:function(){this.callBase.apply(this,arguments);var t=this._getSelectedItemIndices();this._updateItemsVisibility(t[0])},_updateItemsPosition:function(t,e){var i=this._itemElements(),n=(0,u.$K)(e)?-this._animationDirection(e,t):void 0,a=i.eq(t);T.move(a,0),(0,u.$K)(e)&&T.move(i.eq(e),100*n+"%")},_updateItemsVisibility:function(t,e){var i=this._itemElements();i.each(function(i,n){var s=(0,a.Z)(n),o=i!==t&&i!==e;o||this._renderSpecificItem(i),s.toggleClass(R,o),this.setAria("hidden",o||void 0,s)}.bind(this))},_renderSpecificItem:function(t){var e=this._itemElements().eq(t),i=e.find(this._itemContentClass()).length>0;(0,u.$K)(t)&&!i&&(this._deferredItems[t].resolve(),(0,_.U_)(e))},_refreshItem:function(t,e){this.callBase(t,e),this._updateItemsVisibility(this.option("selectedIndex"))},_setAriaSelected:l.ZT,_updateSelection:function(t,e){var i=t[0],n=e[0];V.complete(this._$itemContainer),this._updateItems(n,i);var a=this._animationDirection(i,n);this._animateItemContainer(a*this._itemWidth(),function(){T.move(this._$itemContainer,0),this._updateItems(i),(0,x.dz)(this._$itemContainer)}.bind(this))},_animateItemContainer:function(t,e){var i=this.option("animationEnabled")?L:0;V.moveTo(this._$itemContainer,t,i,e)},_animationDirection:function(t,e){var i=N(this._$itemContainer),n=(e-t)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),a=0!==i,s=a?i:n;return(0,E.Xx)(s)},_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1},_initSwipeable(){this._createComponent(this.$element(),O.Z,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:t=>this._swipeStartHandler(t.event),onUpdated:t=>this._swipeUpdateHandler(t.event),onEnd:t=>this._swipeEndHandler(t.event)})},_swipeStartHandler:function(t){V.complete(this._$itemContainer);var e=this.option("selectedIndex"),i=this.option("loop"),n=this._itemsCount()-1,a=this.option("rtlEnabled");t.maxLeftOffset=H(i||(a?e>0:e<n)),t.maxRightOffset=H(i||(a?e<n:e>0)),this._swipeDirection=null},_swipeUpdateHandler:function(t){var e=t.offset,i=(0,E.Xx)(e)*this._getRTLSignCorrection();if(T.move(this._$itemContainer,e*this._itemWidth()),i!==this._swipeDirection){this._swipeDirection=i;var n=this.option("selectedIndex"),a=this._normalizeIndex(n-i);this._updateItems(n,a)}},_swipeEndHandler:function(t){var e=t.targetOffset*this._getRTLSignCorrection();if(e){this.option("selectedIndex",this._normalizeIndex(this.option("selectedIndex")-e));var i=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",(0,m.u)(i))}else this._animateItemContainer(0,l.ZT)},_getItemFocusLoopSignCorrection:function(){return this._itemFocusLooped?-1:1},_moveFocus:function(){this.callBase.apply(this,arguments),this._itemFocusLooped=!1},_prevItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.last()),e},_nextItem:function(t){var e=this.callBase.apply(this,arguments);return this._itemFocusLooped=e.is(t.first()),e},_dimensionChanged:function(){this._clearItemWidthCache()},_visibilityChanged:function(t){t&&this._dimensionChanged()},_updateSwipeDisabledState(){var t=this._getSwipeDisabledState();O.Z.getInstance(this.$element()).option("disabled",t)},_optionChanged:function(t){var e=t.value;switch(t.name){case"loop":this.option("loopItemFocus",e);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this.callBase(t);break;default:this.callBase(t)}}});(0,o.Z)("dxMultiView",W);var z=W,K=i(880),G=i(9299),q=i(1925),Y=i(459),U=i(492),j="dx-tabs-item-badge",Q="dx-badge",J=U.Z.inherit({_renderWatchers:function(){this.callBase(),this._startWatcher("badge",this._renderBadge.bind(this))},_renderBadge:function(t){if(this._$element.children("."+Q).remove(),t){var e=(0,a.Z)("<div>").addClass(j).addClass(Q).text(t);this._$element.append(e)}}}),X=J,tt="dx-tabs-expanded",et=i(9868),it=i(4286),nt=i(2969),at=i(732),st=i(1599);function ot(t){return t.scrollWidth-t.clientWidth}i(821);function rt(t,e){return Math.round(t)<=e}function lt(t,e,i){return Math.round(ot(t)-e)<=i}var ht="dx-tabs",ut="dx-tabs-wrapper",dt="dx-tabs-stretched",ct="dx-tabs-scrollable",pt="dx-tabs-nav-buttons",_t="dx-overflow-hidden",mt="dx-tab",ft="dx-tab-selected",gt="dx-tabs-nav-button",vt="dx-tabs-nav-button-left",Ct="dx-tabs-nav-button-right",yt="dx-tab-text",bt="dxTabData",xt="chevronnext",It="chevronprev",Dt=100,wt=5,St=300,Bt=30,Tt=k.Z.inherit({_activeStateUnit:"."+mt,_getDefaultOptions:function(){return(0,p.l)(this.callBase(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:function(t){return t?t.badge:void 0},_itemAttributes:{role:"tab"}})},_defaultOptionsRules:function(){var t=(0,et.Vk)();return this.callBase().concat([{device:function(){return"desktop"!==D.Z.real().deviceType},options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:function(){return"desktop"===D.Z.real().deviceType&&!D.Z.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return(0,et.x2)(t)},options:{useInkRipple:!0,selectOnFocus:!1}}])},_init:function(){this.callBase(),this.setAria("role","tablist"),this.$element().addClass(ht),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=Dt},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new st.c(function(t,e){(0,u.PO)(e)?this._prepareDefaultItemTemplate(e,t):t.text(String(e));var i=(0,at.H)(e.icon);i&&i.prependTo(t),t.wrapInner((0,a.Z)("<span>").addClass(yt))}.bind(this),["text","html","icon"],this.option("integrationOptions.watchMethod"))})},_createItemByTemplate:function(t,e){var{itemData:i,container:n,index:a}=e;return this._deferredTemplates[a]=new M.BH,t.render({model:i,container:n,index:a,onRendered:()=>this._deferredTemplates[a].resolve()})},_itemClass:function(){return mt},_selectedItemClass:function(){return ft},_itemDataKey:function(){return bt},_initMarkup:function(){this._deferredTemplates=[],this.callBase(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass(_t)},_render:function(){this.callBase(),this._deferRenderScrolling()},_deferRenderScrolling(){M.gx.apply(this,this._deferredTemplates).done((()=>this._renderScrolling()))},_renderScrolling:function(){var t=[dt,tt,_t];if(this.$element().removeClass(t.join(" ")),this.option("scrollingEnabled")&&this._isItemsWidthExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());var e=this.getScrollable();if(e.update(),this.option("rtlEnabled")){var i=ot((0,a.Z)(this.getScrollable().container()).get(0));e.scrollTo({left:i})}this._updateNavButtonsVisibility(),this._scrollToItem(this.option("selectedItem"))}this.option("scrollingEnabled")&&this._isItemsWidthExceeded()||(this._cleanScrolling(),this._needStretchItems()&&!this._isItemsWidthExceeded()&&this.$element().addClass(dt),this.$element().removeClass(pt).addClass(tt))},_isItemsWidthExceeded:function(){var t=this._getSummaryItemsWidth(this._getVisibleItems(),!0);return t-1>(0,x.dz)(this.$element())},_needStretchItems:function(){var t=this._getVisibleItems(),e=(0,x.dz)(this.$element()),i=[];(0,d.S6)(t,((t,e)=>{i.push((0,x.Y_)(e,!0))}));var n=Math.max.apply(null,i);return n>e/t.length},_cleanNavButtons:function(){this._leftButton&&this._rightButton&&(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)},_cleanScrolling:function(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())},_renderInkRipple:function(){this._inkRipple=(0,G.sY)()},_toggleActiveState:function(t,e,i){if(this.callBase.apply(this,arguments),this._inkRipple){var n={element:t,event:i};e?this._inkRipple.showWave(n):this._inkRipple.hideWave(n)}},_renderMultiple:function(){"multiple"===this.option("selectionMode")&&this.option("selectOnFocus",!1)},_renderWrapper:function(){this._$wrapper=(0,a.Z)("<div>").addClass(ut),this.$element().append(this._$wrapper)},_itemContainer:function(){return this._$wrapper},_renderScrollable:function(){var t=this.$element().wrapInner((0,a.Z)("<div>").addClass(ct)).children();this._scrollable=this._createComponent(t,nt.Z,{direction:"horizontal",showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsVisibility()}}),this.$element().append(this._scrollable.$element())},_scrollToItem:function(t){if(this._scrollable){var e=this._editStrategy.getItemElement(t);this._scrollable.scrollToElement(e)}},_renderNavButtons:function(){if(this.$element().toggleClass(pt,this.option("showNavButtons")),this.option("showNavButtons")){var t=this.option("rtlEnabled");this._leftButton=this._createNavButton(-Bt,t?xt:It);var e=this._leftButton.$element();e.addClass(vt),this.$element().prepend(e),this._rightButton=this._createNavButton(Bt,t?It:xt);var i=this._rightButton.$element();i.addClass(Ct),this.$element().append(i)}},_updateNavButtonsVisibility:function(){var t=this.getScrollable();this._leftButton&&this._leftButton.option("disabled",rt(t.scrollLeft(),1)),this._rightButton&&this._rightButton.option("disabled",lt((0,a.Z)(t.container()).get(0),t.scrollLeft(),1))},_updateScrollPosition:function(t,e){this._scrollable.update(),this._scrollable.scrollBy(t/e)},_createNavButton:function(t,e){var i=this,n=i._createAction((function(){i._holdInterval=setInterval((function(){i._updateScrollPosition(t,wt)}),wt)})),o=(0,q.V4)(it.Z.name,"dxNavButton"),r=(0,q.V4)(Y.Z.up,"dxNavButton"),l=(0,q.V4)(Y.Z.out,"dxNavButton"),h=this._createComponent((0,a.Z)("<div>").addClass(gt),K["default"],{focusStateEnabled:!1,icon:e,onClick:function(){i._updateScrollPosition(t,1)},integrationOptions:{}}),u=h.$element();return s.Z.on(u,o,{timeout:St},function(t){n({event:t})}.bind(this)),s.Z.on(u,r,(function(){i._clearInterval()})),s.Z.on(u,l,(function(){i._clearInterval()})),h},_clearInterval:function(){this._holdInterval&&clearInterval(this._holdInterval)},_updateSelection:function(t){this._scrollable&&this._scrollable.scrollToElement(this.itemElements().eq(t[0]),{left:1,right:1})},_visibilityChanged:function(t){t&&this._dimensionChanged()},_dimensionChanged:function(){this._renderScrolling()},_itemSelectHandler:function(t){"single"===this.option("selectionMode")&&this.isItemSelected(t.currentTarget)||this.callBase(t)},_clean:function(){this._deferredTemplates=[],this._cleanScrolling(),this.callBase()},_optionChanged:function(t){switch(t.name){case"useInkRipple":case"scrollingEnabled":case"showNavButtons":this._invalidate();break;case"scrollByContent":this._scrollable&&this._scrollable.option(t.name,t.value);break;case"width":this.callBase(t),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),this.callBase(t);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_afterItemElementInserted(){this.callBase(),this._deferRenderScrolling()},_afterItemElementDeleted(t,e){this.callBase(t,e),this._renderScrolling()},getScrollable(){return this._scrollable}});Tt.ItemClass=X,(0,o.Z)("dxTabs",Tt);var Vt=Tt;class Et extends U.Z{_renderWatchers(){return this._startWatcher("badge",l.ZT),super._renderWatchers()}}var kt="dx-tabpanel",Ot="dx-tabpanel-tabs",Mt="dx-tabpanel-container",Zt="dx-tab-text",At=z.inherit({_getDefaultOptions:function(){return(0,p.l)(this.callBase(),{itemTitleTemplate:"title",hoverStateEnabled:!0,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:function(t){return t?t.badge:void 0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===D.Z.real().deviceType&&!D.Z.isSimulator()},options:{focusStateEnabled:!0}},{device:function(){return!I.touch},options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}}])},_init:function(){this.callBase(),this.$element().addClass(kt),this.setAria("role","tabpanel")},_initMarkup:function(){this.callBase(),this._createTitleActions(),this._renderLayout()},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({title:new st.c((function(t,e){if((0,u.PO)(e)){var i=(0,at.H)(e.icon);i&&t.append(i),(0,u.$K)(e.title)&&!(0,u.PO)(e.title)&&t.append(w["default"].createTextNode(e.title))}else(0,u.$K)(e)&&t.text(String(e));t.wrapInner((0,a.Z)("<span>").addClass(Zt))}),["title","icon"],this.option("integrationOptions.watchMethod"))})},_createTitleActions:function(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()},_createTitleClickAction:function(){this._titleClickAction=this._createActionByOption("onTitleClick")},_createTitleHoldAction:function(){this._titleHoldAction=this._createActionByOption("onTitleHold")},_createTitleRenderedAction:function(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")},_renderContent:function(){var t=this;this.callBase(),this.option("templatesRenderAsynchronously")&&(this._resizeEventTimer=setTimeout((function(){t._updateLayout()}),0))},_renderLayout:function(){if(this._tabs)this._updateLayout();else{var t=this.$element();this._$tabContainer=(0,a.Z)("<div>").addClass(Ot).appendTo(t);var e=(0,a.Z)("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(e,Vt,this._tabConfig()),this._$container=(0,a.Z)("<div>").addClass(Mt).appendTo(t),this._$container.append(this._$wrapper),this._updateLayout()}},_updateLayout:function(){if((0,C.Ym)()){var t=(0,x.zp)(this._$tabContainer);this._$container.css({marginTop:-t,paddingTop:t})}},_refreshActiveDescendant:function(){if(this._tabs){var t=this._tabs,e=t.itemElements(),i=(0,a.Z)(e[t.option("selectedIndex")]),n=this.getFocusedItemId();this.setAria("controls",void 0,(0,a.Z)(e)),this.setAria("controls",n,i)}},_tabConfig:function(){return{selectOnFocus:!0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),repaintChangesOnly:this.option("repaintChangesOnly"),tabIndex:this.option("tabIndex"),selectedIndex:this.option("selectedIndex"),badgeExpr:this.option("badgeExpr"),onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:this.option("itemHoldTimeout"),onSelectionChanged:function(t){this.option("selectedIndex",t.component.option("selectedIndex")),this._refreshActiveDescendant()}.bind(this),onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:this.option("items"),noDataText:null,scrollingEnabled:this.option("scrollingEnabled"),scrollByContent:this.option("scrollByContent"),showNavButtons:this.option("showNavButtons"),itemTemplateProperty:"tabTemplate",loopItemFocus:this.option("loop"),selectionRequired:!0,onOptionChanged:function(t){if("focusedElement"===t.name)if(t.value){var e=(0,a.Z)(t.value),i=this._itemElements().eq(e.index());this.option("focusedElement",(0,m.u)(i))}else this.option("focusedElement",t.value)}.bind(this),onFocusIn:function(t){this._focusInHandler(t.event)}.bind(this),onFocusOut:function(t){this._isFocusOutHandlerExecuting||this._focusOutHandler(t.event)}.bind(this)}},_renderFocusTarget:function(){this._focusTarget().attr("tabIndex",-1)},_updateFocusState:function(t,e){this.callBase(t,e),t.target===this._tabs._focusTarget().get(0)&&this._toggleFocusClass(e,this._focusTarget())},_focusOutHandler:function(t){this._isFocusOutHandlerExecuting=!0,this.callBase.apply(this,arguments),this._tabs._focusOutHandler(t),this._isFocusOutHandlerExecuting=!1},_setTabsOption:function(t,e){this._tabs&&this._tabs.option(t,e)},_visibilityChanged:function(t){t&&(this._tabs._dimensionChanged(),this._updateLayout())},registerKeyHandler:function(t,e){this.callBase(t,e),this._tabs&&this._tabs.registerKeyHandler(t,e)},repaint:function(){this.callBase(),this._tabs.repaint()},_optionChanged:function(t){var e=t.name,i=t.value,n=t.fullName;switch(e){case"dataSource":this.callBase(t);break;case"items":this._setTabsOption(e,this.option(e)),this._updateLayout(),this.option("repaintChangesOnly")||this._tabs.repaint(),this.callBase(t);break;case"width":this.callBase(t),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":if(this._setTabsOption(n,i),this.callBase(t),!0===this.option("focusStateEnabled")){var s=this.option("selectedIndex"),o=this._itemElements().eq(s);this.option("focusedElement",(0,m.u)(o))}break;case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(n,i),this.callBase(t);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(n,i);break;case"focusedElement":var r=i?(0,a.Z)(i).index():i,l=i?this._tabs._itemElements().eq(r):i;this._setTabsOption("focusedElement",(0,m.u)(l)),this.callBase(t);break;case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",i);break;case"badgeExpr":this._invalidate();break;default:this.callBase(t)}},_clean:function(){clearTimeout(this._resizeEventTimer),this.callBase()}});At.ItemClass=Et,(0,o.Z)("dxTabPanel",At);var Ft=At,$t=i(1177);class Rt{constructor(t){this._options=t,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){$t.Z.abstract()}}var Pt=i(1229),Lt=(t,e)=>"".concat(e?"tabs":"items","[").concat(t,"]"),Ht=(t,e)=>(0,u.$K)(t)&&(0,u.$K)(e)?"".concat(t,".").concat(e):t||e,Nt=t=>t?t.replace(/\s/g,""):void 0,Wt=(t,e)=>!!t&&(t.dataField===e||t.name===e||Nt(t.title)===e||"group"===t.itemType&&Nt(t.caption)===e),zt=(t,e)=>"".concat(t,".").concat(e),Kt=t=>{var e=t.split(".");return e[e.length-1].replace(/\[\d+]/,"")},Gt=t=>{for(var e=t.split("."),i=[...e],n=e.length-1;n>=0;n--){if(qt(e[n]))return i.join(".");i.splice(n,1)}return""},qt=t=>t.indexOf("tabs")>-1,Yt=(t,e,i)=>{var n=t.indexOf(e);if(n>-1)return Lt(n,i);for(var a=0;a<t.length;a++){var s=t[a],o=s.tabs||s.items;if(o){var r=Yt(o,e,s.tabs);if(r)return Ht(Lt(a,i),r)}}};function Ut(t){var{form:e,$formElement:i,formOptions:n,items:a,validationGroup:s,extendedLayoutManagerOptions:o,onFieldDataChanged:r,onContentReady:l,onDisposing:h,onFieldItemRendered:u}=t,d={form:e,items:a,$formElement:i,validationGroup:s,onFieldDataChanged:r,onContentReady:l,onDisposing:h,onFieldItemRendered:u,validationBoundary:n.scrollingEnabled?i:void 0,scrollingEnabled:n.scrollingEnabled,showRequiredMark:n.showRequiredMark,showOptionalMark:n.showOptionalMark,requiredMark:n.requiredMark,optionalMark:n.optionalMark,requiredMessage:n.requiredMessage,screenByWidth:n.screenByWidth,layoutData:n.formData,labelLocation:n.labelLocation,customizeItem:n.customizeItem,minColWidth:n.minColWidth,showColonAfterLabel:n.showColonAfterLabel,onEditorEnterKey:n.onEditorEnterKey,labelMode:n.labelMode},c=(0,p.l)(d,{isRoot:o.isRoot,colCount:o.colCount,alignItemLabels:o.alignItemLabels,cssItemClass:o.cssItemClass,colCountByScreen:o.colCountByScreen,onLayoutChanged:o.onLayoutChanged,width:o.width});return c}class jt extends Rt{tryExecute(){var{value:t}=this._options,e=this.findInstance();return!!e&&(e.option(t),!0)}}class Qt extends Rt{tryExecute(){var t=this.findInstance();if(t){var{optionName:e,item:i,value:n}=this._options,a=this._itemsRunTimeInfo.findItemIndexByItem(i);if(a>=0)return t.option(zt("items[".concat(a,"]"),e),n),!0}return!1}}class Jt extends Rt{tryExecute(){var t=this.findPreparedItem();return!(null==t||!t._prepareGroupItemTemplate||!t._renderGroupContentTemplate)&&(t._prepareGroupItemTemplate(this._options.item.template),t._renderGroupContentTemplate(),!0)}}class Xt extends Rt{tryExecute(){var t=this.findInstance();if(t){var{value:e}=this._options;return t.option("dataSource",e),!0}return!1}}class te extends Rt{tryExecute(){var{item:t}=this._options,e=this.findInstance(),i=e&&(0,Pt.aT)(e.$element()[0],"dxValidator");if(i&&t){var n=t=>"required"===t.type,a=(i.option("validationRules")||[]).some(n),s=(t.validationRules||[]).some(n);if(!a&&!s||a&&s)return i.option("validationRules",t.validationRules),!0}return!1}}class ee extends Rt{tryExecute(){var t=this.findItemContainer(),{previousValue:e,value:i}=this._options;return!!t&&(t.removeClass(e).addClass(i),!0)}}var ie=(t,e)=>{var i;switch(t){case"editorOptions":case"buttonOptions":return new jt(e);case"validationRules":return new te(e);case"cssClass":return new ee(e);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new Qt((0,p.l)(e,{optionName:t}));case"tabs":return new Xt(e);case"template":return"group"===(null===(i=e.item)||void 0===i?void 0:i.itemType)?new Jt(e):new Qt((0,p.l)(e,{optionName:t}));default:return null}},ne=ie,ae=i(3959),se=i(943),oe=i(6930),re=i(928),le=i(1923),he=i(5361),ue=i(4212),de=(0,C.Jj)(),ce="dx-responsivebox",pe=ce+"-screen-",_e="dx-box-item",me="dxBoxItemData",fe=1920,ge=ue.Z.inherit({_getDefaultOptions:function(){return(0,p.l)(this.callBase(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,onLayoutChanged:null,currentScreenFactor:void 0,_layoutStrategy:void 0})},_init:function(){this.option("screenByWidth")||this._options.silent("screenByWidth",C.$n),this.callBase(),this._initLayoutChangedAction()},_initLayoutChangedAction:function(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readonly"]})},_itemClass:function(){return _e},_itemDataKey:function(){return me},_initMarkup:function(){this.callBase(),this.$element().addClass(ce),this._updateRootBox()},_updateRootBox:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout(function(){this._$root&&s.Z.triggerHandler(this._$root,"dxupdate")}.bind(this))},_renderItems:function(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()},_itemOptionChanged:function(t){var e=this._findItemElementByItem(t);e.length&&(this._refreshItem(e,t),this._clearItemNodeTemplates(),this._update(!0))},_setScreenSize:function(){var t=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(pe+t),this.option("currentScreenFactor",t)},_removeScreenSizeClass:function(){var t=this.option("currentScreenFactor");t&&this.$element().removeClass(pe+t)},_prepareGrid:function(){var t=this._grid=[];this._prepareRowsAndCols(),(0,d.S6)(this._rows,function(){var e=[];t.push(e),(0,d.S6)(this._cols,function(){e.push(this._createEmptyCell())}.bind(this))}.bind(this))},getSingleColumnRows:function(){var t=this.option("rows"),e=this._screenItems.length;if(t.length){for(var i=this._filterByScreen(t),n=[],a=0;a<e;a++){var s=this._defaultSizeConfig();a<i.length&&(0,u.$K)(i[a].shrink)&&(s.shrink=i[a].shrink),n.push(s)}return n}return this._defaultSizeConfig(e)},_prepareRowsAndCols:function(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))},_isSingleColumnScreen:function(){return this._screenRegExp().test(this.option("singleColumnScreen"))||!this.option("rows").length||!this.option("cols").length},_prepareSingleColumnScreenItems:function(){this._screenItems.sort((function(t,e){return t.location.row-e.location.row||t.location.col-e.location.col})),(0,d.S6)(this._screenItems,(function(t,e){(0,p.l)(e.location,{row:t,col:0,rowspan:1,colspan:1})}))},_sizesByScreen:function(t){return(0,d.UI)(this._filterByScreen(t),function(t){return(0,p.l)(this._defaultSizeConfig(),t)}.bind(this))},_createDefaultSizeConfig:function(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}},_defaultSizeConfig:function(t){var e=this._createDefaultSizeConfig();if(!arguments.length)return e;for(var i=[],n=0;n<t;n++)i.push(e);return i},_filterByScreen:function(t){var e=this._screenRegExp();return(0,l.h3)(t,(function(t){return!t.screen||e.test(t.screen)}))},_screenRegExp:function(){var t=this._getCurrentScreen();return new RegExp("(^|\\s)"+t+"($|\\s)","i")},_getCurrentScreen:function(){var t=this._screenWidth();return this.option("screenByWidth")(t)},_screenWidth:function(){return(0,C.Ym)()?(0,x.dz)(de):fe},_createEmptyCell:function(){return{item:{},location:{colspan:1,rowspan:1}}},_spreadItems:function(){(0,d.S6)(this._screenItems,function(t,e){var i=e.location||{},n=i.col,a=i.row,s=this._grid[a],o=s&&s[n];this._occupyCells(o,e)}.bind(this))},_itemsByScreen:function(){return this.option("items").reduce(((t,e)=>{var i=e.location||{};return i=(0,u.PO)(i)?[i]:i,this._filterByScreen(i).forEach((i=>{t.push({item:e,location:(0,p.l)({rowspan:1,colspan:1},i)})})),t}),[])},_occupyCells:function(t,e){t&&!this._isItemCellOccupied(t,e)&&((0,p.l)(t,e),this._markSpanningCell(t))},_isItemCellOccupied:function(t,e){if(!(0,u.Qr)(t.item))return!0;var i=!1;return this._loopOverSpanning(e.location,(function(t){i=i||!(0,u.Qr)(t.item)})),i},_loopOverSpanning:function(t,e){var i=t.row+t.rowspan-1,n=t.col+t.colspan-1,a=Math.min(i,this._rows.length-1),s=Math.min(n,this._cols.length-1);t.rowspan-=i-a,t.colspan-=n-s;for(var o=t.row;o<=a;o++)for(var r=t.col;r<=s;r++)o===t.row&&r===t.col||e(this._grid[o][r])},_markSpanningCell:function(t){this._loopOverSpanning(t.location,(function(e){(0,p.l)(e,{item:t.item,spanningCell:t})}))},_linkNodeToItem:function(){(0,d.S6)(this._itemElements(),(function(t,e){var i=(0,a.Z)(e),n=i.data(me);n.box||(n.node=i.children())}))},_layoutItems:function(){var t=this._grid.length,e=t&&this._grid[0].length;if(t||e){var i=this._layoutBlock({direction:"col",row:{start:0,end:t-1},col:{start:0,end:e-1}}),n=this._prepareBoxConfig(i.box||{direction:"row",items:[(0,p.l)(i,{ratio:1})]});(0,p.l)(n,this._rootBoxConfig(n.items)),this._$root=(0,a.Z)("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,he.Z,n)}},_rootBoxConfig:function(t){var e=(0,d.S6)(t,function(t,e){this._needApplyAutoBaseSize(e)&&(0,p.l)(e,{baseSize:"auto"})}.bind(this));return(0,p.l)({width:"100%",height:"100%",items:e,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")},{_layoutStrategy:this.option("_layoutStrategy")})},_needApplyAutoBaseSize:function(t){return!t.baseSize&&(!t.minSize||"auto"===t.minSize)&&(!t.maxSize||"auto"===t.maxSize)},_prepareBoxConfig:function(t){return(0,p.l)(t||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})},_layoutBlock:function(t){return this._isSingleItem(t)?this._itemByCell(t.row.start,t.col.start):this._layoutDirection(t)},_isSingleItem:function(t){var e=this._grid[t.row.start][t.col.start].location,i=t.row.end-t.row.start===e.rowspan-1,n=t.col.end-t.col.start===e.colspan-1;return i&&n},_itemByCell:function(t,e){var i=this._grid[t][e];return i.spanningCell?null:i.item},_layoutDirection:function(t){var e,i=[],n=t.direction,a=this._crossDirection(n);while(e=this._nextBlock(t)){if(this._isBlockIndivisible(t.prevBlockOptions,e))throw le.Z.Error("E1025");var s=this._layoutBlock({direction:a,row:e.row,col:e.col,prevBlockOptions:t});s&&((0,p.l)(s,this._blockSize(e,a)),i.push(s)),t[a].start=e[a].end+1}return{box:this._prepareBoxConfig({direction:n,items:i})}},_isBlockIndivisible:function(t,e){return t&&t.col.start===e.col.start&&t.col.end===e.col.end&&t.row.start===e.row.start&&t.row.end===e.row.end},_crossDirection:function(t){return"col"===t?"row":"col"},_nextBlock:function(t){var e=t.direction,i=this._crossDirection(e),n=t[e].start,a=t[e].end,s=t[i].start;if(s>t[i].end)return null;for(var o=1,r=s;r<s+o;r++){for(var l=1,h=n;h<=a;h++){var u=this._cellByDirection(e,h,r);l=Math.max(l,u.location[i+"span"])}var d=r+l,c=s+o;d>c&&(o+=d-c)}var p={};return p[e]={start:n,end:a},p[i]={start:s,end:s+o-1},p},_cellByDirection:function(t,e,i){return"col"===t?this._grid[i][e]:this._grid[e][i]},_blockSize:function(t,e){for(var i="row"===e?"auto":0,n="row"===e?this._rows:this._cols,a=(0,p.l)(this._createDefaultSizeConfig(),{ratio:0}),s=t[e].start;s<=t[e].end;s++){var o=n[s];a.ratio+=o.ratio,a.baseSize+=o.baseSize,a.minSize+=o.minSize,a.maxSize+=o.maxSize,(0,u.$K)(o.shrink)&&(a.shrink=o.shrink)}return a.minSize=a.minSize?a.minSize:i,a.maxSize=a.maxSize?a.maxSize:"auto",this._isSingleColumnScreen()&&(a.baseSize="auto"),a},_update:function(t){var e=this._$root;this._renderItems(),e&&(t?e.remove():(e.detach(),this._saveAssistantRoot(e))),this._layoutChangedAction(),this._updateRootBox()},_saveAssistantRoot:function(t){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(t)},_dispose:function(){clearTimeout(this._updateTimer),this._clearItemNodeTemplates(),this._cleanUnusedRoots(),this.callBase.apply(this,arguments)},_cleanUnusedRoots:function(){this._assistantRoots&&(0,d.S6)(this._assistantRoots,(function(t,e){(0,a.Z)(e).remove()}))},_clearItemNodeTemplates:function(){(0,d.S6)(this.option("items"),(function(){delete this.node}))},_toggleVisibility:function(t){this.callBase(t),t&&this._updateRootBox()},_attachClickEvent:l.ZT,_optionChanged:function(t){switch(t.name){case"rows":case"cols":case"screenByWidth":case"_layoutStrategy":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":this.callBase(t),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),this.callBase(t);break;case"currentScreenFactor":break;default:this.callBase(t)}},_dimensionChanged:function(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()},repaint:function(){this._update()}});(0,o.Z)("dxResponsiveBox",ge);var ve=ge,Ce="dx-widget",ye="dx-form",be="dx-form-group",xe="dx-form-group-caption",Ie="dx-col-",De="dx-field-item",we="dx-layout-manager-one-col",Se="dx-field-item-label-content",Be="dx-layout-manager",Te="dx-field-item-label",Ve="dx-field-item-content",Ee="dx-single-column-item-content",ke="dx-root-simple-item",Oe="dx-form-group-content",Me="dx-field-item-has-group",Ze="dx-field-item-has-tabs",Ae="dx-form-group-with-caption",Fe="dx-field-item-tab",$e="dx-group-colcount-",Re="group-col-count",Pe="dx-form-validation-summary",Le="dx-form-styling-mode-underlined",He="simple",Ne=(i(8791),i(596),i(7180),i(6254),i(4872)),We=i(2195),ze=i(6412),Ke=i(7053),Ge=i(8980),qe=["dxTagBox","dxRangeSlider"],Ye=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"];function Ue(t){var{$parent:e,rootElementCssClassList:i,formOrLayoutManager:n,createComponentCallback:a,useFlexLayout:s,item:o,template:l,name:h,formLabelLocation:d,requiredMessageTemplate:p,validationGroup:_,editorValue:m,canAssignUndefinedValueToEditor:f,editorValidationBoundary:g,editorStylingMode:v,showColonAfterLabel:C,managerLabelLocation:y,itemId:b,managerMarkOptions:x,labelMode:I}=t,D=(0,u.$K)(o.isRequired)?o.isRequired:!!Xe(o.validationRules),w=o.itemType===He,S=o.helpText?"dx-"+new r.Z:null,B=ti({item:o,id:b,isRequired:D,managerMarkOptions:x,showColonAfterLabel:C,labelLocation:y,formLabelMode:I}),T=B.visible&&B.text,{location:V,labelID:E}=B,k="top"!==V&&(!!o.helpText&&!s||-1!==(0,c.d3)(o.editorType,["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"])),O=Je({editorType:o.editorType,editorValue:m,defaultEditorName:o.dataField,canAssignUndefinedValueToEditor:f,externalEditorOptions:o.editorOptions,editorInputId:b,editorValidationBoundary:g,editorStylingMode:v,formLabelMode:I,labelText:B.textWithoutColon,labelMark:B.markOptions.showRequiredMark?String.fromCharCode(160)+B.markOptions.requiredMark:""}),M=B.markOptions.showOptionalMark&&!B.visible&&"hidden"!==O.labelMode&&!(0,u.$K)(o.helpText),Z=M?B.markOptions.optionalMark:o.helpText;return{$parent:e,rootElementCssClassList:i,formOrLayoutManager:n,createComponentCallback:a,useFlexLayout:s,labelOptions:B,labelNeedBaselineAlign:k,labelLocation:V,needRenderLabel:T,item:o,isSimpleItem:w,isRequired:D,template:l,helpID:S,labelID:E,name:h,helpText:Z,formLabelLocation:d,requiredMessageTemplate:p,validationGroup:_,editorOptions:O}}function je(t){var{showRequiredMark:e,requiredMark:i,showOptionalMark:n,optionalMark:a}=t;return e||n?String.fromCharCode(160)+(e?i:a):""}function Qe(t,e){var{showRequiredMark:i,requiredMark:n,showOptionalMark:a,optionalMark:s}=t;return{showRequiredMark:i&&e,requiredMark:n,showOptionalMark:a&&!e,optionalMark:s}}function Je(t){var{editorType:e,defaultEditorName:i,editorValue:n,canAssignUndefinedValueToEditor:a,externalEditorOptions:s,editorInputId:o,editorValidationBoundary:r,editorStylingMode:l,formLabelMode:h,labelText:d,labelMark:c}=t,_={};(void 0!==n||a)&&(_.value=n),-1!==qe.indexOf(e)&&(_.value=_.value||[]);var m=null===s||void 0===s?void 0:s.labelMode;(0,u.$K)(m)||(m="outside"===h?"hidden":h);var f=(null===s||void 0===s?void 0:s.stylingMode)||l,g=(0,p.l)(!0,_,s,{inputAttr:{id:o},validationBoundary:r,stylingMode:f,label:d,labelMode:m,labelMark:c});return s&&(g.dataSource&&(g.dataSource=s.dataSource),g.items&&(g.items=s.items)),i&&!g.name&&(g.name=i),g}function Xe(t){var e;return t&&t.length&&(0,d.S6)(t,(function(t,i){if("required"===i.type)return e=!0,!1})),e}function ti(t){var{item:e,id:i,isRequired:n,managerMarkOptions:a,showColonAfterLabel:s,labelLocation:o,formLabelMode:l}=t,h=-1!==(0,c.d3)(e.editorType,Ye),u=(0,p.l)({showColon:s,location:o,id:i,visible:"outside"===l||h&&"hidden"!==l,isRequired:n},e?e.label:{},{markOptions:Qe(a,n)});return-1!==(0,c.d3)(e.editorType,["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor"])&&(u.labelID="dx-label-".concat(new r.Z)),!u.text&&e.dataField&&(u.text=(0,We.GK)(e.dataField)),u.text&&(u.textWithoutColon=u.text,u.text+=u.showColon?":":""),u}var ei=["$FIELD_ITEM_LABEL_CONTENT_CLASS"],ii="dx-layout-manager-hidden-label",ni="dx-field-item-required-mark",ai="dx-field-item-label-location-",si="dx-field-item-optional-mark",oi="dx-field-item-label-text";function ri(t){var{text:e,id:i,location:n,alignment:s,labelID:o=null,markOptions:r={}}=t;return!(0,u.$K)(e)||e.length<=0?null:(0,a.Z)("<label>").addClass(Te+" "+ai+n).attr("for",i).attr("id",o).css("textAlign",s).append((0,a.Z)("<span>").addClass(Se).append((0,a.Z)("<span>").addClass(oi).text(e),li(r)))}function li(t){var e=je(t);return""===e?null:(0,a.Z)("<span>").addClass(t.showRequiredMark?ni:si).text(e)}function hi(t,e,i){var n,a,s="".concat(e," > .").concat(Te,":not(.").concat(ai,"top) > .").concat(Se),o=t.find(s),r=o.length,l=0;for(a=0;a<r;a++)n=ui({$FIELD_ITEM_LABEL_CONTENT_CLASS:o[a],location:"left",markOptions:i}),n>l&&(l=n);for(a=0;a<r;a++)o[a].style.width=l+"px"}function ui(t){var{$FIELD_ITEM_LABEL_CONTENT_CLASS:e}=t,i=(0,Ge.Z)(t,ei),n=(0,a.Z)("<div>").addClass(Ce).addClass(ii).appendTo("body");i.text=" ";var s=ri(i).appendTo(n),o=s.find("."+oi)[0];o.innerHTML=di(e);var r=o.offsetWidth;return n.remove(),r}function di(t){var e,i,n=t.children.length,a="";for(i=0;i<n;i++)e=t.children[i],a+=(0,ze.xb)(e.innerText)?e.innerHTML:e.innerText;return a}var ci="dx-flex-layout",pi="dx-field-item-optional",_i="dx-field-item-required",mi="dx-field-item-content-wrapper",fi="dx-field-item-content-location-",gi="dx-field-item-label-align",vi="dx-field-item-help-text",Ci="dx-label-v-align",yi="dx-label-h-align",bi="dx-template-wrapper",xi="dx-invalid";function Ii(t){var{$parent:e,rootElementCssClassList:i,formOrLayoutManager:n,createComponentCallback:o,useFlexLayout:r,labelOptions:l,labelNeedBaselineAlign:h,labelLocation:u,needRenderLabel:d,formLabelLocation:c,item:p,editorOptions:_,isSimpleItem:f,isRequired:g,template:v,helpID:C,labelID:y,name:b,helpText:x,requiredMessageTemplate:I,validationGroup:D}=t,w=(0,a.Z)("<div>").addClass(i.join(" ")).appendTo(e);w.addClass(g?_i:pi),f&&r&&w.addClass(ci),f&&h&&w.addClass(gi);var S=(0,a.Z)("<div>");S.data("dx-form-item",p),S.addClass(Ve).addClass(fi+{right:"left",left:"right",top:"bottom"}[c]);var B,T=d?ri(l):null;if(T?(w.append(T),"top"!==u&&"left"!==u||w.append(S),"right"===u&&w.prepend(S),"top"===u?w.addClass(Ci):w.addClass(yi),"dxCheckBox"!==p.editorType&&"dxSwitch"!==p.editorType||s.Z.on(T,Ne.u,(function(){s.Z.trigger(S.children(),Ne.u)}))):w.append(S),v)v.render({container:(0,m.u)(S),model:{dataField:p.dataField,editorType:p.editorType,editorOptions:_,component:n,name:p.name}});else{var V=(0,a.Z)("<div>").appendTo(S);try{B=o(V,p.editorType,_),B.setAria("describedby",C),y&&B.setAria("labelledby",y),B.setAria("required",g)}catch(H){le.Z.log("E1035",H.message)}}var E=S.children().first(),k=E.hasClass(bi)?E.children().first():E,O=k&&k.data("dx-validation-target");if(O){var M,Z=p.label&&p.label.text,A=Z?null:b,F=Z?p.label.text:A&&(0,We.GK)(A);if(f)if(p.validationRules)M=p.validationRules;else{var $=(0,ze.WU)(I,F||"");M=p.isRequired?[{type:"required",message:$}]:null}if(Array.isArray(M)&&M.length&&o(k,Ke.Z,{validationRules:M,validationGroup:D,dataGetter:function(){return{formItem:p}}}),(0,et.x2)()){var R="."+mi,P=function(t){(0,a.Z)(t.element).parents(R).toggleClass(xi,!1===t.component.option("isValid")&&(t.component._isFocused()||"always"===t.component.option("validationMessageMode")))};O.on("optionChanged",(t=>{"isValid"===t.name&&P(t)})),O.on("focusIn",P).on("focusOut",P).on("enterKey",P)}}if(x&&f){var L=S.parent();L.append((0,a.Z)("<div>").addClass(mi).append(S).append((0,a.Z)("<div>").addClass(vi).attr("id",C).text(x)))}return{$fieldEditorContainer:S,$rootElement:w,widgetInstance:B}}var Di="dx-field-button-item";function wi(t){var{item:e,$parent:i,rootElementCssClassList:n,validationGroup:s,createComponentCallback:o}=t,r=(0,a.Z)("<div>").appendTo(i).addClass(n.join(" ")).addClass(Di).css("textAlign",Si(e.horizontalAlignment));i.css("justifyContent",Bi(e.verticalAlignment));var l=(0,a.Z)("<div>").appendTo(r);return{$rootElement:r,buttonInstance:o(l,"dxButton",(0,p.l)({validationGroup:s},e.buttonOptions))}}function Si(t){return(0,u.$K)(t)?t:"right"}function Bi(t){switch(t){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}var Ti="dx-field-empty-item";function Vi(t){var{$parent:e,rootElementCssClassList:i}=t;return(0,a.Z)("<div>").addClass(Ti).html("&nbsp;").addClass(i.join(" ")).appendTo(e)}var Ei="dxTextBox",ki="dx-first-row",Oi="dx-last-row",Mi="dx-first-col",Zi="dx-last-col",Ai="flex",Fi="fallback",$i=g.Z.inherit({_getDefaultOptions:function(){return(0,p.l)(this.callBase(),{layoutData:{},readOnly:!1,colCount:1,colCountByScreen:void 0,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:f.Z.format("dxForm-optionalMark"),requiredMessage:f.Z.getFormatter("dxForm-requiredMessage")})},_setOptionsByReference:function(){this.callBase(),(0,p.l)(this._optionsByReference,{layoutData:!0,validationGroup:!0})},_init:function(){var t=this.option("layoutData");this.callBase(),this._itemWatchers=[],this._itemsRunTimeInfo=new b,this._updateReferencedOptions(t),this._initDataAndItems(t)},_dispose:function(){this.callBase(),this._cleanItemWatchers()},_initDataAndItems:function(t){this._syncDataWithItems(),this._updateItems(t)},_syncDataWithItems:function(){var t=this.option("layoutData"),e=this.option("items");(0,u.$K)(e)&&e.forEach((e=>{var i;e.dataField&&void 0===this._getDataByField(e.dataField)&&(e.editorOptions&&(i=e.editorOptions.value),((0,u.$K)(i)||e.dataField in t)&&this._updateFieldValue(e.dataField,i))}))},_getDataByField:function(t){return t?this.option("layoutData."+t):null},_isCheckboxUndefinedStateEnabled:function(t){var{allowIndeterminateState:e,editorType:i,dataField:n}=t;if(!0===e&&"dxCheckBox"===i){var a=["layoutData",...n.split(".")],s=a.pop(),o=this.option(a.join("."));return o&&s in o}return!1},_updateFieldValue:function(t,e){var i=this.option("layoutData"),n=e;!ae.Z.isWrapped(i[t])&&(0,u.$K)(t)?this.option("layoutData."+t,n):ae.Z.isWritableWrapped(i[t])&&(n=(0,u.mf)(n)?n():n,i[t](n)),this._triggerOnFieldDataChanged({dataField:t,value:n})},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_updateItems:function(t){var e=this,i=this.option("items"),n=(0,u.$K)(i),a=e.option("customizeItem"),s=n?i:this._generateItemsByData(t);if((0,u.$K)(s)){var o=[];(0,d.S6)(s,(function(t,i){e._isAcceptableItem(i)&&(i=e._processItem(i),a&&a(i),(0,u.Kn)(i)&&!1!==ae.Z.unwrap(i.visible)&&o.push(i))})),e._itemWatchers.length&&n||e._updateItemWatchers(s),this._setItems(o),this._sortItems()}},_cleanItemWatchers:function(){this._itemWatchers.forEach((function(t){t()})),this._itemWatchers=[]},_updateItemWatchers:function(t){var e=this,i=e._getWatch();t.forEach((function(t){(0,u.Kn)(t)&&(0,u.$K)(t.visible)&&(0,u.mf)(i)&&e._itemWatchers.push(i((function(){return ae.Z.unwrap(t.visible)}),(function(){e._updateItems(e.option("layoutData")),e.repaint()}),{skipImmediate:!0}))}))},_generateItemsByData:function(t){var e=[];return(0,u.$K)(t)&&(0,d.S6)(t,(function(t){e.push({dataField:t})})),e},_isAcceptableItem:function(t){var e=t.dataField||t,i=this._getDataByField(e);return!((0,u.mf)(i)&&!ae.Z.isWrapped(i))},_processItem:function(t){if("string"===typeof t&&(t={dataField:t}),"object"!==typeof t||t.itemType||(t.itemType=He),!(0,u.$K)(t.editorType)&&(0,u.$K)(t.dataField)){var e=this._getDataByField(t.dataField);t.editorType=(0,u.$K)(e)?this._getEditorTypeByDataType((0,u.dt)(e)):Ei}var i;"dxCheckBox"===t.editorType&&(t.allowIndeterminateState=null===(i=t.allowIndeterminateState)||void 0===i||i);return t},_getEditorTypeByDataType:function(t){switch(t){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}},_sortItems:function(){(0,c.Sq)(this._items,"visibleIndex"),this._sortIndexes()},_sortIndexes:function(){this._items.sort((function(t,e){var i,n=t.visibleIndex,a=e.visibleIndex;return i=n>a?1:n<a?-1:0,i}))},_initMarkup:function(){this._itemsRunTimeInfo.clear(),this.$element().addClass(Be),this.callBase(),this._renderResponsiveBox()},_hasBrowserFlex:function(){return(0,re.Hj)(Ai)===Ai},_renderResponsiveBox:function(){var t=[];if(this._items&&this._items.length){var e=this._getColCount(),i=(0,a.Z)("<div>").appendTo(this.$element());this._prepareItemsWithMerging(e);var n=this._generateLayoutItems();this._responsiveBox=this._createComponent(i,ve,this._getResponsiveBoxConfig(n,e,t)),(0,C.Ym)()||this._renderTemplates(t)}},_itemStateChangedHandler:function(t){this._refresh()},_renderTemplates:function(t){var e=this;(0,d.S6)(t,(function(t,i){switch(i.itemType){case"empty":Vi(i);break;case"button":e._renderButtonItem(i);break;default:e._renderFieldItem(i)}}))},_getResponsiveBoxConfig:function(t,e,i){var n=this,s=n.option("colCountByScreen"),o=s&&s.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),_layoutStrategy:n._hasBrowserFlex()?Ai:Fi,onLayoutChanged:function(){var t=n.option("onLayoutChanged"),e=n.isSingleColumnMode();t&&(n.$element().toggleClass(we,e),t(e))},onContentReady:function(t){(0,C.Ym)()&&n._renderTemplates(i),n.option("onLayoutChanged")&&n.$element().toggleClass(we,n.isSingleColumnMode(t.component))},itemTemplate:function(t,s,o){if(t.location){var r=(0,a.Z)(o),l=t.location.row*e,h=n._items[t.location.col+l];if(h){var d=[h.cssClass];r.toggleClass(Ee,n.isSingleColumnMode(this)),0===t.location.row&&d.push(ki),0===t.location.col&&d.push(Mi),h.itemType===He&&n.option("isRoot")&&r.addClass(ke);var c=t.location.col===e-1||t.location.col+t.location.colspan===e,p=n._getRowsCount(),_=t.location.row===p-1;c&&d.push(Zi),_&&d.push(Oi),"empty"!==h.itemType&&(d.push(De),d.push(n.option("cssItemClass")),(0,u.$K)(h.col)&&d.push("dx-col-"+h.col)),i.push({itemType:h.itemType,item:h,$parent:r,rootElementCssClassList:d})}}},cols:n._generateRatio(e),rows:n._generateRatio(n._getRowsCount(),!0),dataSource:t,screenByWidth:n.option("screenByWidth"),singleColumnScreen:!o&&"xs"}},_getColCount:function(){var t=this.option("colCount"),e=this.option("colCountByScreen");if(e){var i=this.option("form").getTargetScreenFactor();i||(i=(0,C.Ym)()?(0,C.Wf)(this.option("screenByWidth")):"lg"),t=e[i]||t}if("auto"===t){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=t=this._getMaxColCount()}return t<1?1:t},_getMaxColCount:function(){if(!(0,C.Ym)())return 1;var t=this.option("minColWidth"),e=(0,x.dz)(this.$element()),i=this._items.length,n=Math.floor(e/t)||1;return i<n?i:n},isCachedColCountObsolete:function(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount},_prepareItemsWithMerging:function(t){var e,i,n,a,s=this._items.slice(0),o=[];for(a=0;a<s.length;a++)if(e=s[a],o.push(e),(this.option("alignItemLabels")||e.alignItemLabels||e.colSpan)&&(e.col=this._getColByIndex(o.length-1,t)),e.colSpan>1&&e.col+e.colSpan<=t){for(i=[],n=0;n<e.colSpan-1;n++)i.push({merged:!0});o=o.concat(i)}else delete e.colSpan;this._setItems(o)},_getColByIndex:function(t,e){return t%e},_setItems:function(t){this._items=t,this._cashedColCount=null},_generateLayoutItems:function(){var t,e,i=this._items,n=this._getColCount(),a=[];for(e=0;e<i.length;e++)if(t=i[e],!t.merged){var s={location:{row:parseInt(e/n),col:this._getColByIndex(e,n)}};(0,u.$K)(t.disabled)&&(s.disabled=t.disabled),(0,u.$K)(t.visible)&&(s.visible=t.visible),(0,u.$K)(t.colSpan)&&(s.location.colspan=t.colSpan),(0,u.$K)(t.rowSpan)&&(s.location.rowspan=t.rowSpan),a.push(s)}return a},_renderEmptyItem:function(t){Vi({$container:t})},_renderButtonItem:function(t){var{item:e,$parent:i,rootElementCssClassList:n}=t,{$rootElement:a,buttonInstance:s}=wi({item:e,$parent:i,rootElementCssClassList:n,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:e,widgetInstance:s,guid:e.guid,$itemContainer:a})},_renderFieldItem:function(t){var e,{item:i,$parent:n,rootElementCssClassList:a}=t,s=this._getDataByField(i.dataField),o=!1;if(void 0===s){var{allowIndeterminateState:r,editorType:l,dataField:h}=i;o=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:r,editorType:l,dataField:h})}var u=i.dataField||i.name,{$fieldEditorContainer:d,widgetInstance:c,$rootElement:p}=Ii(Ue({$parent:n,rootElementCssClassList:a,item:i,name:u,editorValue:s,canAssignUndefinedValueToEditor:o,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),useFlexLayout:this._hasBrowserFlex(),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:this.option("form")&&this.option("form").option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:i.template?this._getTemplate(i.template):null,itemId:this.option("form")&&this.option("form").getItemID(u),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode")}));null===(e=this.option("onFieldItemRendered"))||void 0===e||e(),c&&i.dataField&&this._bindDataField(c,i.dataField,i.editorType,d),this._itemsRunTimeInfo.add({item:i,widgetInstance:c,guid:i.guid,$itemContainer:p})},_getMarkOptions:function(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}},_getFormOrThis:function(){return this.option("form")||this},_bindDataField:function(t,e,i,n){var a=this._getFormOrThis();t.on("enterKey",(function(t){a._createActionByOption("onEditorEnterKey")((0,p.l)(t,{dataField:e}))})),this._createWatcher(t,n,e),this.linkEditorToDataField(t,e,i)},_createWatcher:function(t,e,i){var n=this,a=n._getWatch();if((0,u.mf)(a)){var o=a((function(){return n._getDataByField(i)}),(function(){var e=n._getDataByField(i);if("dxTagBox"===t.NAME){var a=t.option("value");if(e!==a&&function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}(e,a))return}t.option("value",e)}),{deep:!0,skipImmediate:!0});s.Z.on(e,oe.x,o)}},_getWatch:function(){if(!(0,u.$K)(this._watch)){var t=this.option("form");this._watch=t&&t.option("integrationOptions.watchMethod")}return this._watch},_createComponent:function(t,e,i){var n=this.option("readOnly"),a=this.callBase(t,e,i);return n&&a.option("readOnly",n),this.on("optionChanged",(function(t){"readOnly"!==t.name||(0,u.$K)(i.readOnly)||a.option(t.name,t.value)})),a},_generateRatio:function(t,e){var i,n,a=[];for(n=0;n<t;n++)i={ratio:1},e&&(i.baseSize="auto"),a.push(i);return a},_getRowsCount:function(){return Math.ceil(this._items.length/this._getColCount())},_updateReferencedOptions:function(t){var e=this.option("layoutData");(0,u.Kn)(e)&&Object.getOwnPropertyNames(e).forEach((t=>delete this._optionsByReference["layoutData."+t])),(0,u.Kn)(t)&&Object.getOwnPropertyNames(t).forEach((t=>this._optionsByReference["layoutData."+t]=!0))},_resetWidget(t){this._disableEditorValueChangedHandler=!0,t.reset(),this._disableEditorValueChangedHandler=!1,t.option("isValid",!0)},_optionChanged(t){if(0!==t.fullName.search("layoutData."))switch(t.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":this._cashedRequiredConfig=null,this._invalidate();break;case"layoutData":this._updateReferencedOptions(t.value),this.option("items")?(0,u.Qr)(t.value)||this._itemsRunTimeInfo.each(((e,i)=>{if((0,u.$K)(i.item)){var n=i.item.dataField;if(n&&(0,u.$K)(i.widgetInstance)){var a=(0,se.vb)(n),s=a(t.value),{allowIndeterminateState:o,editorType:r}=i.item;void 0!==s||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:o,editorType:r,dataField:n})?i.widgetInstance.option("value",s):this._resetWidget(i.widgetInstance)}}})):(this._initDataAndItems(t.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(t.value),this._invalidate();break;case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":this._resetColCount();break;case"minColWidth":"auto"===this.option("colCount")&&this._resetColCount();break;case"readOnly":break;case"width":this.callBase(t),"auto"===this.option("colCount")&&this._resetColCount();break;case"onFieldDataChanged":break;default:this.callBase(t)}},_resetColCount:function(){this._cashedColCount=null,this._invalidate()},linkEditorToDataField(t,e){this.on("optionChanged",(i=>{i.fullName==="layoutData.".concat(e)&&t._setOptionWithoutOptionChange("value",i.value)})),t.on("valueChanged",(t=>{var i=(0,u.Kn)(t.value)||Array.isArray(t.value);this._disableEditorValueChangedHandler||i&&t.value===t.previousValue||this._updateFieldValue(e,t.value)}))},_dimensionChanged:function(){"auto"===this.option("colCount")&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")},updateData:function(t,e){var i=this;(0,u.Kn)(t)?(0,d.S6)(t,(function(t,e){i._updateFieldValue(t,e)})):"string"===typeof t&&i._updateFieldValue(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},isSingleColumnMode:function(t){var e=this._responsiveBox||t;if(e)return e.option("currentScreenFactor")===e.option("singleColumnScreen")},getItemsRunTimeInfo:function(){return this._itemsRunTimeInfo}});(0,o.Z)("dxLayoutManager",$i);var Ri="dx-validationsummary",Pi=Ri+"-item",Li=Ri+"-item-data",Hi=ue.Z.inherit({_getDefaultOptions(){return(0,p.l)(this.callBase(),{focusStateEnabled:!1,noDataText:null})},_setOptionsByReference(){this.callBase(),(0,p.l)(this._optionsByReference,{validationGroup:!0})},_init(){this.callBase(),this._initGroupRegistration()},_initGroupRegistration(){var t=this.$element(),e=this.option("validationGroup")||y.Z.findGroup(t,this._modelByElement(t)),i=y.Z.addGroup(e);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=e,this.groupSubscription=this._groupValidationHandler.bind(this),i.on("validated",this.groupSubscription)},_unsubscribeGroup(){var t=y.Z.getGroupConfig(this._validationGroup);t&&t.off("validated",this.groupSubscription)},_getOrderedItems(t,e){var i=[];return(0,d.S6)(t,(function(t,n){var a=(0,l.h3)(e,(function(t){if(t.validator===n)return!0}));a.length&&(i=i.concat(a))})),i},_groupValidationHandler(t){var e=this._getOrderedItems(t.validators,(0,d.UI)(t.brokenRules,(function(t){return{text:t.message,validator:t.validator,index:t.index}})));this.validators=t.validators,(0,d.S6)(this.validators,((t,e)=>{if(e._validationSummary!==this){var i=this._itemValidationHandler.bind(this);e.on("validated",i),e.on("disposing",(function(){e.off("validated",i),e._validationSummary=null,i=null})),e._validationSummary=this}})),this.option("items",e)},_itemValidationHandler(t){var{isValid:e,validator:i,brokenRules:n}=t,a=this.option("items"),s=!1,o=0,r=function(){var t=a[o];if(t.validator===i){var r=(0,l.h3)(n||[],(function(e){return e.index===t.index}))[0];if(e||!r)return a.splice(o,1),s=!0,"continue";r.message!==t.text&&(t.text=r.message,s=!0)}o++};while(o<a.length)r();(0,d.S6)(n,(function(t,e){var n=(0,l.h3)(a,(function(t){return t.validator===i&&t.index===e.index}))[0];n||(a.push({text:e.message,validator:i,index:e.index}),s=!0)})),s&&(a=this._getOrderedItems(this.validators,a),this.option("items",a))},_initMarkup(){this.$element().addClass(Ri),this.callBase()},_optionChanged(t){switch(t.name){case"validationGroup":this._initGroupRegistration();break;default:this.callBase(t)}},_itemClass:()=>Pi,_itemDataKey:()=>Li,_postprocessRenderItem(t){s.Z.on(t.itemElement,"click",(function(){t.itemData.validator&&t.itemData.validator.focus&&t.itemData.validator.focus()}))},_dispose(){this.callBase(),this._unsubscribeGroup()}});(0,o.Z)("dxValidationSummary",Hi);var Ni=Hi,Wi=i(5526),zi="dx-validationgroup",Ki="dx-validator",Gi="dx-validationsummary";class qi extends Wi.Z{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),y.Z.addGroup(this)}_initMarkup(){var t=this.$element();t.addClass(zi),t.find(".".concat(Ki)).each((function(t,e){Ke.Z.getInstance((0,a.Z)(e))._initGroupRegistration()})),t.find(".".concat(Gi)).each((function(t,e){Ni.getInstance((0,a.Z)(e))._initGroupRegistration()})),super._initMarkup()}validate(){return y.Z.validateGroup(this)}reset(){return y.Z.resetGroup(this)}_dispose(){y.Z.removeGroup(this),this.$element().removeClass(zi),super._dispose()}_useTemplates(){return!1}}(0,o.Z)("dxValidationGroup",qi);var Yi=i(7953),Ui="dx-state-focused",ji=["items","isRequired","validationRules","visible"],Qi=g.Z.inherit({_init:function(){this.callBase(),this._cachedColCountOptions=[],this._itemsRunTimeInfo=new b,this._groupsColCount=[],this._attachSyncSubscriptions()},_getDefaultOptions:function(){return(0,p.l)(this.callBase(),{formID:"dx-"+new r.Z,formData:{},colCount:1,screenByWidth:C.$n,colCountByScreen:void 0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:f.Z.format("dxForm-optionalMark"),requiredMessage:f.Z.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,items:void 0,scrollingEnabled:!1,validationGroup:void 0,stylingMode:(0,h.Z)().editorStylingMode,labelMode:"outside"})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return(0,et.x2)()},options:{showColonAfterLabel:!1,labelLocation:"top"}}])},_setOptionsByReference:function(){this.callBase(),(0,p.l)(this._optionsByReference,{formData:!0,validationGroup:!0})},_getGroupColCount:function(t){return parseInt(t.attr(Re))},_applyLabelsWidthByCol:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,a=i.inOneColumn?De:Ie+e,s=i.excludeTabbed?":not(.".concat(Fe,")"):"";hi(t,".".concat(a).concat(s),n)},_applyLabelsWidth:function(t,e,i,n,a){n=i?1:n||this._getGroupColCount(t);var s,o={excludeTabbed:e,inOneColumn:i};for(s=0;s<n;s++)this._applyLabelsWidthByCol(t,s,o,a)},_getGroupElementsInColumn:function(t,e,i){var n=(0,u.$K)(i)?"."+$e+i:"",a="."+Ie+e+" > ."+Ve+" > ."+be+n;return t.find(a)},_applyLabelsWidthWithGroups:function(t,e,i,n){if(!0===this.option("alignRootItemLabels"))for(var a=t.find(".".concat(ke)),s=0;s<e;s++)this._applyLabelsWidthByCol(a,s,i,n);var o=this.option("alignItemLabelsInAllGroups");if(o)this._applyLabelsWidthWithNestedGroups(t,e,i,n);else{var r,l=this.$element().find("."+be);for(r=0;r<l.length;r++)this._applyLabelsWidth(l.eq(r),i,void 0,void 0,n)}},_applyLabelsWidthWithNestedGroups:function(t,e,i,n){var a,s,o,r,l={excludeTabbed:i};for(a=0;a<e;a++)for(r=this._getGroupElementsInColumn(t,a),this._applyLabelsWidthByCol(r,0,l,n),s=0;s<this._groupsColCount.length;s++){r=this._getGroupElementsInColumn(t,a,this._groupsColCount[s]);var h=this._getGroupColCount(r);for(o=1;o<h;o++)this._applyLabelsWidthByCol(r,o,l,n)}},_labelLocation:function(){return this.option("labelLocation")},_alignLabelsInColumn:function(t){var{layoutManager:e,inOneColumn:i,$container:n,excludeTabbed:a,items:s}=t;if((0,C.Ym)()&&"top"!==this._labelLocation()){var o=Qe(e._getMarkOptions());i?this._applyLabelsWidth(n,a,!0,void 0,o):this._checkGrouping(s)?this._applyLabelsWidthWithGroups(n,e._getColCount(),a,o):this._applyLabelsWidth(n,a,!1,e._getColCount(),o)}},_prepareFormData:function(){(0,u.$K)(this.option("formData"))||this.option("formData",{})},_setStylingModeClass:function(){"underlined"===this.option("stylingMode")&&this.$element().addClass(Le)},_initMarkup:function(){y.Z.addGroup(this._getValidationGroup()),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(ye),this._setStylingModeClass(),this.callBase(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor()},_getCurrentScreenFactor:function(){return(0,C.Ym)()?(0,C.Wf)(this.option("screenByWidth")):"lg"},_clearCachedInstances:function(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]},_alignLabels:function(t,e){this._alignLabelsInColumn({$container:this.$element(),layoutManager:t,excludeTabbed:!0,items:this.option("items"),inOneColumn:e}),(0,_.U_)(this.$element().find(".".concat(Yi.z)))},_clean:function(){this._clearValidationSummary(),this.callBase(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0},_renderScrollable:function(){var t=this.option("useNativeScrolling");this._scrollable=new nt.Z(this.$element(),{useNative:!!t,useSimulatedScrollbar:!t,useKeyboard:!1,direction:"both",bounceEnabled:!1})},_getContent:function(){return this.option("scrollingEnabled")?(0,a.Z)(this._scrollable.content()):this.$element()},_clearValidationSummary:function(){var t;null===(t=this._$validationSummary)||void 0===t||t.remove(),this._$validationSummary=void 0,this._validationSummary=void 0},_renderValidationSummary:function(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=(0,a.Z)("<div>").addClass(Pe).appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))},_prepareItems(t,e,i,a){if(t){for(var s=[],o=0;o<t.length;o++){var r=t[o],l=Ht(i,Lt(o,a)),h={item:r,itemIndex:o,path:l},d=this._itemsRunTimeInfo.add(h);if((0,u.HD)(r)&&(r={dataField:r}),(0,u.Kn)(r)){var c=(0,n.Z)({},r);h.preparedItem=c,c.guid=d,this._tryPrepareGroupItem(c),this._tryPrepareTabbedItem(c,l),this._tryPrepareItemTemplate(c),e&&(c.cssItemClass=Fe),c.items&&(c.items=this._prepareItems(c.items,e,l)),s.push(c)}else s.push(r)}return s}},_tryPrepareGroupItem:function(t){"group"===t.itemType&&(t.alignItemLabels=(0,l.IS)(t.alignItemLabels,!0),t._prepareGroupItemTemplate=e=>{t.template&&(t.groupContentTemplate=this._getTemplate(e)),t.template=this._itemGroupTemplate.bind(this,t)},t._prepareGroupItemTemplate(t.template))},_tryPrepareTabbedItem:function(t,e){"tabbed"===t.itemType&&(t.template=this._itemTabbedTemplate.bind(this,t),t.tabs=this._prepareItems(t.tabs,!0,e,!0))},_tryPrepareItemTemplate:function(t){t.template&&(t.template=this._getTemplate(t.template))},_checkGrouping:function(t){if(t)for(var e=0;e<t.length;e++){var i=t[e];if("group"===i.itemType)return!0}},_renderLayout:function(){var t=this,e=t.option("items"),i=t._getContent();e=t._prepareItems(e),t._rootLayoutManager=t._renderLayoutManager(i,this._createLayoutManagerOptions(e,{isRoot:!0,colCount:t.option("colCount"),alignItemLabels:t.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged:function(e){t._alignLabels.bind(t)(t._rootLayoutManager,e)},onContentReady:function(e){t._alignLabels(e.component,e.component.isSingleColumnMode())}}))},_tryGetItemsForTemplate:function(t){return t.items||[]},_itemTabbedTemplate:function(t,e,i){var n=(0,a.Z)("<div>").appendTo(i),s=(0,p.l)({},t.tabPanelOptions,{dataSource:t.tabs,onItemRendered:t=>(0,_.Uo)(t.itemElement),itemTemplate:(t,e,i)=>{var n=(0,a.Z)(i),s=(0,l.IS)(t.alignItemLabels,!0),o=this._renderLayoutManager(n,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(t),{colCount:t.colCount,alignItemLabels:s,screenByWidth:this.option("screenByWidth"),colCountByScreen:t.colCountByScreen,cssItemClass:t.cssItemClass,onLayoutChanged:e=>{this._alignLabelsInColumn({$container:n,layoutManager:o,items:t.items,inOneColumn:e})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{layoutManager:o}),s&&this._alignLabelsInColumn({$container:n,layoutManager:o,items:t.items,inOneColumn:o.isSingleColumnMode()})}}),o=(t,e)=>{Array.isArray(t)&&t.forEach((t=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{widgetInstance:e})))},r=this._createComponent(n,Ft,s);(0,a.Z)(i).parent().addClass(Ze),r.on("optionChanged",(t=>{"dataSource"===t.fullName&&o(t.value,t.component)})),o([{guid:t.guid},...t.tabs],r)},_itemGroupTemplate:function(t,e,i){var n,s,o=(0,a.Z)("<div>").toggleClass(Ae,(0,u.$K)(t.caption)&&t.caption.length).addClass(be).appendTo(i);(0,a.Z)(i).parent().addClass(Me),t.caption&&(0,a.Z)("<span>").addClass(xe).text(t.caption).appendTo(o);var r=(0,a.Z)("<div>").addClass(Oe).appendTo(o);t.groupContentTemplate?(t._renderGroupContentTemplate=()=>{r.empty();var e={formData:this.option("formData"),component:this};t.groupContentTemplate.render({model:e,container:(0,m.u)(r)})},t._renderGroupContentTemplate()):(s=this._renderLayoutManager(r,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(t),{colCount:t.colCount,colCountByScreen:t.colCountByScreen,alignItemLabels:t.alignItemLabels,cssItemClass:t.cssItemClass})),this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(t.guid,{layoutManager:s}),n=s._getColCount(),-1===(0,c.d3)(n,this._groupsColCount)&&this._groupsColCount.push(n),o.addClass($e+n),o.attr(Re,n))},_createLayoutManagerOptions:function(t,e){return Ut({form:this,formOptions:this.option(),$formElement:this.$element(),items:t,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:e,onFieldDataChanged:t=>{this._isDataUpdating||this._triggerOnFieldDataChanged(t)},onContentReady:t=>{this._itemsRunTimeInfo.addItemsOrExtendFrom(t.component._itemsRunTimeInfo),e.onContentReady&&e.onContentReady(t)},onDisposing:t=>{var{component:e}=t,i=e.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(i)},onFieldItemRendered:()=>{var t;null===(t=this._validationSummary)||void 0===t||t._initGroupRegistration()}})},_renderLayoutManager:function(t,e){var i={lg:e.colCount,md:e.colCount,sm:e.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:(0,p.l)(i,e.colCountByScreen)});var n=(0,a.Z)("<div>");n.appendTo(t);var s=this._createComponent(n,"dxLayoutManager",e);return s.on("autoColCountChanged",(()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout((()=>!this._disposed&&this._refresh()),0)})),this._cachedLayoutManagers.push(s),s},_getValidationGroup:function(){return this.option("validationGroup")||this},_createComponent:function(t,e,i){return i=i||{},this._extendConfig(i,{readOnly:this.option("readOnly")}),this.callBase(t,e,i)},_attachSyncSubscriptions:function(){var t=this;t.on("optionChanged",(function(e){var i=e.fullName;"formData"===i&&((0,u.$K)(e.value)||t._options.silent("formData",e.value={}),t._triggerOnFieldDataChangedByDataSet(e.value)),t._cachedLayoutManagers.length&&(0,d.S6)(t._cachedLayoutManagers,(function(n,a){"formData"===i&&(t._isDataUpdating=!0,a.option("layoutData",e.value),t._isDataUpdating=!1),"readOnly"!==e.name&&"disabled"!==e.name||a.option(i,e.value)}))}))},_optionChanged:function(t){var e=t.fullName.split(".");e.length>1&&-1!==e[0].search("items")&&this._itemsOptionChangedHandler(t)||e.length>1&&-1!==e[0].search("formData")&&this._formDataOptionChangedHandler(t)||this._defaultOptionChangedHandler(t)},_defaultOptionChangedHandler:function(t){switch(t.name){case"formData":this.option("items")?(0,u.Qr)(t.value)&&this._resetValues():this._invalidate();break;case"onFieldDataChanged":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":"auto"===this.option("colCount")&&this._invalidate();break;case"alignRootItemLabels":case"readOnly":break;case"width":this.callBase(t),this._rootLayoutManager.option(t.name,t.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"visible":this.callBase(t),t.value&&(0,_.Uo)(this.$element());break;case"validationGroup":y.Z.removeGroup(t.previousValue||this),this._invalidate();break;default:this.callBase(t)}},_itemsOptionChangedHandler:function(t){var e=t.fullName.split("."),i=t.value,n=this._getItemPath(e),a=this.option(n),s=t.fullName.replace(n+".",""),o=s.split(".")[0].replace(/\[\d+]/,""),r=this._tryCreateItemOptionAction(o,a,a[o],t.previousValue,n),l=this._tryExecuteItemOptionAction(r)||this._tryChangeLayoutManagerItemOption(t.fullName,i);if(!l&&a){this._changeItemOption(a,s,i);var h=this._generateItemsFromData(this.option("items"));this.option("items",h),l=!0}return l},_formDataOptionChangedHandler:function(t){var e=t.fullName.split("."),i=t.value,n=e.slice(1).join("."),a=this.getEditor(n);return a?a.option("value",i):this._triggerOnFieldDataChanged({dataField:n,value:i}),!0},_tryCreateItemOptionAction:function(t,e,i,n,a){return"tabs"===t&&(this._itemsRunTimeInfo.removeItemsByPathStartWith("".concat(a,".tabs")),i=this._prepareItems(i,!0,a,!0)),ne(t,{item:e,value:i,previousValue:n,itemsRunTimeInfo:this._itemsRunTimeInfo})},_tryExecuteItemOptionAction:function(t){return t&&t.tryExecute()},_updateValidationGroupAndSummaryIfNeeded:function(t){var e,i=Kt(t);ji.indexOf(i)>-1&&(y.Z.addGroup(this._getValidationGroup()),this.option("showValidationSummary")&&(null===(e=this._validationSummary)||void 0===e||e._initGroupRegistration()))},_setLayoutManagerItemOption(t,e,i,n){if(this._updateLockCount>0){!t._updateLockCount&&t.beginUpdate();var a=this._itemsRunTimeInfo.findKeyByPath(n);this.postponedOperations.add(a,(()=>(!t._disposed&&t.endUpdate(),(new M.BH).resolve())))}var s=t=>{if(t.component.off("contentReady",s),qt(n)){var e=Gt(n),i=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(e);i&&this._alignLabelsInColumn({items:i.option("items"),layoutManager:i,$container:i.$element(),inOneColumn:i.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};t.on("contentReady",s),t.option(e,i),this._updateValidationGroupAndSummaryIfNeeded(e)},_tryChangeLayoutManagerItemOption(t,e){var i=t.split("."),n=Kt(t);if("items"===n&&i.length>1){var a=this._getItemPath(i),s=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(a);if(s){this._itemsRunTimeInfo.removeItemsByItems(s.getItemsRunTimeInfo());var o=this._prepareItems(e,!1,a);return this._setLayoutManagerItemOption(s,n,o,a),!0}}else if(i.length>2){var r=i.length-2,l=this._getItemPath(i.slice(0,r)),h=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(l);if(h){var u=zt(i[r],n);if("editorType"===n&&h.option(u)!==e)return!1;if("visible"===n){var d=this.option(zt(l,"items"));if(d&&d.length){var c=h.option("items");d.forEach(((t,e)=>{var i=c[e];i.visibleIndex=t.visibleIndex}))}}return this._setLayoutManagerItemOption(h,u,e,l),!0}}return!1},_tryChangeLayoutManagerItemOptions(t,e){var i;return this.beginUpdate(),(0,d.S6)(e,((e,n)=>{if(i=this._tryChangeLayoutManagerItemOption(zt(t,e),n),!i)return!1})),this.endUpdate(),i},_getItemPath:function(t){var e,i=t[0];for(e=1;e<t.length;e++){if(-1===t[e].search(/items\[\d+]|tabs\[\d+]/))break;i+="."+t[e]}return i},_triggerOnFieldDataChanged:function(t){this._createActionByOption("onFieldDataChanged")(t)},_triggerOnFieldDataChangedByDataSet:function(t){var e=this;t&&(0,u.Kn)(t)&&(0,d.S6)(t,(function(t,i){e._triggerOnFieldDataChanged({dataField:t,value:i})}))},_updateFieldValue:function(t,e){if((0,u.$K)(this.option("formData"))){var i=this.getEditor(t);if(this.option("formData."+t,e),i){var n=i.option("value");n!==e&&i.option("value",e)}}},_generateItemsFromData:function(t){var e=this.option("formData"),i=[];return!t&&(0,u.$K)(e)&&(0,d.S6)(e,(function(t){i.push({dataField:t})})),t&&(0,d.S6)(t,(function(t,e){(0,u.Kn)(e)?i.push(e):i.push({dataField:e})})),i},_getItemByField:function(t,e){var i,n=this,a=(0,u.Kn)(t)?t:n._getFieldParts(t),s=a.fieldName,o=a.fieldPath;return e.length&&(0,d.S6)(e,(function(t,e){var a=e.itemType;if(o.length){var r=o.slice();e=n._getItemByFieldPath(r,s,e)}else if("group"===a&&!e.caption&&!e.name||"tabbed"===a&&!e.name){var l=n._getSubItemField(a);e.items=n._generateItemsFromData(e.items),e=n._getItemByField({fieldName:s,fieldPath:o},e[l])}if(Wt(e,s))return i=e,!1})),i},_getFieldParts:function(t){var e=t,i=e.indexOf("."),n=[];while(-1!==i)n.push(e.substr(0,i)),e=e.substr(i+1),i=e.indexOf(".");return{fieldName:e,fieldPath:n.reverse()}},_getItemByFieldPath:function(t,e,i){var n,a=i.itemType,s=this._getSubItemField(a),o="group"===a||"tabbed"===a||i.title;do{if(!o)break;var r=i.name||i.caption||i.title,l=(0,u.$K)(r),h=Nt(r),d=void 0;if(i[s]=this._generateItemsFromData(i[s]),l&&(d=t.pop()),!t.length&&(n=this._getItemByField(e,i[s]),n))break;(!l||l&&h===d)&&t.length&&(n=this._searchItemInEverySubItem(t,e,i[s]))}while(t.length&&!(0,u.$K)(n));return n},_getSubItemField:function(t){return"tabbed"===t?"tabs":"items"},_searchItemInEverySubItem:function(t,e,i){var n,a=this;return(0,d.S6)(i,(function(i,s){if(n=a._getItemByFieldPath(t.slice(),e,s),n)return!1})),n||(n=!1),n},_changeItemOption:function(t,e,i){(0,u.Kn)(t)&&(t[e]=i)},_dimensionChanged:function(){var t=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==t&&(this._isColCountChanged(this._lastMarkupScreenFactor,t)&&(this._targetScreenFactor=t,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=t)},_isColCountChanged:function(t,e){var i=!1;return(0,d.S6)(this._cachedColCountOptions,(function(n,a){if(a.colCountByScreen[t]!==a.colCountByScreen[e])return i=!0,!1})),i},_refresh:function(){var t="."+Ui+" input, ."+Ui+" textarea";s.Z.trigger(this.$element().find(t),"change"),this.callBase()},_resetValues:function(){this._itemsRunTimeInfo.each((function(t,e){(0,u.$K)(e.widgetInstance)&&v.Z.isEditor(e.widgetInstance)&&(e.widgetInstance.reset(),e.widgetInstance.option("isValid",!0))})),y.Z.resetGroup(this._getValidationGroup())},_updateData:function(t,e,i){var n=this,a=i?e:t;(0,u.Kn)(a)?(0,d.S6)(a,(function(e,a){n._updateData(i?t+"."+e:e,a,(0,u.Kn)(a))})):(0,u.HD)(t)&&n._updateFieldValue(t,e)},registerKeyHandler:function(t,e){this.callBase(t,e),this._itemsRunTimeInfo.each((function(i,n){(0,u.$K)(n.widgetInstance)&&n.widgetInstance.registerKeyHandler(t,e)}))},_focusTarget:function(){return this.$element().find("."+Ve+" [tabindex]").first()},_visibilityChanged:function(){},_clearAutoColCountChangedTimeout:function(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)},_dispose:function(){this._clearAutoColCountChangedTimeout(),y.Z.removeGroup(this._getValidationGroup()),this.callBase()},resetValues:function(){this._resetValues()},updateData:function(t,e){this._updateData(t,e)},getEditor:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(t)||this._itemsRunTimeInfo.findWidgetInstanceByName(t)},getButton:function(t){return this._itemsRunTimeInfo.findWidgetInstanceByName(t)},updateDimensions:function(){var t=this,e=new M.BH;return t._scrollable?t._scrollable.update().done((function(){e.resolveWith(t)})):e.resolveWith(t),e.promise()},itemOption:function(t,e,i){var n=this._generateItemsFromData(this.option("items")),a=this._getItemByField(t,n),s=Yt(n,a);if(a)switch(arguments.length){case 1:return a;case 3:var o=this._tryCreateItemOptionAction(e,a,i,a[e],s);this._changeItemOption(a,e,i);var r=zt(s,e);this._tryExecuteItemOptionAction(o)||this._tryChangeLayoutManagerItemOption(r,i)||this.option("items",n);break;default:var l;if((0,u.Kn)(e))if(!this._tryChangeLayoutManagerItemOptions(s,e))(0,d.S6)(e,((t,e)=>{var i=this._tryCreateItemOptionAction(t,a,e,a[t],s);this._changeItemOption(a,t,e),l||this._tryExecuteItemOptionAction(i)||(l=!0)})),l&&this.option("items",n)}},validate:function(){return y.Z.validateGroup(this._getValidationGroup())},getItemID:function(t){return"dx_"+this.option("formID")+"_"+(t||new r.Z)},getTargetScreenFactor:function(){return this._targetScreenFactor}});(0,o.Z)("dxForm",Qi);var Ji=Qi,Xi=Ji},596:function(t,e,i){i.d(e,{Z:function(){return _t}});var n=i(1025),a=i(337),s=i(3908),o=i(9532),r=i(5395),l=i(3737),h=i(5513),u=i(8218),d=function(t){for(var e=0,i=0,n=0;n<t.length;++n)if("'"===t[n]&&e++,"."===t[n]&&(++i,e%2===0))return{occurrence:i,index:n};return{occurrence:1,index:-1}},c=function(t,e,i){var n=-1;while(i--&&n++<t.length)n=t.indexOf(e,n);return n},p=function(t,e){return-1===e?[t]:[t.slice(0,e),t.slice(e+1)]},_=function(t,e){return t&&(0,l.zB)(t/100,e)},m=function(t,e){if("string"===typeof e){var i=e.split(";"),n=h.Z.getSign(t,e);i[1]=i[1]||"-"+i[0],e=i[n<0?1:0],o=e,e=o.replace(/'([^']*)'/g,(t=>t.split("").map((()=>" ")).join("").substr(2)));var a=/^[^#0.,]*/.exec(e)[0].length,s=/[^#0.,]*$/.exec(e)[0].length;return{start:a,end:t.length-s}}return{start:0,end:t.length};var o},f=function(t,e){var i=h.Z.getDecimalSeparator(),n=new RegExp("[^0-9"+(0,u.hr)(i)+"]","g"),a=e.slice(0,t);return a.replace(n,"").length},g=function(t){return t.split("").reverse().join("")},v=function(t,e){if(!t)return-1;var i=/[0-9]/g,n=1,a=null,s=i.exec(e);while(s){if(a=s.index,n>=t)return a;n++,s=i.exec(e)}return null===a?e.length:a},C=function(t){return t.replace(/[^0-9e]+$/,"")},y=function(t,e){return void 0===t.start&&(t={start:t,end:t}),{start:t.start+e,end:t.end+e}},b=function(t,e,i,n){i=y(i,0);var a=h.Z.getDecimalSeparator(),s=x(t),o=d(n).occurrence,r=s?0:c(t,a,o),l=c(e,a,o),u=p(t,r),_=p(e,l),m=-1!==r&&i.start>r;if(m){var b=i.start-r-1,I=f(b,u[1]),w=_[1]?l+1+v(I,_[1])+1:e.length;return D(w,e,n)}var S=C(_[0]),B=u[0].length-i.start,T=f(B,g(u[0])),V=v(T,g(S)),E=S.length-(V+1);return D(E,e,n)};function x(t){return 1===t.length&&!!t.match(/^[,.][0-9]*$/g)}var I=function(t,e,i){t=y(t,0);var n=D(t,e,i);return t.start>=n.start&&t.end<=n.end};function D(t,e,i){t=y(t,0);var n=m(e,i),a={start:(0,l.n$)(t.start,n.start,n.end),end:(0,l.n$)(t.end,n.start,n.end)};return a}var w=function(t,e,i){var n=m(t,i),a=m(e,i);return a.start-n.start},S=i(2672),B=i(555),T=i(170),V=i(3268),E=i(613),k=i(900),O=i(1925),M=i(3001),Z=i(1085),A=i(459),F=i(816),$=i(4286),R=i(7566),P="dx-numberbox-spin",L="dx-numberbox-spin-button",H=100,N="dxNumberBox",W=(0,O.V4)(A.Z.up,N),z=(0,O.V4)(A.Z.cancel,N),K=Z.Z.inherit({_getDefaultOptions:function(){return(0,s.l)(this.callBase(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})},_initMarkup:function(){this.callBase();var t=P+"-"+this.option("direction");this.$element().addClass(L).addClass(t),this._spinIcon=(0,B.Z)("<div>").addClass(t+"-icon").appendTo(this.$element())},_render:function(){this.callBase();var t=(0,O.V4)(A.Z.down,this.NAME),e=this.$element();a.Z.off(e,t),a.Z.on(e,t,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")},_spinDownHandler:function(t){t.preventDefault(),this._clearTimer(),a.Z.on(this.$element(),$.Z.name,function(){this._feedBackDeferred=new R.BH,(0,F.dR)(this._feedBackDeferred),this._spinChangeHandler({event:t}),this._holdTimer=setInterval(this._spinChangeHandler,H,{event:t})}.bind(this));var e=T["default"].getDocument();a.Z.on(e,W,this._clearTimer.bind(this)),a.Z.on(e,z,this._clearTimer.bind(this)),this._spinChangeHandler({event:t})},_dispose:function(){this._clearTimer(),this.callBase()},_clearTimer:function(){a.Z.off(this.$element(),$.Z.name);var t=T["default"].getDocument();a.Z.off(t,W),a.Z.off(t,z),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)},_optionChanged:function(t){switch(t.name){case"onChange":case"direction":this._invalidate();break;default:this.callBase(t)}}}),G=K,q="dx-numberbox-spin",Y="dx-numberbox-spin-container",U="dx-numberbox-spin-touch-friendly";class j extends M.Z{_attachEvents(t,e){var{editor:i}=this,n=(0,O.V4)(A.Z.down,i.NAME),s=e.children(),o=i._createAction((t=>i._spinButtonsPointerDownHandler(t)));a.Z.off(e,n),a.Z.on(e,n,(t=>o({event:t}))),G.getInstance(s.eq(0)).option("onChange",(t=>i._spinUpChangeHandler(t))),G.getInstance(s.eq(1)).option("onChange",(t=>i._spinDownChangeHandler(t)))}_create(){var{editor:t}=this,e=(0,B.Z)("<div>").addClass(Y),i=(0,B.Z)("<div>").appendTo(e),n=(0,B.Z)("<div>").appendTo(e),a=this._getOptions();return this._addToContainer(e),t._createComponent(i,G,(0,s.l)({direction:"up"},a)),t._createComponent(n,G,(0,s.l)({direction:"down"},a)),this._legacyRender(t.$element(),this._isTouchFriendly(),a.visible),{instance:e,$element:e}}_getOptions(){var{editor:t}=this,e=this._isVisible(),i=t.option("disabled");return{visible:e,disabled:i}}_isVisible(){var{editor:t}=this;return super._isVisible()&&t.option("showSpinButtons")}_isTouchFriendly(){var{editor:t}=this;return t.option("showSpinButtons")&&t.option("useLargeSpinButtons")}_legacyRender(t,e,i){t.toggleClass(U,e),t.toggleClass(q,i)}update(){var t=super.update();if(t){var{editor:e,instance:i}=this,n=e.$element(),a=this._isVisible(),s=this._isTouchFriendly(),o=i.children(),r=G.getInstance(o.eq(0)),l=G.getInstance(o.eq(1)),h=this._getOptions();r.option(h),l.option(h),this._legacyRender(n,s,a)}}}var Q=i(946),J=Math,X="dx-numberbox",tt=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"],et="NumberBoxForceValueChange",it=k.Z.inherit({_supportedKeys:function(){return(0,s.l)(this.callBase(),{upArrow:function(t){(0,O.j1)(t)||(t.preventDefault(),t.stopPropagation(),this._spinUpChangeHandler(t))},downArrow:function(t){(0,O.j1)(t)||(t.preventDefault(),t.stopPropagation(),this._spinDownChangeHandler(t))},enter:function(){}})},_getDefaultOptions:function(){return(0,s.l)(this.callBase(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:Q.Z.format("dxNumberBox-invalidValueMessage"),buttons:void 0})},_useTemplates:function(){return!1},_getDefaultButtons:function(){return this.callBase().concat([{name:"spins",Ctor:j}])},_isSupportInputMode:function(){var t=parseFloat(E.Z.version);return E.Z.chrome&&t>=66||E.Z.safari&&t>=12},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return r.Z.real().generic&&!r.Z.isSimulator()},options:{useLargeSpinButtons:!1}},{device:function(){return"desktop"!==r.Z.real().deviceType&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])},_initMarkup:function(){this._renderSubmitElement(),this.$element().addClass(X),this.callBase()},_getDefaultAttributes:function(){var t=this.callBase();return t.inputmode="decimal",t},_renderContentImpl:function(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")},_renderSubmitElement:function(){this._$submitElement=(0,B.Z)("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){this._getSubmitElement().val((0,u.FH)(t))},_getSubmitElement:function(){return this._$submitElement},_keyPressHandler:function(t){this.callBase(t);var e=(0,O.qK)(t),i=/[\d.,eE\-+]/.test(e);if(!i){var n=(0,O.EV)(t);if((0,O.j1)(t)||n&&(0,V.d3)(n,tt)>=0)return;return t.preventDefault(),!1}this._keyPressed=!0},_onMouseWheel:function(t){t.delta>0?this._spinValueChange(1,t):this._spinValueChange(-1,t)},_renderValue:function(){var t=this._input().val(),e=this.option("value");t.length&&Number(t)===e||(this._forceValueRender(),this._toggleEmptinessEventHandler());var i=(0,o.$K)(e)?null:Q.Z.format("dxNumberBox-noDataText");return this.setAria({valuenow:(0,u.IS)(e,""),valuetext:i}),this.option("text",this._input().val()),this._updateButtons(),(new R.BH).resolve()},_forceValueRender:function(){var t=this.option("value"),e=Number(t),i=isNaN(e)?"":this._applyDisplayValueFormatter(t);this._renderDisplayText(i)},_applyDisplayValueFormatter:function(t){return this.option("displayValueFormatter")(t)},_renderProps:function(){this.callBase(),this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:(0,u.IS)(this.option("min"),""),valuemax:(0,u.IS)(this.option("max"),"")})},_spinButtonsPointerDownHandler:function(){var t=this._input();this.option("useLargeSpinButtons")||T["default"].getActiveElement()===t[0]||a.Z.trigger(t,"focus")},_spinUpChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(1,t.event||t)},_spinDownChangeHandler:function(t){this.option("readOnly")||this._spinValueChange(-1,t.event||t)},_spinValueChange:function(t,e){var i=parseFloat(this.option("step"));if(0!==i){var n=parseFloat(this._normalizeInputValue())||0;n=this._correctRounding(n,i*t);var a=this.option("min"),s=this.option("max");(0,o.$K)(a)&&(n=Math.max(a,n)),(0,o.$K)(s)&&(n=Math.min(s,n)),this._saveValueChangeEvent(e),this.option("value",n)}},_correctRounding:function(t,e){var i=/[,.](.*)/,n=i.test(t),a=i.test(e);if(n||a){var s=n?i.exec(t)[0].length:0,o=a?i.exec(e)[0].length:0,r=J.max(s,o);return t=this._round(t+e,r),t}return t+e},_round:function(t,e){e=e||0;var i=Math.pow(10,e);return t*=i,t=Math.round(t)/i,t},_renderValueChangeEvent:function(){this.callBase();var t=(0,O.V4)("focusout",et);a.Z.off(this.element(),t),a.Z.on(this.element(),t,this._forceRefreshInputValue.bind(this))},_forceRefreshInputValue:function(){if("number"!==this.option("mode")){var t=this._input(),e=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(e)}},_valueChangeEventHandler:function(t){var e=this._input(),i=this._normalizeText(),n=this._parseValue(i),a="."!==i&&"-"!==i;!this._isValueValid()||this._validateValue(n)?(a&&this.callBase(t,isNaN(n)?null:n),this._applyValueBoundaries(i,n),this.validationRequest.fire({value:n,editor:this})):e.val(this._applyDisplayValueFormatter(n))},_applyValueBoundaries:function(t,e){var i=this._isValueIncomplete(t),n=this._isValueInRange(t);i||n||null===e||Number(t)!==e&&this._input().val(this._applyDisplayValueFormatter(e))},_replaceCommaWithPoint:function(t){return t.replace(",",".")},_inputIsInvalid:function(){var t="number"===this.option("mode"),e=this._input().get(0).validity;return t&&e&&e.badInput},_renderDisplayText:function(t){this._inputIsInvalid()||this.callBase(t)},_isValueIncomplete:function(t){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(t)},_isValueInRange:function(t){return(0,l.Z2)(t,this.option("min"),this.option("max"))},_isNumber:function(t){return null!==this._parseValue(t)},_validateValue:function(t){var e=this._normalizeText(),i=this._isValueValid(),n=!0,a=this._isNumber(e);return isNaN(Number(t))&&(n=!1),!t&&i?n=!0:a||i||(n=!1),this.option({isValid:n,validationError:n?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),n},_normalizeInputValue:function(){return this._parseValue(this._normalizeText())},_normalizeText:function(){var t=this._input().val().trim();return this._replaceCommaWithPoint(t)},_parseValue:function(t){var e=parseFloat(t);return isNaN(e)?null:(0,l.n$)(e,this.option("min"),this.option("max"))},_clearValue:function(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),this.callBase()},reset:function(){null===this.option("value")?(this.option("text",""),this._renderValue()):this.option("value",null)},_optionChanged:function(t){switch(t.name){case"value":this._validateValue(t.value),this._setSubmitValue(t.value),this.callBase(t),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:this.callBase(t)}}}),nt=it,at="dxNumberFormatter",st=1,ot=-1,rt="-",lt="minus",ht="input",ut=0,dt=nt.inherit({_getDefaultOptions:function(){return(0,s.l)(this.callBase(),{useMaskBehavior:!0,format:null})},_isDeleteKey:function(t){return"del"===t},_supportedKeys:function(){return this._useMaskBehavior()?(0,s.l)(this.callBase(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,ot),rightArrow:this._arrowHandler.bind(this,st),home:this._moveCaretToBoundaryEventHandler.bind(this,st),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,ot)}):this.callBase()},_getTextSeparatorIndex:function(t){var e=h.Z.getDecimalSeparator(),i=d(this.option("format")).occurrence;return c(t,e,i)},_focusInHandler:function(t){this._preventNestedFocusEvent(t)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0;var e=this._caret();if(e.start===e.end&&this._useMaskBehavior()){var i=this._getInputVal(),n=this._getTextSeparatorIndex(i);n>=0?this._caret({start:n,end:n}):this._moveCaretToBoundaryEventHandler(ot,t)}}.bind(this),ut)),this.callBase(t)},_focusOutHandler:function(t){var e=!this._preventNestedFocusEvent(t);e&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),this.callBase(t),e&&(this._focusOutOccurs=!1)},_hasValueBeenChanged(t){var e=this._getFormatPattern(),i=this.option("value"),n=this._format(i,e)||"";return n!==t},_updateFormattedValue:function(){var t=this._getInputVal();this._hasValueBeenChanged(t)&&(this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue(),this._parsedValue!==this.option("value")&&a.Z.trigger(this._input(),"change"))},_arrowHandler:function(t,e){if(this._useMaskBehavior()){var i=this._getInputVal(),n=this._getFormatPattern(),a=y(this._caret(),t);I(a,i,n)||(a=t===st?a.end:a.start,e.preventDefault(),this._caret(D(a,i,n)))}},_moveCaretToBoundary:function(t){var e=m(this._getInputVal(),this._getFormatPattern()),i=y(t===st?e.start:e.end,0);this._caret(i)},_moveCaretToBoundaryEventHandler:function(t,e){!this._useMaskBehavior()||e&&e.shiftKey||(this._moveCaretToBoundary(t),e&&e.preventDefault())},_shouldMoveCaret:function(t,e){var i=h.Z.getDecimalSeparator(),n=t.charAt(e.end)===i,a=(this._lastKey===i||"."===this._lastKey)&&n;return a},_getInputVal:function(){return h.Z.convertDigits(this._input().val(),!0)},_keyboardHandler:function(t){if(this.clearCaretTimeout(),this._lastKey=h.Z.convertDigits((0,O.qK)(t),!0),this._lastKeyName=(0,O.EV)(t),!this._shouldHandleKey(t.originalEvent))return this.callBase(t);var e=this._getInputVal(),i=this._caret(),n=this._lastKeyName===lt?"":this._lastKey,a=this._tryParse(e,i,n);return this._shouldMoveCaret(e,i)&&(this._moveCaret(1),t.originalEvent.preventDefault()),void 0===a?this._lastKeyName!==lt&&t.originalEvent.preventDefault():this._parsedValue=a,this.callBase(t)},_keyPressHandler:function(t){this._useMaskBehavior()||this.callBase(t)},_removeHandler:function(t){var e=this._caret(),i=this._getInputVal(),n=e.start,a=e.end;this._lastKey=(0,O.qK)(t),this._lastKeyName=(0,O.EV)(t);var s=this._isDeleteKey(this._lastKeyName),o=!s;if(n===a){var r=n,l=o&&r>0||s&&r<i.length;if(!l)return void t.preventDefault();s&&a++,o&&n--}var u=i.slice(n,a);if(this._isStub(u))return this._moveCaret(s?1:-1),(this._parsedValue<0||1/this._parsedValue===-1/0)&&(this._revertSign(t),this._setTextByParsedValue()),void t.preventDefault();var d=h.Z.getDecimalSeparator();if(u!==d){if(a-n<i.length){var c=this._replaceSelectedText(i,{start:n,end:a},""),p=c.search(/[0-9]/)<0;if(p&&this._isValueInRange(0))return void(this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0)}var _=this._tryParse(i,{start:n,end:a},"");void 0===_?t.preventDefault():this._parsedValue=_}else{var m=i.indexOf(d);this._isNonStubAfter(m+1)&&(this._moveCaret(s?1:-1),t.preventDefault())}},_isPercentFormat:function(){var t=this._getFormatPattern(),e=t.replace(/'[^']+'/g,"");return-1!==e.indexOf("%")},_parse:function(t,e){var i=this.option("format"),n=(0,o.mf)(i.parser),a=n?i.parser:h.Z.parse,s=0;if(!n){var r=d(e).index,l=this._getTextSeparatorIndex(t),u=-1!==r?r:e.length,c=-1!==l?l:t.length;c>u&&-1===e.indexOf("#")&&(s=c-u)}return t=this._removeStubs(t,!0),t=t.substr(s),a(t,e)},_format:function(t,e){var i=this.option("format"),n=(null===i||void 0===i?void 0:i.formatter)||i,a=(0,o.mf)(n)?n:h.Z.format,s=null===t?"":a(t,e);return s},_getFormatPattern:function(){return this._currentFormat||this._updateFormat(),this._currentFormat},_updateFormat:function(){var t=this.option("format"),e=(0,o.mf)(null===t||void 0===t?void 0:t.parser),i=(0,o.HD)(t)&&(t.indexOf("0")>=0||t.indexOf("#")>=0);this._currentFormat=e||i?t:(0,S.y)((e=>{var i=this._format(e,t);return h.Z.convertDigits(i,!0)}))},_getFormatForSign:function(t){var e=this._getFormatPattern();if((0,o.HD)(e)){var i=e.split(";"),n=h.Z.getSign(t,e);return i[1]=i[1]||"-"+i[0],n<0?i[1]:i[0]}var a=h.Z.getSign(t);return a<0?"-":""},_removeStubs:function(t,e){var i=this._getFormatForSign(t),n=h.Z.getThousandsSeparator(),a=this._getStubs(i),s=t;if(a.length){var o=a[0],r=new RegExp("("+(0,u.hr)(a[1]||"")+")$","g"),l=new RegExp("[-"+(0,u.hr)(e?"":n)+"]","g");s=s.replace(o,"").replace(r,"").replace(l,"")}return s},_getStubs:function(t){var e=/[^']([#0.,]+)/g.exec(t),i=e&&e[0].trim();return t.split(i).map((function(t){return t.replace(/'/g,"")}))},_truncateToPrecision:function(t,e){if((0,o.$K)(t)){var i=t.toString(),n=i.indexOf(".");if(i&&n>-1){var a=parseFloat(i.substr(0,n+e+1));return isNaN(a)?t:a}}return t},_tryParse:function(t,e,i){var n=this._replaceSelectedText(t,e,i),a=this._getFormatPattern(),s=e.start!==e.end,o=this._getParsedValue(n,a),r=!a.parser&&this._getPrecisionLimits(n).max,l=o!==this._parsedValue,u=h.Z.getDecimalSeparator(),d=i===u&&0===r,c=!s&&!l&&i!==rt&&!this._isValueIncomplete(n)&&this._isStub(i);if(!d&&!c&&(""===this._removeStubs(n)&&(o=Math.abs(0*this._parsedValue)),!isNaN(o))){var p=null===o?this._parsedValue:o;return o=r?this._truncateToPrecision(p,r):o,!a.parser&&this._isPercentFormat()?_(o,r):o}},_getParsedValue:function(t,e){var i=h.Z.getSign(t,(null===e||void 0===e?void 0:e.formatter)||e),n=this._parse(t,e),a=n<0?-1:1,s=(0,o.kE)(n)&&i!==a?i*n:n;return s},_isValueIncomplete:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret(),i=h.Z.getDecimalSeparator(),n=this._getTextSeparatorIndex(t),a=n>=0&&n<e.start,s=this._removeStubs(t,!0).split(i);if(!a||2!==s.length)return!1;var o=s[1].length,r=this._getFormatPattern(),u=!!r.parser,d=!u&&this._getPrecisionLimits(this._getFormatPattern(),t),c=!!u||(0,l.Z2)(o,d.min,d.max),p="0"===s[1].charAt(o-1);return c&&(p||!o)},_isValueInRange:function(t){var e=(0,u.IS)(this.option("min"),-1/0),i=(0,u.IS)(this.option("max"),1/0);return(0,l.Z2)(t,e,i)},_setInputText:function(t){var e=h.Z.convertDigits(t,!0),i=b(this._getInputVal(),e,this._caret(),this._getFormatPattern());this._input().val(t),this._toggleEmptinessEventHandler(),this._formattedValue=t,this._focusOutOccurs||this._caret(i)},_useMaskBehavior:function(){return!!this.option("format")&&this.option("useMaskBehavior")},_renderInputType:function(){var t="number"===this.option("mode"),e="desktop"===r.Z.real().deviceType;this._useMaskBehavior()&&t?this._setInputType(e||this._isSupportInputMode()?"text":"tel"):this.callBase()},_isChar:function(t){return(0,o.HD)(t)&&1===t.length},_moveCaret:function(t){if(t){var e=y(this._caret(),t),i=D(e,this._getInputVal(),this._getFormatPattern());this._caret(i)}},_shouldHandleKey:function(t){var e=(0,O.EV)(t),i=(0,O.j1)(t)||t.altKey||t.shiftKey||!this._isChar(e),n=e===lt,a=this._useMaskBehavior();return a&&!i&&!n},_renderInput:function(){this.callBase(),this._renderFormatter()},_renderFormatter:function(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()},_detachFormatterEvents:function(){a.Z.off(this._input(),"."+at)},_isInputFromPaste:function(t){var e=t.originalEvent&&t.originalEvent.inputType;return(0,o.$K)(e)?"insertFromPaste"===e:this._isValuePasted},_attachFormatterEvents:function(){var t=this._input();a.Z.on(t,(0,O.V4)(ht,at),function(t){this._formatValue(t),this._isValuePasted=!1}.bind(this)),a.Z.on(t,(0,O.V4)("dxclick",at),function(){this._caretTimeout||(this._caretTimeout=setTimeout(function(){this._caretTimeout=void 0,this._caret(D(this._caret(),this._getInputVal(),this._getFormatPattern()))}.bind(this),ut))}.bind(this)),a.Z.on(t,"dxdblclick",function(){this.clearCaretTimeout()}.bind(this))},clearCaretTimeout:function(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0},_forceRefreshInputValue:function(){if(!this._useMaskBehavior())return this.callBase()},_isNonStubAfter:function(t){var e=this._getInputVal().slice(t);return e&&!this._isStub(e,!0)},_isStub:function(t,e){var i=(0,u.hr)(h.Z.getDecimalSeparator()),n="^[^0-9"+i+"]+$",a=new RegExp(n,"g");return a.test(t)&&(e||this._isChar(t))},_parseValue:function(t){return this._useMaskBehavior()?this._parsedValue:this.callBase(t)},_getPrecisionLimits:function(t){var e=this._getFormatForSign(t),i=d(e).index,n=(p(e,i)[1]||"").replace(/[^#0]/g,""),a=n.replace(/^(0*)#*/,"$1").length,s=n.length;return{min:a,max:s}},_revertSign:function(t){if(this._useMaskBehavior()){var e=this._caret();if(e.start!==e.end){if((0,O.EV)(t)===lt)return void this._applyRevertedSign(t,e,!0);this._caret(D(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(t,e)}},_applyRevertedSign:function(t,e,i){var n=-1*(0,u.IS)(this._parsedValue,null);if(this._isValueInRange(n)&&(this._parsedValue=n,i)){var a=this._getFormatPattern(),s=this._getInputVal();this._setTextByParsedValue(),t.preventDefault();var o=this._getInputVal(),r=w(s,o,a);e=y(e,r);var l=D(e,o,a);this._caret(l)}},_removeMinusFromText:function(t,e){var i=this._lastKeyName===lt&&t.charAt(e.start-1)===rt;return i?this._replaceSelectedText(t,{start:e.start-1,end:e.start},""):t},_setTextByParsedValue:function(){var t=this._getFormatPattern(),e=this._parseValue(),i=this._format(e,t)||"";this._setInputText(i)},_formatValue:function(t){var e=this._getInputVal(),i=this._caret(),n=this._removeMinusFromText(e,i),a=n!==e;if(e=n,!this._isInputFromPaste(t)&&this._isValueIncomplete(n))return this._formattedValue=e,void(a&&this._setTextByParsedValue());var s=h.Z.convertDigits(this._formattedValue,!0)!==e;if(s){var r=this._tryParse(e,i,"");(0,o.$K)(r)&&(this._parsedValue=r)}this._setTextByParsedValue()},_renderDisplayText:function(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():this.callBase.apply(this,arguments)},_renderValue:function(){return this._useMaskBehavior()&&(this._parsedValue=this.option("value"),this._setTextByParsedValue()),this.callBase()},_updateParsedValue:function(){var t=this._getInputVal();this._parsedValue=this._tryParse(t,this._caret())},_adjustParsedValue:function(){if(this._useMaskBehavior()){var t=this._removeStubs(this._getInputVal()),e=t?this._parseValue():null;(0,o.kE)(e)?this._parsedValue=(0,l.n$)(e,this.option("min"),this.option("max")):this._parsedValue=e}},_valueChangeEventHandler:function(t){if(!this._useMaskBehavior())return this.callBase(t);var e=this._caret();this._saveValueChangeEvent(t),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),e&&this._caret(e)},_optionChanged:function(t){switch(t.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),this.callBase(t);break;default:this.callBase(t)}},_clearCache:function(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout},_clean:function(){this._clearCache(),this.callBase()}}),ct=dt;(0,n.Z)("dxNumberBox",ct);var pt=ct,_t=pt},8722:function(t,e,i){i.d(e,{Z:function(){return j}});var n=i(555),a=i(8218),s=i(9532),o=i(3908),r=i(3268),l=i(9598),h=i(7566),u=i(7437),d=i(9386),c=i(170),p=i(946),_=i(1025),m=i(8767),f=i(2632),g=i(337),v=i(7814),C=i(3103),y=i(2710),b=i(1923),x=i(1925),I=i(5395),D=i(266),w=i(3959),S=i(943),B=i(8051),T=i(1431),V=i(7419),E=(0,o.l)({},B.Z,{_dataExpressionDefaultOptions:function(){return{items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}},_initDataExpressions:function(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource:function(){this.option("dataSource")||(this._dataSource=new T.o({store:new V.Z(this.option("items")),pageSize:0}))},_compileDisplayGetter:function(){this._displayGetter=(0,S.vb)(this._displayGetterExpr())},_displayGetterExpr:function(){return this.option("displayExpr")},_compileValueGetter:function(){this._valueGetter=(0,S.vb)(this._valueGetterExpr())},_valueGetterExpr:function(){return this.option("valueExpr")||"this"},_loadValue:function(t){var e=new h.BH;return t=this._unwrappedValue(t),(0,s.$K)(t)?(this._loadSingle(this._valueGetterExpr(),t).done(function(i){this._isValueEquals(this._valueGetter(i),t)?e.resolve(i):e.reject()}.bind(this)).fail((function(){e.reject()})),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading:function(){var t;null===(t=this._loadValueDeferred)||void 0===t||t.reject({shouldSkipCallback:!0})},_getCurrentValue:function(){return this.option("value")},_unwrappedValue:function(t){var e;return t=null!==(e=t)&&void 0!==e?e:this._getCurrentValue(),t&&this._dataSource&&"this"===this._valueGetterExpr()&&(t=this._getItemKey(t)),w.Z.unwrap(t)},_getItemKey:function(t){var e=this._dataSource.key();if(Array.isArray(e)){for(var i={},n=0,a=e.length;n<a;n++)i[e[n]]=t[e[n]];return i}return e&&"object"===typeof t&&(t=t[e]),t},_isValueEquals:function(t,e){var i=this._dataSource&&this._dataSource.key(),n=this._compareValues(t,e);return!n&&i&&(0,s.$K)(t)&&(0,s.$K)(e)&&(n=Array.isArray(i)?this._compareByCompositeKey(t,e,i):this._compareByKey(t,e,i)),n},_compareByCompositeKey:function(t,e,i){var n=s.Kn;if(!n(t)||!n(e))return!1;for(var a=0,o=i.length;a<o;a++)if(t[i[a]]!==e[i[a]])return!1;return!0},_compareByKey:function(t,e,i){var n=w.Z.unwrap,s=(0,a.IS)(n(t[i]),t),o=(0,a.IS)(n(e[i]),e);return this._compareValues(s,o)},_compareValues:function(t,e){return(0,S.Ex)(t,!0)===(0,S.Ex)(e,!0)},_initDynamicTemplates:a.ZT,_setCollectionWidgetItemTemplate:function(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr:function(){var t=this.option("valueExpr"),e=(0,s.HD)(t)&&"this"!==t||(0,s.mf)(t);return e?t:null},_dataExpressionOptionChanged:function(t){switch(t.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),k=E,O=i(399),M=i(8992),Z=(0,f.Jj)(),A=".dx-list-item",F="dxListItemData",$="dx-dropdownlist-popup-wrapper",R="dx-skip-gesture-event",P="input",L=["startswith","contains","endwith","notcontains"],H="android"!==I.Z.real().platform,N=C.Z.inherit({_supportedKeys:function(){var t=this.callBase();return(0,o.l)({},t,{tab:function(e){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(e);var i=(0,n.Z)(this._list.option("focusedElement"));i.length&&this._setSelectedElement(i)}t.tab.apply(this,arguments)},space:a.ZT,home:a.ZT,end:a.ZT})},_allowSelectItemByTab:function(){return this.option("opened")&&"instantly"===this.option("applyValueMode")},_setSelectedElement:function(t){var e=this._valueGetter(this._list._getItemData(t));this._setValue(e)},_setValue:function(t){this.option("value",t)},_getDefaultOptions:function(){return(0,o.l)(this.callBase(),(0,o.l)(k._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:p.Z.format("dxCollectionWidget-noDataText"),onSelectionChanged:null,onItemClick:a.ZT,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1}))},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])},_setOptionsByReference:function(){this.callBase(),(0,o.l)(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})},_init:function(){this.callBase(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()},_setListFocusedElementOptionChange:function(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)},_initItems:function(){var t=this.option().items;t&&!t.length&&this._dataSource&&(this.option().items=this._dataSource.items())},_initActions:function(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()},_initContentReadyAction:function(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})},_initSelectionChangedAction:function(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})},_initItemClickAction:function(){this._itemClickAction=this._createActionByOption("onItemClick")},_initTemplates:function(){this.callBase(),this._templateManager.addDefaultTemplates({item:new O.s("item")})},_isEditable:function(){return this.callBase()||this.option("searchEnabled")},_saveFocusOnWidget:function(t){this._list&&this._list.initialOption("focusStateEnabled")&&this._focusInput()},_fitIntoRange:function(t,e,i){return t>i?e:t<e?i:t},_items:function(){var t=this._getPlainItems(!this._list&&this._dataSource.items()),e=new D.Z(t).filter("disabled","<>",!0).toArray();return e},_calcNextItem:function(t){var e=this._items(),i=this._fitIntoRange(this._getSelectedIndex()+t,0,e.length-1);return e[i]},_getSelectedIndex:function(){var t=this._items(),e=this.option("selectedItem"),i=-1;return(0,l.S6)(t,function(t,n){if(this._isValueEquals(n,e))return i=t,!1}.bind(this)),i},_createPopup:function(){this.callBase(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());var t=this._popup.$content();g.Z.off(t,"mouseup"),g.Z.on(t,"mouseup",this._saveFocusOnWidget.bind(this));var e=this;this._popup.on({shown:function(){e.$element().addClass(R)},hidden:function(){e.$element().removeClass(R)}})},_updateCustomBoundaryContainer:function(){var t=this.option("dropDownOptions.container"),e=t&&(0,n.Z)(t);if(e&&e.length&&!(0,s.FJ)(e.get(0))){var i=[].slice.call(e.parents());i.unshift(e.get(0)),(0,l.S6)(i,function(t,e){return e!==(0,n.Z)("body").get(0)&&("hidden"===Z.getComputedStyle(e).overflowY?(this._$customBoundaryContainer=(0,n.Z)(e),!1):void 0)}.bind(this))}},_popupWrapperClass:function(){return $},_renderInputValue:function(){var t=this._getCurrentValue();return this._rejectValueLoading(),this._loadInputValue(t,this._setSelectedItem.bind(this)).always(this.callBase.bind(this,t))},_loadInputValue:function(t,e){return this._loadItem(t).always(e)},_getItemFromPlain:function(t,e){var i,n;return e&&"object"!==typeof t&&(e.itemByValue||(e.itemByValue={},i=this._getPlainItems(),i.forEach((function(t){e.itemByValue[this._valueGetter(t)]=t}),this)),n=e.itemByValue[t]),n||(i=this._getPlainItems(),n=(0,a.h3)(i,function(e){return this._isValueEquals(this._valueGetter(e),t)}.bind(this))[0]),n},_loadItem:function(t,e){var i=this._getItemFromPlain(t,e);return void 0!==i?(new h.BH).resolve(i).promise():this._loadValue(t)},_getPlainItems:function(t){var e=[];t=t||this.option("items")||this._dataSource.items()||[];for(var i=0;i<t.length;i++)t[i]&&t[i].items?e=e.concat(t[i].items):e.push(t[i]);return e},_updateActiveDescendant(){var t,e=this.option("opened"),i=null===(t=this._list)||void 0===t?void 0:t.getFocusedItemId(),a=(0,n.Z)("#".concat(i)).length>0,s=e&&a&&i;this.setAria({activedescendant:s||null})},_setSelectedItem:function(t){var e=this._displayValue(t);this.option("selectedItem",(0,a.IS)(t,null)),this.option("displayValue",e)},_displayValue:function(t){return this._displayGetter(t)},_refreshSelected:function(){var t={};this._listItemElements().each(function(e,i){var a=(0,n.Z)(i),s=this._valueGetter(a.data(F)),o=this._isSelectedValue(s,t);o?this._list.selectItem(a):this._list.unselectItem(a)}.bind(this))},_popupShownHandler:function(){this.callBase(),this._setFocusPolicy()},_setFocusPolicy:function(){this.option("focusStateEnabled")&&this._list&&this._list.option("focusedElement",null)},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_validateSearchMode:function(){var t=this.option("searchMode"),e=t.toLowerCase();if((0,r.d3)(e,L)<0)throw b.Z.Error("E1019",t)},_clearSelectedItem:function(){this.option("selectedItem",null)},_processDataSourceChanging:function(){this._setListDataSource(),this._renderInputValue().fail(function(){this._isCustomValueAllowed()||this._clearSelectedItem()}.bind(this))},_isCustomValueAllowed:function(){return this.option("displayCustomValue")},reset:function(){this.callBase(),this._clearFilter(),this._clearSelectedItem()},_listItemElements:function(){return this._$list?this._$list.find(A):(0,n.Z)()},_popupConfig:function(){return(0,o.l)(this.callBase(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})},_renderPopupContent:function(){this.callBase(),this._renderList()},_getKeyboardListeners(){var t=this._canListHaveFocus();return this.callBase().concat([!t&&this._list])},_setAriaTargetForList:function(){this._list._getAriaTarget=this._getAriaTarget.bind(this)},_renderList:function(){this._listId="dx-"+(new v.Z)._value;var t=this._$list=(0,n.Z)("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._list=this._createComponent(t,y.Z,this._listConfig()),this._refreshList(),this._setAriaTargetForList(),this._list.option("_listAttributes",{role:"combobox"}),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()},_renderPreventBlurOnListClick:function(){var t=(0,x.V4)("mousedown","dxDropDownList");g.Z.off(this._$list,t),g.Z.on(this._$list,t,(t=>t.preventDefault()))},_renderOpenedState:function(){this.callBase(),this._list&&this._updateActiveDescendant(),this.setAria({controls:this._list&&this._listId,owns:this._popup&&this._popupContentId})},_setDefaultAria:function(){this.setAria({haspopup:"listbox",autocomplete:"list"})},_refreshList:function(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()},_shouldRefreshDataSource:function(){var t=!!this._list.option("dataSource");return t!==this._needPassDataSourceToList()},_isDesktopDevice:function(){return"desktop"===I.Z.real().deviceType},_listConfig:function(){var t={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_revertPageOnEmptyLoad:!0,hoverStateEnabled:!!this._isDesktopDevice()&&this.option("hoverStateEnabled"),focusStateEnabled:!!this._isDesktopDevice()&&this.option("focusStateEnabled")};return this._canListHaveFocus()||(t.tabIndex=null),t},_canListHaveFocus:()=>!1,_getDataSource:function(){return this._needPassDataSourceToList()?this._dataSource:null},_dataSourceOptions:function(){return{paginate:!1}},_getGroupedOption:function(){return this.option("grouped")},_dataSourceFromUrlLoadMode:function(){return"raw"},_listContentReadyHandler:function(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._dimensionChanged(),this._contentReadyAction()},_setListOption:function(t,e){this._setWidgetOption("_list",arguments)},_listItemClickAction:function(t){this._listItemClickHandler(t),this._itemClickAction(t)},_listItemClickHandler:a.ZT,_setListDataSource:function(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))},_needPassDataSourceToList:function(){return this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded()},_isMinSearchLengthExceeded:function(){return this._searchValue().toString().length>=this.option("minSearchLength")},_needClearFilter:function(){return!this._canKeepDataSource()&&this._needPassDataSourceToList()},_canKeepDataSource:function(){var t,e=this._isMinSearchLengthExceeded();return(null===(t=this._dataSource)||void 0===t?void 0:t.isLoaded())&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!e&&!this._isLastMinSearchLengthExceeded},_searchValue:function(){return this._input().val()||""},_getSearchEvent:function(){return(0,x.V4)(P,this.NAME+"Search")},_getCompositionStartEvent:function(){return(0,x.V4)("compositionstart",this.NAME+"CompositionStart")},_getCompositionEndEvent:function(){return(0,x.V4)("compositionend",this.NAME+"CompositionEnd")},_getSetFocusPolicyEvent:function(){return(0,x.V4)("input",this.NAME+"FocusPolicy")},_renderEvents:function(){this.callBase(),g.Z.on(this._input(),this._getSetFocusPolicyEvent(),(()=>{this._setFocusPolicy()})),this._shouldRenderSearchEvent()&&(g.Z.on(this._input(),this._getSearchEvent(),(t=>{this._searchHandler(t)})),H&&(g.Z.on(this._input(),this._getCompositionStartEvent(),(()=>{this._isTextCompositionInProgress(!0)})),g.Z.on(this._input(),this._getCompositionEndEvent(),(t=>{this._isTextCompositionInProgress(void 0),this._searchHandler(t,this._searchValue())}))))},_shouldRenderSearchEvent:function(){return this.option("searchEnabled")},_refreshEvents:function(){g.Z.off(this._input(),this._getSearchEvent()),g.Z.off(this._input(),this._getSetFocusPolicyEvent()),H&&(g.Z.off(this._input(),this._getCompositionStartEvent()),g.Z.off(this._input(),this._getCompositionEndEvent())),this.callBase()},_isTextCompositionInProgress:function(t){if(!arguments.length)return this._isTextComposition;this._isTextComposition=t},_searchHandler:function(t,e){if(!this._isTextCompositionInProgress())if(this._isMinSearchLengthExceeded()){var i=this.option("searchTimeout");i?(this._clearSearchTimer(),this._searchTimer=setTimeout((()=>{this._searchDataSource(e)}),i)):this._searchDataSource(e)}else this._searchCanceled()},_searchCanceled:function(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()},_searchDataSource:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._searchValue();this._filterDataSource(t)},_filterDataSource:function(t){this._clearSearchTimer();var e=this._dataSource;e&&(e.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),e.searchOperation(this.option("searchMode")),e.searchValue(t),e.load().done(this._dataSourceFiltered.bind(this,t)))},_clearFilter:function(){var t=this._dataSource;t&&t.searchValue()&&t.searchValue(null)},_dataSourceFiltered:function(){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()},_shouldOpenPopup:function(){return this._hasItemsToShow()},_refreshPopupVisibility:function(){if(!this.option("readOnly")&&this._searchValue()){var t=this._shouldOpenPopup();t&&!this._isFocused()||(this.option("opened",t),t&&this._dimensionChanged())}},_dataSourceChangedHandler:function(t){0===this._dataSource.pageIndex()?this.option().items=t:this.option().items=this.option().items.concat(t)},_hasItemsToShow:function(){var t=this._dataSource&&this._dataSource.items()||[],e=t.length,i=this._needPassDataSourceToList();return!(!i||!e)},_clearSearchTimer:function(){clearTimeout(this._searchTimer),delete this._searchTimer},_popupShowingHandler:function(){this._dimensionChanged()},_dimensionChanged:function(){this.callBase(arguments),this._popup&&this._updatePopupDimensions()},_needPopupRepaint:function(){if(!this._dataSource)return!1;var t=this._dataSource.pageIndex(),e=(0,s.$K)(this._pageIndex)&&t<=this._pageIndex;return this._pageIndex=t,e},_updatePopupDimensions:function(){this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions()},_getMaxHeight:function(){var t=this.$element(),e=this._$customBoundaryContainer,i=t.offset().top-(e?e.offset().top:0),n=(0,m.zp)(Z),a=e?Math.min((0,m.zp)(e),n):n,s=Math.max(i,a-i-(0,m.zp)(t));return Math.min(.5*a,s)},_clean:function(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,this.callBase()},_dispose:function(){this._clearSearchTimer(),this.callBase()},_setCollectionWidgetOption:function(){this._setListOption.apply(this,arguments)},_setSubmitValue:function(){var t=this.option("value"),e=this._shouldUseDisplayValue(t)?this._displayGetter(t):t;this._getSubmitElement().val(e)},_shouldUseDisplayValue:function(t){return"this"===this.option("valueExpr")&&(0,s.Kn)(t)},_optionChanged:function(t){switch(this._dataExpressionOptionChanged(t),t.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(t.name,t.value),this.callBase(t);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"useItemTextAsTitle":this._setListOption(t.name);break;case"displayValue":this.option("text",t.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":t.previousValue!==t.value&&this._selectionChangedAction({selectedItem:t.value});break;default:this.callBase(t)}}}).include(k,M.Z);(0,_.Z)("dxDropDownList",N);var W=N,z=(i(3232),".dx-state-disabled"),K="dx-selectbox",G="dx-selectbox-popup",q="dx-selectbox-container",Y="dx-selectbox-popup-wrapper",U=W.inherit({_supportedKeys:function(){var t=this,e=this.callBase(),i=function(t){var e=this._isEditable();e?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(t.preventDefault(),this.reset()),this._savedTextRemoveEvent=t,this._preventSubstitution=!0},n=function(){t.option("searchEnabled")&&t._valueSubstituted()&&t._searchHandler()};return(0,o.l)({},e,{tab:function(){this.option("opened")&&"instantly"===this.option("applyValueMode")&&this._resetCaretPosition(!0),e.tab&&e.tab.apply(this,arguments),this._cancelSearchIfNeed()},upArrow:function(t){if(e.upArrow&&e.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(t),!0},downArrow:function(t){if(e.downArrow&&e.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(t),!0},leftArrow:function(){n(),e.leftArrow&&e.leftArrow.apply(this,arguments)},rightArrow:function(){n(),e.rightArrow&&e.rightArrow.apply(this,arguments)},home:function(){n(),e.home&&e.home.apply(this,arguments)},end:function(){n(),e.end&&e.end.apply(this,arguments)},escape:function(){var t=e.escape&&e.escape.apply(this,arguments);return this._cancelEditing(),null===t||void 0===t||t},enter:function(t){var i=this.option("opened"),n=this._input().val().trim(),a=n&&this._list&&!this._list.option("focusedElement");if(!n&&(0,s.$K)(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(t),this.option({selectedItem:null,value:null}),this.close();else{if(this.option("acceptCustomValue"))return t.preventDefault(),a&&(i&&this._toggleOpenState(),this._valueChangeEventHandler(t)),i;if(e.enter&&e.enter.apply(this,arguments))return i}},space:function(t){var e=this.option("opened"),i=this.option("searchEnabled"),n=this.option("acceptCustomValue");if(e&&!i&&!n)return t.preventDefault(),this._valueChangeEventHandler(t),!0},backspace:i,del:i})},_getDefaultOptions:function(){return(0,o.l)(this.callBase(),{placeholder:p.Z.format("Select"),fieldTemplate:null,valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating:function(t){(0,s.$K)(t.customItem)||(t.customItem=t.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})},_init:function(){this.callBase(),this._initCustomItemCreatingAction()},_initMarkup:function(){this.$element().addClass(K),this._renderTooltip(),this.callBase(),this._$container.addClass(q)},_createPopup:function(){this.callBase(),this._popup.$element().addClass(G),this._popup.$overlayContent().attr("tabindex",-1)},_popupWrapperClass:function(){return this.callBase()+" "+Y},_cancelEditing:function(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))},_renderOpenedState:function(){this.callBase(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())},_focusSelectedElement:function(){var t=this._searchValue();if(t){var e=this._list._itemElements(),i=(0,r.d3)(this.option("selectedItem"),this.option("items")),n=i>=0&&!this._isCustomItemSelected()?e.eq(i):null;this._focusListElement(n)}else this._focusListElement(null)},_renderFocusedElement:function(){if(this._list){var t=this._searchValue();if(t&&!this.option("acceptCustomValue")){var e=this._list._itemElements(),i=e.not(z).eq(0);this._focusListElement(i)}else this._focusListElement(null)}},_focusListElement:function(t){this._preventInputValueRender=!0,this._list.option("focusedElement",(0,u.u)(t)),delete this._preventInputValueRender},_scrollToSelectedItem:function(){this._list&&this._list.scrollToItem(this._list.option("selectedItem"))},_listContentReadyHandler:function(){this.callBase();var t=this._dataSource&&this._dataSource.paginate();t&&this._needPopupRepaint()||this._scrollToSelectedItem()},_renderValue:function(){return this._renderInputValue(),this._setSubmitValue(),(new h.BH).resolve()},_renderInputValue:function(){return this.callBase().always(function(){this._renderInputValueAsync()}.bind(this))},_renderInputValueAsync:function(){this._renderTooltip(),this._renderInputValueImpl().always(function(){this._refreshSelected()}.bind(this))},_renderInputValueImpl:function(){return this._renderField(),(new h.BH).resolve()},_setNextItem:function(t){var e=this._calcNextItem(t),i=this._valueGetter(e);this._setValue(i)},_setNextValue:function(t){var e=this._dataSource.isLoaded()?(new h.BH).resolve():this._dataSource.load();e.done(function(){var e=this._getSelectedIndex(),i=this._dataSource.pageSize(),n=this._dataSource.isLastPage(),a=e===this._items().length-1;this._saveValueChangeEvent(t);var s="downArrow"===(0,x.EV)(t)?1:-1;i&&!n&&a&&s>0?(this._popup||this._createPopup(),this._dataSource.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,s))):this._setNextItem(s)}.bind(this))},_setSelectedItem:function(t){var e=!this._isCustomValueAllowed()&&void 0===t;this.callBase(e?null:t),e||this._isEditable()&&!this._isCustomItemSelected()||this._setListOption("selectedItem",this.option("selectedItem"))},_isCustomValueAllowed:function(){return this.option("acceptCustomValue")||this.callBase()},_displayValue:function(t){return t=!(0,s.$K)(t)&&this._isCustomValueAllowed()?this.option("value"):t,this.callBase(t)},_listConfig:function(){var t=(0,o.l)(this.callBase(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this)});return this.option("showSelectionControls")&&(0,o.l)(t,{showSelectionControls:!0,selectionByClick:!0}),t},_listFocusedItemChangeHandler:function(t){if(!this._preventInputValueRender){var e=t.component,i=(0,n.Z)(e.option("focusedElement")),a=e._getItemData(i);this._updateField(a)}},_updateField:function(t){var e=this._getTemplateByOption("fieldTemplate");if(!e||!this.option("fieldTemplate")){var i=this._displayGetter(t);return this.option("text",i),void this._renderDisplayText(i)}this._renderField()},_getSelectionChangeHandler:function(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):a.ZT},_selectionChangeHandler:function(t){(0,l.S6)(t.addedItems||[],function(t,e){this._setValue(this._valueGetter(e))}.bind(this))},_getActualSearchValue:function(){return this._dataSource.searchValue()},_toggleOpenState:function(t){if(!this.option("disabled")){if(t=arguments.length?t:!this.option("opened"),t||this._shouldClearFilter()||this._restoreInputText(!0),this._wasSearch()&&t){this._wasSearch(!1);var e=this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded();if(e&&this._dataSource){if(this._searchTimer)return;var i=this._getActualSearchValue();i&&this._wasSearch(!0),this._filterDataSource(i||null)}else this._setListOption("items",[])}t&&this._scrollToSelectedItem(),this.callBase(t)}},_renderTooltip:function(){this.option("tooltipEnabled")&&this.$element().attr("title",this.option("displayValue"))},_renderDimensions:function(){this.callBase(),this._dimensionChanged()},_isValueEqualInputText:function(){var t=this.option("selectedItem");if(null===t)return!1;var e=this._displayGetter(t),i=e?String(e):"",n=this._searchValue();return i===n},_popupHidingHandler:function(){this._isValueEqualInputText()&&this._cancelEditing(),this.callBase()},_popupHiddenHandler:function(){this.callBase(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))},_restoreInputText:function(t){this.option("readOnly")||this._loadItemDeferred&&this._loadItemDeferred.always(function(){var e=this.option("selectedItem");this.option("acceptCustomValue")?t||(this._updateField(e),this._clearFilter()):this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")?this._clearTextValue():this._isValueEqualInputText()||this._renderInputValue().always(function(t){var i=(0,a.IS)(t,e);this._setSelectedItem(i),this._updateField(i),this._clearFilter()}.bind(this))}.bind(this))},_focusOutHandler:function(t){if(!this._preventNestedFocusEvent(t)){var e=this._isOverlayNestedTarget(t.relatedTarget);e||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(t)}t.target=this._input().get(0),this.callBase(t)},_cancelSearchIfNeed:function(t){var{searchEnabled:e}=this.option(),i=this._isOverlayNestedTarget(null===t||void 0===t?void 0:t.relatedTarget),n=this._wasSearch()&&e&&!i;if(n){var a,s=null===(a=this._popup)||void 0===a?void 0:a._hideAnimationProcessing;this._clearSearchTimer(),s?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}},_shouldCancelSearch:function(t){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=t},_isOverlayNestedTarget:function(t){return!!(0,n.Z)(t).closest(".".concat(Y)).length},_clearTextValue:function(){this.option("selectedItem")&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent},_shouldOpenPopup:function(){return this._needPassDataSourceToList()&&this._wasSearch()},_isFocused:function(){var t=c["default"].getActiveElement();return this.callBase()&&(0,n.Z)(t).closest(this._input()).length>0},_renderValueChangeEvent:function(){this._isEditable()&&this.callBase()},_fieldRenderData:function(){var t=this._list&&this.option("opened")&&(0,n.Z)(this._list.option("focusedElement"));return t&&t.length?this._list._getItemData(t):this.option("selectedItem")},_isSelectedValue:function(t){return this._isValueEquals(t,this.option("value"))},_shouldCloseOnItemClick:function(){return!(this.option("showSelectionControls")&&"single"!==this.option("selectionMode"))},_listItemClickHandler:function(t){var e=this._getCurrentValue();this._focusListElement((0,n.Z)(t.itemElement)),this._saveValueChangeEvent(t.event),this._completeSelection(this._valueGetter(t.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&e===this._valueGetter(t.itemData)&&this._updateField(t.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()},_shouldClearFilter:function(){return this._wasSearch()},_completeSelection:function(t){this._setValue(t)},_loadItem:function(t,e){var i=this,n=new h.BH;return this.callBase(t,e).done(function(t){n.resolve(t)}.bind(this)).fail(function(e){if(null===e||void 0===e||!e.shouldSkipCallback){var a=i.option("selectedItem");i.option("acceptCustomValue")&&t===i._valueGetter(a)?n.resolve(a):n.reject()}}.bind(this)),n.promise()},_loadInputValue:function(t,e){return this._loadItemDeferred=this._loadItem(t).always(e),this._loadItemDeferred},_isCustomItemSelected:function(){var t=this.option("selectedItem"),e=this._searchValue(),i=this._displayGetter(t);return!i||e!==i.toString()},_valueChangeEventHandler:function(t){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(t),this._isValueChanging=!1)},_initCustomItemCreatingAction:function(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")},_createCustomItem:function(t){var e={text:t},i=this._customItemCreatingAction(e),n=(0,a.IS)(i,e.customItem);return(0,s.$K)(i)&&d.Z.log("W0015","onCustomItemCreating","customItem"),n},_customItemAddedHandler:function(t){var e=this._searchValue(),i=this._createCustomItem(e);if(this._saveValueChangeEvent(t),void 0===i)throw this._renderValue(),d.Z.Error("E0121");(0,s.tI)(i)?(0,h.p4)(i).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(i)},_setCustomItem:function(t){this._disposed||(t=t||null,this.option("selectedItem",t),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(t)),this._renderDisplayText(this._displayGetter(t)))},_clearValueHandler:function(t){return this._preventFiltering=!0,this.callBase(t),this._searchCanceled(),!1},_wasSearch:function(t){if(!arguments.length)return this._wasSearchValue;this._wasSearchValue=t},_searchHandler:function(){this._preventFiltering?delete this._preventFiltering:(this._needPassDataSourceToList()&&this._wasSearch(!0),this.callBase(arguments))},_dataSourceFiltered:function(t){this.callBase(),null!==t&&(this._renderInputSubstitution(),this._renderFocusedElement())},_valueSubstituted:function(){var t=this._input().get(0),e=this._searchValue().length,i=0===t.selectionStart&&t.selectionEnd===e,n=t.selectionStart!==t.selectionEnd,a=e===t.selectionEnd;return this._wasSearch()&&n&&!i&&a&&this._shouldSubstitutionBeRendered()},_shouldSubstitutionBeRendered:function(){return!this._preventSubstitution&&this.option("searchEnabled")&&!this.option("acceptCustomValue")&&"startswith"===this.option("searchMode")},_renderInputSubstitution:function(){if(this._shouldSubstitutionBeRendered()){var t=this._list&&this._getPlainItems(this._list.option("items"))[0];if(t){var e=this._input(),i=e.val().length;if(0!==i){var n=e.get(0),a=this._displayGetter(t).toString();n.value=a,this._caret({start:i,end:a.length})}}}else delete this._preventSubstitution},_dispose:function(){this._renderInputValueAsync=a.ZT,delete this._loadItemDeferred,this.callBase()},_optionChanged:function(t){switch(t.name){case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:this.callBase(t)}}});(0,_.Z)("dxSelectBox",U);var j=U},7053:function(t,e,i){i.d(e,{Z:function(){return b}});var n=i(1229),a=i(803),s=i(1923),o=i(5526),r=i(3908),l=i(9598),h=i(5266),u=i(1177),d=u.Z.inherit({ctor(t,e){this.editor=t,this.validator=e,this.validationRequestsCallbacks=[];var i=t=>{this.validationRequestsCallbacks.forEach((e=>e(t)))};t.validationRequest.add(i),t.on("disposing",(function(){t.validationRequest.remove(i)}))},getValue(){return this.editor.option("value")},getCurrentValidationError(){return this.editor.option("validationError")},bypass(){return this.editor.option("disabled")},applyValidationResults(t){this.editor.option({validationErrors:t.brokenRules,validationStatus:t.status})},reset(){this.editor.reset()},focus(){this.editor.focus()}}),c=d,p=i(1025),_=i(7566),m=i(7814),f="dx-validator",g="valid",v="invalid",C="pending",y=o.Z.inherit({_initOptions:function(t){this.callBase.apply(this,arguments),this.option(h.Z.initValidationOptions(t))},_getDefaultOptions(){return(0,r.l)(this.callBase(),{validationRules:[]})},_init(){this.callBase(),this._initGroupRegistration(),this.focused=(0,a["default"])(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}},_initGroupRegistration(){var t=this._findGroup();this._groupWasInit||this.on("disposing",(function(t){h.Z.removeRegisteredValidator(t.component._validationGroup,t.component)})),this._groupWasInit&&this._validationGroup===t||(h.Z.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=t,h.Z.registerValidatorInGroup(t,this))},_setOptionsByReference(){this.callBase(),(0,r.l)(this._optionsByReference,{validationGroup:!0})},_getEditor(){var t=this.$element()[0];return(0,n.aT)(t,"dx-validation-target")},_initAdapter(){var t=this._getEditor(),e=this.option("adapter");if(!e){if(t)return e=new c(t,this),e.validationRequestsCallbacks.push((t=>{this._validationInfo.skipValidation||this.validate(t)})),void this.option("adapter",e);throw s.Z.Error("E0120")}var i=e.validationRequestsCallbacks;i&&i.push((t=>{this.validate(t)}))},_toggleRTLDirection(t){var e,i,n,a=null!==(e=null===(i=this.option("adapter"))||void 0===i||null===(n=i.editor)||void 0===n?void 0:n.option("rtlEnabled"))&&void 0!==e?e:t;this.callBase(a)},_initMarkup(){this.$element().addClass(f),this.callBase()},_render(){this.callBase(),this._toggleAccessibilityAttributes()},_toggleAccessibilityAttributes(){var t=this._getEditor();if(t){var e=this.option("validationRules")||[],i=e.some((t=>{var{type:e}=t;return"required"===e}))||null;t.isInitialized()&&t.setAria("required",i),t.option("_onMarkupRendered",(()=>{t.setAria("required",i)}))}},_visibilityChanged(t){t&&this._initGroupRegistration()},_optionChanged(t){switch(t.name){case"validationGroup":return void this._initGroupRegistration();case"validationRules":return this._resetValidationRules(),this._toggleAccessibilityAttributes(),void(void 0!==this.option("isValid")&&this.validate());case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(h.Z.synchronizeValidationOptions(t,this.option()));break;default:this.callBase(t)}},_getValidationRules(){return this._validationRules||(this._validationRules=(0,l.UI)(this.option("validationRules"),((t,e)=>(0,r.l)({},t,{validator:this,index:e})))),this._validationRules},_findGroup(){var t=this.$element();return this.option("validationGroup")||h.Z.findGroup(t,this._modelByElement(t))},_resetValidationRules(){delete this._validationRules},validate(t){var e,i=this.option("adapter"),n=this.option("name"),a=i.bypass&&i.bypass(),s=t&&void 0!==t.value?t.value:i.getValue(),o=i.getCurrentValidationError&&i.getCurrentValidationError(),l=this._getValidationRules(),u=this._validationInfo&&this._validationInfo.result;return u&&u.status===C&&u.value===s?(0,r.l)({},u):(a?e={isValid:!0,status:g}:o&&o.editorSpecific?(o.validator=this,e={isValid:!1,status:v,brokenRule:o,brokenRules:[o]}):e=h.Z.validate(s,l,n),e.id=(new m.Z).toString(),this._applyValidationResult(e,i),e.complete&&e.complete.then((t=>{t.id===this._validationInfo.result.id&&this._applyValidationResult(t,i)})),(0,r.l)({},this._validationInfo.result))},reset(){var t=this.option("adapter"),e={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:g,complete:null};this._validationInfo.skipValidation=!0,t.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(e,t)},_updateValidationResult(t){if(this._validationInfo.result&&this._validationInfo.result.id===t.id)for(var e in t)"id"!==e&&"complete"!==e&&(this._validationInfo.result[e]=t[e]);else{var i=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=(0,r.l)({},t,{complete:i})}},_applyValidationResult(t,e){var i=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(t.validator=this,this._updateValidationResult(t),e.applyValidationResults&&e.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status===C)return this._validationInfo.deferred||(this._validationInfo.deferred=new _.BH,this._validationInfo.result.complete=this._validationInfo.deferred.promise()),void this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);this._validationInfo.result.status!==C&&(i(t),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(t),this._validationInfo.deferred=null))},focus(){var t=this.option("adapter");t&&t.focus&&t.focus()},_useTemplates:function(){return!1}});(0,p.Z)("dxValidator",y);var b=y}}]);
//# sourceMappingURL=289.029e6843.js.map