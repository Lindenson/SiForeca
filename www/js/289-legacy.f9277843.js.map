{"version":3,"file":"js/289-legacy.f9277843.js","mappings":"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","sources":["webpack://siforeca/./node_modules/devextreme/esm/events/gesture/swipeable.js","webpack://siforeca/./node_modules/devextreme/esm/renovation/ui/scroll_view/utils/scroll_direction.js","webpack://siforeca/./node_modules/devextreme/esm/ui/box.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_box.mask.parts.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_utils.js","webpack://siforeca/./node_modules/devextreme/esm/ui/calendar/ui.calendar.navigator.js","webpack://siforeca/./node_modules/devextreme/esm/ui/calendar/ui.calendar.base_view.js","webpack://siforeca/./node_modules/devextreme/esm/ui/calendar/ui.calendar.views.js","webpack://siforeca/./node_modules/devextreme/esm/ui/calendar/ui.calendar.js","webpack://siforeca/./node_modules/devextreme/esm/ui/calendar.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_box.strategy.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_box.strategy.calendar.js","webpack://siforeca/./node_modules/devextreme/esm/renovation/ui/scroll_view/utils/convert_location.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_view_roller.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_view.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_box.strategy.date_view.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_box.strategy.native.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.time_view.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_box.strategy.calendar_with_time.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_box.strategy.list.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_box.base.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_box.mask.js","webpack://siforeca/./node_modules/devextreme/esm/ui/date_box/ui.date_box.js","webpack://siforeca/./node_modules/devextreme/esm/ui/drop_down_editor/ui.drop_down_button.js","webpack://siforeca/./node_modules/devextreme/esm/ui/drop_down_editor/ui.drop_down_editor.js","webpack://siforeca/./node_modules/devextreme/esm/ui/drop_down_editor/utils.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/ui.form.items_runtime_info.js","webpack://siforeca/./node_modules/devextreme/esm/ui/multi_view/ui.multi_view.animation.js","webpack://siforeca/./node_modules/devextreme/esm/ui/multi_view.js","webpack://siforeca/./node_modules/devextreme/esm/ui/tabs/item.js","webpack://siforeca/./node_modules/devextreme/esm/ui/tabs/constants.js","webpack://siforeca/./node_modules/devextreme/esm/renovation/ui/scroll_view/utils/get_scroll_left_max.js","webpack://siforeca/./node_modules/devextreme/esm/renovation/ui/scroll_view/utils/get_boundary_props.js","webpack://siforeca/./node_modules/devextreme/esm/ui/tabs.js","webpack://siforeca/./node_modules/devextreme/esm/ui/tab_panel/item.js","webpack://siforeca/./node_modules/devextreme/esm/ui/tab_panel.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/ui.form.item_option_action.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/ui.form.utils.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/ui.form.item_options_actions.js","webpack://siforeca/./node_modules/devextreme/esm/ui/responsive_box.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/constants.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/ui.form.layout_manager.utils.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/components/label.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/components/field_item.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/components/button_item.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/components/empty_item.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/ui.form.layout_manager.js","webpack://siforeca/./node_modules/devextreme/esm/ui/validation_summary.js","webpack://siforeca/./node_modules/devextreme/esm/ui/validation_group.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form/ui.form.js","webpack://siforeca/./node_modules/devextreme/esm/ui/form.js","webpack://siforeca/./node_modules/devextreme/esm/ui/number_box/utils.js","webpack://siforeca/./node_modules/devextreme/esm/ui/number_box/number_box.caret.js","webpack://siforeca/./node_modules/devextreme/esm/ui/number_box/number_box.spin.js","webpack://siforeca/./node_modules/devextreme/esm/ui/number_box/number_box.spins.js","webpack://siforeca/./node_modules/devextreme/esm/ui/number_box/number_box.base.js","webpack://siforeca/./node_modules/devextreme/esm/ui/number_box/number_box.mask.js","webpack://siforeca/./node_modules/devextreme/esm/ui/number_box/number_box.js","webpack://siforeca/./node_modules/devextreme/esm/ui/number_box.js","webpack://siforeca/./node_modules/devextreme/esm/ui/editor/ui.data_expression.js","webpack://siforeca/./node_modules/devextreme/esm/ui/drop_down_editor/ui.drop_down_list.js","webpack://siforeca/./node_modules/devextreme/esm/ui/select_box.js","webpack://siforeca/./node_modules/devextreme/esm/ui/validation/default_adapter.js","webpack://siforeca/./node_modules/devextreme/esm/ui/validator.js"],"sourcesContent":["/**\r\n * DevExtreme (esm/events/gesture/swipeable.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    start as swipeEventStart,\r\n    swipe as swipeEventSwipe,\r\n    end as swipeEventEnd\r\n} from \"../swipe\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport DOMComponent from \"../../core/dom_component\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    addNamespace\r\n} from \"../utils/index\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    name\r\n} from \"../../core/utils/public_component\";\r\nvar DX_SWIPEABLE = \"dxSwipeable\";\r\nvar SWIPEABLE_CLASS = \"dx-swipeable\";\r\nvar ACTION_TO_EVENT_MAP = {\r\n    onStart: swipeEventStart,\r\n    onUpdated: swipeEventSwipe,\r\n    onEnd: swipeEventEnd,\r\n    onCancel: \"dxswipecancel\"\r\n};\r\nvar Swipeable = DOMComponent.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            elastic: true,\r\n            immediate: false,\r\n            direction: \"horizontal\",\r\n            itemSizeFunc: null,\r\n            onStart: null,\r\n            onUpdated: null,\r\n            onEnd: null,\r\n            onCancel: null\r\n        })\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this.$element().addClass(SWIPEABLE_CLASS);\r\n        this._attachEventHandlers()\r\n    },\r\n    _attachEventHandlers: function() {\r\n        this._detachEventHandlers();\r\n        if (this.option(\"disabled\")) {\r\n            return\r\n        }\r\n        var NAME = this.NAME;\r\n        this._createEventData();\r\n        each(ACTION_TO_EVENT_MAP, function(actionName, eventName) {\r\n            var action = this._createActionByOption(actionName, {\r\n                context: this\r\n            });\r\n            eventName = addNamespace(eventName, NAME);\r\n            eventsEngine.on(this.$element(), eventName, this._eventData, (function(e) {\r\n                return action({\r\n                    event: e\r\n                })\r\n            }))\r\n        }.bind(this))\r\n    },\r\n    _createEventData: function() {\r\n        this._eventData = {\r\n            elastic: this.option(\"elastic\"),\r\n            itemSizeFunc: this.option(\"itemSizeFunc\"),\r\n            direction: this.option(\"direction\"),\r\n            immediate: this.option(\"immediate\")\r\n        }\r\n    },\r\n    _detachEventHandlers: function() {\r\n        eventsEngine.off(this.$element(), \".\" + DX_SWIPEABLE)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"disabled\":\r\n            case \"onStart\":\r\n            case \"onUpdated\":\r\n            case \"onEnd\":\r\n            case \"onCancel\":\r\n            case \"elastic\":\r\n            case \"immediate\":\r\n            case \"itemSizeFunc\":\r\n            case \"direction\":\r\n                this._detachEventHandlers();\r\n                this._attachEventHandlers();\r\n                break;\r\n            case \"rtlEnabled\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _useTemplates: function() {\r\n        return false\r\n    }\r\n});\r\nname(Swipeable, DX_SWIPEABLE);\r\nexport default Swipeable;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/scroll_view/utils/scroll_direction.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    DIRECTION_VERTICAL,\r\n    DIRECTION_HORIZONTAL,\r\n    DIRECTION_BOTH\r\n} from \"../common/consts\";\r\nexport class ScrollDirection {\r\n    constructor(direction) {\r\n        this.DIRECTION_HORIZONTAL = \"horizontal\";\r\n        this.DIRECTION_VERTICAL = \"vertical\";\r\n        this.DIRECTION_BOTH = \"both\";\r\n        this.direction = null !== direction && void 0 !== direction ? direction : DIRECTION_VERTICAL\r\n    }\r\n    get isHorizontal() {\r\n        return this.direction === DIRECTION_HORIZONTAL || this.direction === DIRECTION_BOTH\r\n    }\r\n    get isVertical() {\r\n        return this.direction === DIRECTION_VERTICAL || this.direction === DIRECTION_BOTH\r\n    }\r\n    get isBoth() {\r\n        return this.direction === DIRECTION_BOTH\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/box.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport {\r\n    hasWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    dasherize\r\n} from \"../core/utils/inflector\";\r\nimport {\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport {\r\n    normalizeStyleProp,\r\n    styleProp,\r\n    stylePropPrefix\r\n} from \"../core/utils/style\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    getWidth,\r\n    setWidth,\r\n    getHeight,\r\n    setHeight\r\n} from \"../core/utils/size\";\r\nimport CollectionWidgetItem from \"./collection/item\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nvar BOX_CLASS = \"dx-box\";\r\nvar BOX_SELECTOR = \".dx-box\";\r\nvar BOX_ITEM_CLASS = \"dx-box-item\";\r\nvar BOX_ITEM_DATA_KEY = \"dxBoxItemData\";\r\nvar MINSIZE_MAP = {\r\n    row: \"minWidth\",\r\n    col: \"minHeight\"\r\n};\r\nvar MAXSIZE_MAP = {\r\n    row: \"maxWidth\",\r\n    col: \"maxHeight\"\r\n};\r\nvar SHRINK = 1;\r\nvar FLEX_JUSTIFY_CONTENT_MAP = {\r\n    start: \"flex-start\",\r\n    end: \"flex-end\",\r\n    center: \"center\",\r\n    \"space-between\": \"space-between\",\r\n    \"space-around\": \"space-around\"\r\n};\r\nvar FLEX_ALIGN_ITEMS_MAP = {\r\n    start: \"flex-start\",\r\n    end: \"flex-end\",\r\n    center: \"center\",\r\n    stretch: \"stretch\"\r\n};\r\nvar FLEX_DIRECTION_MAP = {\r\n    row: \"row\",\r\n    col: \"column\"\r\n};\r\nvar setFlexProp = (element, prop, value) => {\r\n    value = normalizeStyleProp(prop, value);\r\n    element.style[styleProp(prop)] = value;\r\n    if (!hasWindow()) {\r\n        if (\"\" === value || !isDefined(value)) {\r\n            return\r\n        }\r\n        var cssName = dasherize(prop);\r\n        var styleExpr = cssName + \": \" + value + \";\";\r\n        if (!element.attributes.style) {\r\n            element.setAttribute(\"style\", styleExpr)\r\n        } else if (element.attributes.style.value.indexOf(styleExpr) < 0) {\r\n            element.attributes.style.value += \" \" + styleExpr\r\n        }\r\n    }\r\n};\r\nvar BOX_EVENTNAMESPACE = \"dxBox\";\r\nvar UPDATE_EVENT = \"dxupdate.\" + BOX_EVENTNAMESPACE;\r\nvar FALLBACK_BOX_ITEM = \"dx-box-fallback-item\";\r\nvar FALLBACK_WRAP_MAP = {\r\n    row: \"nowrap\",\r\n    col: \"normal\"\r\n};\r\nvar FALLBACK_MAIN_SIZE_MAP = {\r\n    row: {\r\n        name: \"width\",\r\n        getter: getWidth,\r\n        setter: setWidth\r\n    },\r\n    col: {\r\n        name: \"height\",\r\n        getter: getHeight,\r\n        setter: setHeight\r\n    }\r\n};\r\nvar FALLBACK_CROSS_SIZE_MAP = {\r\n    row: FALLBACK_MAIN_SIZE_MAP.col,\r\n    col: FALLBACK_MAIN_SIZE_MAP.row\r\n};\r\nvar FALLBACK_PRE_MARGIN_MAP = {\r\n    row: \"marginLeft\",\r\n    col: \"marginTop\"\r\n};\r\nvar FALLBACK_POST_MARGIN_MAP = {\r\n    row: \"marginRight\",\r\n    col: \"marginBottom\"\r\n};\r\nvar FALLBACK_CROSS_PRE_MARGIN_MAP = {\r\n    row: \"marginTop\",\r\n    col: \"marginLeft\"\r\n};\r\nvar FALLBACK_CROSS_POST_MARGIN_MAP = {\r\n    row: \"marginBottom\",\r\n    col: \"marginRight\"\r\n};\r\nvar MARGINS_RTL_FLIP_MAP = {\r\n    marginLeft: \"marginRight\",\r\n    marginRight: \"marginLeft\"\r\n};\r\nclass BoxItem extends CollectionWidgetItem {\r\n    _renderVisible(value, oldValue) {\r\n        super._renderVisible(value);\r\n        if (isDefined(oldValue)) {\r\n            this._options.fireItemStateChangedAction({\r\n                name: \"visible\",\r\n                state: value,\r\n                oldState: oldValue\r\n            })\r\n        }\r\n    }\r\n}\r\nclass FlexLayoutStrategy {\r\n    constructor($element, option) {\r\n        this._$element = $element;\r\n        this._option = option;\r\n        this.initSize = noop;\r\n        this.update = noop\r\n    }\r\n    renderBox() {\r\n        this._$element.css({\r\n            display: stylePropPrefix(\"flexDirection\") + \"flex\"\r\n        });\r\n        setFlexProp(this._$element.get(0), \"flexDirection\", FLEX_DIRECTION_MAP[this._option(\"direction\")])\r\n    }\r\n    renderAlign() {\r\n        this._$element.css({\r\n            justifyContent: this._normalizedAlign()\r\n        })\r\n    }\r\n    _normalizedAlign() {\r\n        var align = this._option(\"align\");\r\n        return align in FLEX_JUSTIFY_CONTENT_MAP ? FLEX_JUSTIFY_CONTENT_MAP[align] : align\r\n    }\r\n    renderCrossAlign() {\r\n        this._$element.css({\r\n            alignItems: this._normalizedCrossAlign()\r\n        })\r\n    }\r\n    _normalizedCrossAlign() {\r\n        var crossAlign = this._option(\"crossAlign\");\r\n        return crossAlign in FLEX_ALIGN_ITEMS_MAP ? FLEX_ALIGN_ITEMS_MAP[crossAlign] : crossAlign\r\n    }\r\n    renderItems($items) {\r\n        var flexPropPrefix = stylePropPrefix(\"flexDirection\");\r\n        var direction = this._option(\"direction\");\r\n        each($items, (function() {\r\n            var $item = $(this);\r\n            var item = $item.data(BOX_ITEM_DATA_KEY);\r\n            $item.css({\r\n                display: flexPropPrefix + \"flex\"\r\n            }).css(MAXSIZE_MAP[direction], item.maxSize || \"none\").css(MINSIZE_MAP[direction], item.minSize || \"0\");\r\n            setFlexProp($item.get(0), \"flexBasis\", item.baseSize || 0);\r\n            setFlexProp($item.get(0), \"flexGrow\", item.ratio);\r\n            setFlexProp($item.get(0), \"flexShrink\", isDefined(item.shrink) ? item.shrink : SHRINK);\r\n            $item.children().each((_, itemContent) => {\r\n                $(itemContent).css({\r\n                    width: \"auto\",\r\n                    height: \"auto\",\r\n                    display: stylePropPrefix(\"flexDirection\") + \"flex\",\r\n                    flexBasis: 0\r\n                });\r\n                setFlexProp(itemContent, \"flexGrow\", 1);\r\n                setFlexProp(itemContent, \"flexDirection\", $(itemContent)[0].style.flexDirection || \"column\")\r\n            })\r\n        }))\r\n    }\r\n}\r\nclass FallbackLayoutStrategy {\r\n    constructor($element, option) {\r\n        this._$element = $element;\r\n        this._option = option\r\n    }\r\n    renderBox() {\r\n        this._$element.css({\r\n            fontSize: 0,\r\n            whiteSpace: FALLBACK_WRAP_MAP[this._option(\"direction\")],\r\n            verticalAlign: \"top\"\r\n        });\r\n        eventsEngine.off(this._$element, UPDATE_EVENT);\r\n        eventsEngine.on(this._$element, UPDATE_EVENT, this.update.bind(this))\r\n    }\r\n    renderAlign() {\r\n        var $items = this._$items;\r\n        if (!$items) {\r\n            return\r\n        }\r\n        var align = this._option(\"align\");\r\n        var totalItemSize = this.totalItemSize;\r\n        var direction = this._option(\"direction\");\r\n        var boxSize = FALLBACK_MAIN_SIZE_MAP[direction].getter(this._$element);\r\n        var freeSpace = boxSize - totalItemSize;\r\n        var shift = 0;\r\n        this._setItemsMargins($items, direction, 0);\r\n        switch (align) {\r\n            case \"start\":\r\n                break;\r\n            case \"end\":\r\n                shift = freeSpace;\r\n                $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift);\r\n                break;\r\n            case \"center\":\r\n                shift = .5 * freeSpace;\r\n                $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift);\r\n                $items.last().css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), shift);\r\n                break;\r\n            case \"space-between\":\r\n                shift = .5 * freeSpace / ($items.length - 1);\r\n                this._setItemsMargins($items, direction, shift);\r\n                $items.first().css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), 0);\r\n                $items.last().css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), 0);\r\n                break;\r\n            case \"space-around\":\r\n                shift = .5 * freeSpace / $items.length;\r\n                this._setItemsMargins($items, direction, shift)\r\n        }\r\n    }\r\n    _setItemsMargins($items, direction, shift) {\r\n        $items.css(this._chooseMarginSide(FALLBACK_PRE_MARGIN_MAP[direction]), shift).css(this._chooseMarginSide(FALLBACK_POST_MARGIN_MAP[direction]), shift)\r\n    }\r\n    renderCrossAlign() {\r\n        var $items = this._$items;\r\n        if (!$items) {\r\n            return\r\n        }\r\n        var crossAlign = this._option(\"crossAlign\");\r\n        var direction = this._option(\"direction\");\r\n        var size = FALLBACK_CROSS_SIZE_MAP[direction].getter(this._$element);\r\n        var that = this;\r\n        switch (crossAlign) {\r\n            case \"start\":\r\n                break;\r\n            case \"end\":\r\n                each($items, (function() {\r\n                    var $item = $(this);\r\n                    var itemSize = FALLBACK_CROSS_SIZE_MAP[direction].getter($item);\r\n                    var shift = size - itemSize;\r\n                    $item.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), shift)\r\n                }));\r\n                break;\r\n            case \"center\":\r\n                each($items, (function() {\r\n                    var $item = $(this);\r\n                    var itemSize = FALLBACK_CROSS_SIZE_MAP[direction].getter($item);\r\n                    var shift = .5 * (size - itemSize);\r\n                    $item.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), shift).css(that._chooseMarginSide(FALLBACK_CROSS_POST_MARGIN_MAP[direction]), shift)\r\n                }));\r\n                break;\r\n            case \"stretch\":\r\n                $items.css(that._chooseMarginSide(FALLBACK_CROSS_PRE_MARGIN_MAP[direction]), 0).css(that._chooseMarginSide(FALLBACK_CROSS_POST_MARGIN_MAP[direction]), 0).css(FALLBACK_CROSS_SIZE_MAP[direction].name, \"100%\")\r\n        }\r\n    }\r\n    _chooseMarginSide(value) {\r\n        if (!this._option(\"rtlEnabled\")) {\r\n            return value\r\n        }\r\n        return MARGINS_RTL_FLIP_MAP[value] || value\r\n    }\r\n    renderItems($items) {\r\n        this._$items = $items;\r\n        var direction = this._option(\"direction\");\r\n        var totalRatio = 0;\r\n        var totalWeightedShrink = 0;\r\n        var totalBaseSize = 0;\r\n        each($items, (_, item) => {\r\n            var $item = $(item);\r\n            $item.css({\r\n                display: \"inline-block\",\r\n                verticalAlign: \"top\"\r\n            });\r\n            FALLBACK_MAIN_SIZE_MAP[direction].setter($item, \"auto\");\r\n            $item.removeClass(FALLBACK_BOX_ITEM);\r\n            var itemData = $item.data(BOX_ITEM_DATA_KEY);\r\n            var ratio = itemData.ratio || 0;\r\n            var size = this._baseSize($item);\r\n            var shrink = isDefined(itemData.shrink) ? itemData.shrink : SHRINK;\r\n            totalRatio += ratio;\r\n            totalWeightedShrink += shrink * size;\r\n            totalBaseSize += size\r\n        });\r\n        var freeSpaceSize = this._boxSize() - totalBaseSize;\r\n        var itemSize = $item => {\r\n            var itemData = $item.data(BOX_ITEM_DATA_KEY);\r\n            var size = this._baseSize($item);\r\n            var factor = freeSpaceSize >= 0 ? itemData.ratio || 0 : (isDefined(itemData.shrink) ? itemData.shrink : SHRINK) * size;\r\n            var totalFactor = freeSpaceSize >= 0 ? totalRatio : totalWeightedShrink;\r\n            var shift = totalFactor ? Math.round(freeSpaceSize * factor / totalFactor) : 0;\r\n            return size + shift\r\n        };\r\n        var totalItemSize = 0;\r\n        each($items, (_, item) => {\r\n            var $item = $(item);\r\n            var itemData = $(item).data(BOX_ITEM_DATA_KEY);\r\n            var size = itemSize($item);\r\n            totalItemSize += size;\r\n            $item.css(MAXSIZE_MAP[direction], itemData.maxSize || \"none\").css(MINSIZE_MAP[direction], itemData.minSize || \"0\").css(FALLBACK_MAIN_SIZE_MAP[direction].name, size);\r\n            $item.addClass(FALLBACK_BOX_ITEM)\r\n        });\r\n        this.totalItemSize = totalItemSize\r\n    }\r\n    _baseSize(item) {\r\n        var itemData = $(item).data(BOX_ITEM_DATA_KEY);\r\n        return null == itemData.baseSize ? 0 : \"auto\" === itemData.baseSize ? this._contentSize(item) : this._parseSize(itemData.baseSize)\r\n    }\r\n    _contentSize(item) {\r\n        return FALLBACK_MAIN_SIZE_MAP[this._option(\"direction\")].getter($(item))\r\n    }\r\n    _parseSize(size) {\r\n        return String(size).match(/.+%$/) ? .01 * parseFloat(size) * this._boxSizeValue : size\r\n    }\r\n    _boxSize(value) {\r\n        if (!arguments.length) {\r\n            this._boxSizeValue = this._boxSizeValue || this._totalBaseSize();\r\n            return this._boxSizeValue\r\n        }\r\n        this._boxSizeValue = value\r\n    }\r\n    _totalBaseSize() {\r\n        var result = 0;\r\n        each(this._$items, (_, item) => {\r\n            result += this._baseSize(item)\r\n        });\r\n        return result\r\n    }\r\n    initSize() {\r\n        this._boxSize(FALLBACK_MAIN_SIZE_MAP[this._option(\"direction\")].getter(this._$element))\r\n    }\r\n    update() {\r\n        if (!this._$items || this._$element.is(\":hidden\")) {\r\n            return\r\n        }\r\n        this._$items.detach();\r\n        this.initSize();\r\n        this._$element.append(this._$items);\r\n        this.renderItems(this._$items);\r\n        this.renderAlign();\r\n        this.renderCrossAlign();\r\n        var element = this._$element.get(0);\r\n        this._$items.find(BOX_SELECTOR).each((function() {\r\n            if (element === $(this).parent().closest(BOX_SELECTOR).get(0)) {\r\n                eventsEngine.triggerHandler(this, UPDATE_EVENT)\r\n            }\r\n        }))\r\n    }\r\n}\r\nclass Box extends CollectionWidget {\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            direction: \"row\",\r\n            align: \"start\",\r\n            crossAlign: \"stretch\",\r\n            activeStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            onItemStateChanged: void 0,\r\n            _layoutStrategy: \"flex\",\r\n            _queue: void 0\r\n        })\r\n    }\r\n    _itemClass() {\r\n        return BOX_ITEM_CLASS\r\n    }\r\n    _itemDataKey() {\r\n        return BOX_ITEM_DATA_KEY\r\n    }\r\n    _itemElements() {\r\n        return this._itemContainer().children(this._itemSelector())\r\n    }\r\n    _init() {\r\n        super._init();\r\n        this.$element().addClass(\"\".concat(BOX_CLASS, \"-\").concat(this.option(\"_layoutStrategy\")));\r\n        this._initLayout();\r\n        this._initBoxQueue()\r\n    }\r\n    _initLayout() {\r\n        this._layout = \"fallback\" === this.option(\"_layoutStrategy\") ? new FallbackLayoutStrategy(this.$element(), this.option.bind(this)) : new FlexLayoutStrategy(this.$element(), this.option.bind(this))\r\n    }\r\n    _initBoxQueue() {\r\n        this._queue = this.option(\"_queue\") || []\r\n    }\r\n    _queueIsNotEmpty() {\r\n        return this.option(\"_queue\") ? false : !!this._queue.length\r\n    }\r\n    _pushItemToQueue($item, config) {\r\n        this._queue.push({\r\n            $item: $item,\r\n            config: config\r\n        })\r\n    }\r\n    _shiftItemFromQueue() {\r\n        return this._queue.shift()\r\n    }\r\n    _initMarkup() {\r\n        this.$element().addClass(BOX_CLASS);\r\n        this._layout.renderBox();\r\n        super._initMarkup();\r\n        this._renderAlign();\r\n        this._renderActions()\r\n    }\r\n    _renderActions() {\r\n        this._onItemStateChanged = this._createActionByOption(\"onItemStateChanged\")\r\n    }\r\n    _renderAlign() {\r\n        this._layout.renderAlign();\r\n        this._layout.renderCrossAlign()\r\n    }\r\n    _renderItems(items) {\r\n        this._layout.initSize();\r\n        super._renderItems(items);\r\n        while (this._queueIsNotEmpty()) {\r\n            var item = this._shiftItemFromQueue();\r\n            this._createComponent(item.$item, Box, extend({\r\n                _layoutStrategy: this.option(\"_layoutStrategy\"),\r\n                itemTemplate: this.option(\"itemTemplate\"),\r\n                itemHoldTimeout: this.option(\"itemHoldTimeout\"),\r\n                onItemHold: this.option(\"onItemHold\"),\r\n                onItemClick: this.option(\"onItemClick\"),\r\n                onItemContextMenu: this.option(\"onItemContextMenu\"),\r\n                onItemRendered: this.option(\"onItemRendered\"),\r\n                _queue: this._queue\r\n            }, item.config))\r\n        }\r\n        this._layout.renderItems(this._itemElements());\r\n        clearTimeout(this._updateTimer);\r\n        this._updateTimer = setTimeout(() => {\r\n            if (!this._isUpdated) {\r\n                this._layout.update()\r\n            }\r\n            this._isUpdated = false;\r\n            this._updateTimer = null\r\n        })\r\n    }\r\n    _renderItemContent(args) {\r\n        var $itemNode = args.itemData && args.itemData.node;\r\n        if ($itemNode) {\r\n            return this._renderItemContentByNode(args, $itemNode)\r\n        }\r\n        return super._renderItemContent(args)\r\n    }\r\n    _postprocessRenderItem(args) {\r\n        var boxConfig = args.itemData.box;\r\n        if (!boxConfig) {\r\n            return\r\n        }\r\n        this._pushItemToQueue(args.itemContent, boxConfig)\r\n    }\r\n    _createItemByTemplate(itemTemplate, args) {\r\n        if (args.itemData.box) {\r\n            return itemTemplate.source ? itemTemplate.source() : $()\r\n        }\r\n        return super._createItemByTemplate(itemTemplate, args)\r\n    }\r\n    _visibilityChanged(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    }\r\n    _dimensionChanged() {\r\n        if (this._updateTimer) {\r\n            return\r\n        }\r\n        this._isUpdated = true;\r\n        this._layout.update()\r\n    }\r\n    _dispose() {\r\n        clearTimeout(this._updateTimer);\r\n        super._dispose.apply(this, arguments)\r\n    }\r\n    _itemOptionChanged(item, property, value, oldValue) {\r\n        if (\"visible\" === property) {\r\n            this._onItemStateChanged({\r\n                name: property,\r\n                state: value,\r\n                oldState: false !== oldValue\r\n            })\r\n        }\r\n        super._itemOptionChanged(item, property, value)\r\n    }\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"_layoutStrategy\":\r\n            case \"_queue\":\r\n            case \"direction\":\r\n                this._invalidate();\r\n                break;\r\n            case \"align\":\r\n                this._layout.renderAlign();\r\n                break;\r\n            case \"crossAlign\":\r\n                this._layout.renderCrossAlign();\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n    _itemOptions() {\r\n        var options = super._itemOptions();\r\n        options.fireItemStateChangedAction = e => {\r\n            this._onItemStateChanged(e)\r\n        };\r\n        return options\r\n    }\r\n    repaint() {\r\n        this._dimensionChanged()\r\n    }\r\n}\r\nBox.ItemClass = BoxItem;\r\nregisterComponent(\"dxBox\", Box);\r\nexport default Box;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_box.mask.parts.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getPatternSetters\r\n} from \"../../localization/ldml/date.parser\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    fitIntoRange\r\n} from \"../../core/utils/math\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nvar monthGetter = date => date.getMonth() + 1;\r\nvar monthSetter = (date, value) => {\r\n    var day = date.getDate();\r\n    var monthLimits = getLimits(\"M\", date);\r\n    var newValue = fitIntoRange(parseInt(value), monthLimits.min, monthLimits.max);\r\n    date.setMonth(newValue - 1, 1);\r\n    var {\r\n        min: min,\r\n        max: max\r\n    } = getLimits(\"dM\", date);\r\n    var newDay = fitIntoRange(day, min, max);\r\n    date.setDate(newDay)\r\n};\r\nvar PATTERN_GETTERS = {\r\n    a: date => date.getHours() < 12 ? 0 : 1,\r\n    E: \"getDay\",\r\n    y: \"getFullYear\",\r\n    M: monthGetter,\r\n    L: monthGetter,\r\n    d: \"getDate\",\r\n    H: \"getHours\",\r\n    h: \"getHours\",\r\n    m: \"getMinutes\",\r\n    s: \"getSeconds\",\r\n    S: \"getMilliseconds\"\r\n};\r\nvar PATTERN_SETTERS = extend({}, getPatternSetters(), {\r\n    a: (date, value) => {\r\n        var hours = date.getHours();\r\n        var current = hours >= 12;\r\n        if (current === !!parseInt(value)) {\r\n            return\r\n        }\r\n        date.setHours((hours + 12) % 24)\r\n    },\r\n    d: (date, value) => {\r\n        var lastDayInMonth = getLimits(\"dM\", date).max;\r\n        if (value > lastDayInMonth) {\r\n            date.setMonth(date.getMonth() + 1)\r\n        }\r\n        date.setDate(value)\r\n    },\r\n    h: (date, value) => {\r\n        var isPM = date.getHours() >= 12;\r\n        date.setHours(+value % 12 + (isPM ? 12 : 0))\r\n    },\r\n    M: monthSetter,\r\n    L: monthSetter,\r\n    E: (date, value) => {\r\n        if (value < 0) {\r\n            return\r\n        }\r\n        date.setDate(date.getDate() - date.getDay() + parseInt(value))\r\n    },\r\n    y: (date, value) => {\r\n        var currentYear = date.getFullYear();\r\n        var valueLength = String(value).length;\r\n        var maxLimitLength = String(getLimits(\"y\", date).max).length;\r\n        var newValue = parseInt(String(currentYear).substr(0, maxLimitLength - valueLength) + value);\r\n        date.setFullYear(newValue)\r\n    }\r\n});\r\nvar getPatternGetter = patternChar => PATTERN_GETTERS[patternChar] || (() => patternChar);\r\nexport var renderDateParts = (text, regExpInfo) => {\r\n    var result = regExpInfo.regexp.exec(text);\r\n    var start = 0;\r\n    var end = 0;\r\n    var sections = [];\r\n    var _loop = function(i) {\r\n        start = end;\r\n        end = start + result[i].length;\r\n        var pattern = regExpInfo.patterns[i - 1].replace(/^'|'$/g, \"\");\r\n        var getter = getPatternGetter(pattern[0]);\r\n        sections.push({\r\n            index: i - 1,\r\n            isStub: pattern === result[i],\r\n            caret: {\r\n                start: start,\r\n                end: end\r\n            },\r\n            pattern: pattern,\r\n            text: result[i],\r\n            limits: function() {\r\n                for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n                    args[_key] = arguments[_key]\r\n                }\r\n                return getLimits(pattern[0], ...args)\r\n            },\r\n            setter: PATTERN_SETTERS[pattern[0]] || noop,\r\n            getter: getter\r\n        })\r\n    };\r\n    for (var i = 1; i < result.length; i++) {\r\n        _loop(i)\r\n    }\r\n    return sections\r\n};\r\nvar getLimits = (pattern, date, forcedPattern) => {\r\n    var limits = {\r\n        y: {\r\n            min: 0,\r\n            max: 9999\r\n        },\r\n        M: {\r\n            min: 1,\r\n            max: 12\r\n        },\r\n        L: {\r\n            min: 1,\r\n            max: 12\r\n        },\r\n        d: {\r\n            min: 1,\r\n            max: 31\r\n        },\r\n        dM: {\r\n            min: 1,\r\n            max: new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate()\r\n        },\r\n        E: {\r\n            min: 0,\r\n            max: 6\r\n        },\r\n        H: {\r\n            min: 0,\r\n            max: 23\r\n        },\r\n        h: {\r\n            min: 0,\r\n            max: 23\r\n        },\r\n        m: {\r\n            min: 0,\r\n            max: 59\r\n        },\r\n        s: {\r\n            min: 0,\r\n            max: 59\r\n        },\r\n        S: {\r\n            min: 0,\r\n            max: 999\r\n        },\r\n        a: {\r\n            min: 0,\r\n            max: 1\r\n        }\r\n    };\r\n    return limits[forcedPattern || pattern] || limits.getAmPm\r\n};\r\nexport var getDatePartIndexByPosition = (dateParts, position) => {\r\n    for (var i = 0; i < dateParts.length; i++) {\r\n        var caretInGroup = dateParts[i].caret.end >= position;\r\n        if (!dateParts[i].isStub && caretInGroup) {\r\n            return i\r\n        }\r\n    }\r\n    return null\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_utils.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport dateSerialization from \"../../core/utils/date_serialization\";\r\nimport {\r\n    isDate\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport dateLocalization from \"../../localization/date\";\r\nvar DATE_COMPONENTS = [\"year\", \"day\", \"month\", \"day\"];\r\nvar TIME_COMPONENTS = [\"hours\", \"minutes\", \"seconds\", \"milliseconds\"];\r\nvar ONE_MINUTE = 6e4;\r\nvar ONE_DAY = 60 * ONE_MINUTE * 24;\r\nvar ONE_YEAR = 365 * ONE_DAY;\r\nvar getStringFormat = function(format) {\r\n    var formatType = typeof format;\r\n    if (\"string\" === formatType) {\r\n        return \"format\"\r\n    }\r\n    if (\"object\" === formatType && void 0 !== format.type) {\r\n        return format.type\r\n    }\r\n    return null\r\n};\r\nvar dateUtils = {\r\n    SUPPORTED_FORMATS: [\"date\", \"time\", \"datetime\"],\r\n    ONE_MINUTE: ONE_MINUTE,\r\n    ONE_DAY: ONE_DAY,\r\n    ONE_YEAR: ONE_YEAR,\r\n    MIN_DATEVIEW_DEFAULT_DATE: new Date(1900, 0, 1),\r\n    MAX_DATEVIEW_DEFAULT_DATE: function() {\r\n        var newDate = new Date;\r\n        return new Date(newDate.getFullYear() + 50, newDate.getMonth(), newDate.getDate(), 23, 59, 59)\r\n    }(),\r\n    FORMATS_INFO: {\r\n        date: {\r\n            getStandardPattern: function() {\r\n                return \"yyyy-MM-dd\"\r\n            },\r\n            components: DATE_COMPONENTS\r\n        },\r\n        time: {\r\n            getStandardPattern: function() {\r\n                return \"HH:mm\"\r\n            },\r\n            components: TIME_COMPONENTS\r\n        },\r\n        datetime: {\r\n            getStandardPattern: function() {\r\n                var standardPattern;\r\n                ! function() {\r\n                    var $input = $(\"<input>\").attr(\"type\", \"datetime\");\r\n                    $input.val(\"2000-01-01T01:01Z\");\r\n                    if ($input.val()) {\r\n                        standardPattern = \"yyyy-MM-ddTHH:mmZ\"\r\n                    }\r\n                }();\r\n                if (!standardPattern) {\r\n                    standardPattern = \"yyyy-MM-ddTHH:mm:ssZ\"\r\n                }\r\n                dateUtils.FORMATS_INFO.datetime.getStandardPattern = function() {\r\n                    return standardPattern\r\n                };\r\n                return standardPattern\r\n            },\r\n            components: [...DATE_COMPONENTS, ...TIME_COMPONENTS]\r\n        },\r\n        \"datetime-local\": {\r\n            getStandardPattern: function() {\r\n                return \"yyyy-MM-ddTHH:mm:ss\"\r\n            },\r\n            components: [...DATE_COMPONENTS, \"hours\", \"minutes\", \"seconds\"]\r\n        }\r\n    },\r\n    FORMATS_MAP: {\r\n        date: \"shortdate\",\r\n        time: \"shorttime\",\r\n        datetime: \"shortdateshorttime\"\r\n    },\r\n    SUBMIT_FORMATS_MAP: {\r\n        date: \"date\",\r\n        time: \"time\",\r\n        datetime: \"datetime-local\"\r\n    },\r\n    toStandardDateFormat: function(date, type) {\r\n        var pattern = dateUtils.FORMATS_INFO[type].getStandardPattern();\r\n        return dateSerialization.serializeDate(date, pattern)\r\n    },\r\n    fromStandardDateFormat: function(text) {\r\n        var date = dateSerialization.dateParser(text);\r\n        return isDate(date) ? date : void 0\r\n    },\r\n    getMaxMonthDay: function(year, month) {\r\n        return new Date(year, month + 1, 0).getDate()\r\n    },\r\n    mergeDates: function(oldValue, newValue, format) {\r\n        if (!newValue) {\r\n            return newValue || null\r\n        }\r\n        if (!oldValue || isNaN(oldValue.getTime())) {\r\n            var now = new Date(null);\r\n            oldValue = new Date(now.getFullYear(), now.getMonth(), now.getDate())\r\n        }\r\n        var result = new Date(oldValue.valueOf());\r\n        var formatInfo = dateUtils.FORMATS_INFO[format];\r\n        each(formatInfo.components, (function() {\r\n            var componentInfo = dateUtils.DATE_COMPONENTS_INFO[this];\r\n            result[componentInfo.setter](newValue[componentInfo.getter]())\r\n        }));\r\n        return result\r\n    },\r\n    getLongestCaptionIndex: function(captionArray) {\r\n        var longestIndex = 0;\r\n        var longestCaptionLength = 0;\r\n        var i;\r\n        for (i = 0; i < captionArray.length; ++i) {\r\n            if (captionArray[i].length > longestCaptionLength) {\r\n                longestIndex = i;\r\n                longestCaptionLength = captionArray[i].length\r\n            }\r\n        }\r\n        return longestIndex\r\n    },\r\n    formatUsesMonthName: function(format) {\r\n        return dateLocalization.formatUsesMonthName(format)\r\n    },\r\n    formatUsesDayName: function(format) {\r\n        return dateLocalization.formatUsesDayName(format)\r\n    },\r\n    getLongestDate: function(format, monthNames, dayNames) {\r\n        var stringFormat = getStringFormat(format);\r\n        var month = 9;\r\n        if (!stringFormat || dateUtils.formatUsesMonthName(stringFormat)) {\r\n            month = dateUtils.getLongestCaptionIndex(monthNames)\r\n        }\r\n        var longestDate = new Date(1888, month, 21, 23, 59, 59, 999);\r\n        if (!stringFormat || dateUtils.formatUsesDayName(stringFormat)) {\r\n            var date = longestDate.getDate() - longestDate.getDay() + dateUtils.getLongestCaptionIndex(dayNames);\r\n            longestDate.setDate(date)\r\n        }\r\n        return longestDate\r\n    },\r\n    normalizeTime: function(date) {\r\n        date.setSeconds(0);\r\n        date.setMilliseconds(0)\r\n    }\r\n};\r\ndateUtils.DATE_COMPONENTS_INFO = {\r\n    year: {\r\n        getter: \"getFullYear\",\r\n        setter: \"setFullYear\",\r\n        formatter: function(value, date) {\r\n            var formatDate = new Date(date.getTime());\r\n            formatDate.setFullYear(value);\r\n            return dateLocalization.format(formatDate, \"yyyy\")\r\n        },\r\n        startValue: void 0,\r\n        endValue: void 0\r\n    },\r\n    day: {\r\n        getter: \"getDate\",\r\n        setter: \"setDate\",\r\n        formatter: function(value, date) {\r\n            var formatDate = new Date(date.getTime());\r\n            formatDate.setDate(value);\r\n            return dateLocalization.format(formatDate, \"d\")\r\n        },\r\n        startValue: 1,\r\n        endValue: void 0\r\n    },\r\n    month: {\r\n        getter: \"getMonth\",\r\n        setter: \"setMonth\",\r\n        formatter: function(value) {\r\n            return dateLocalization.getMonthNames()[value]\r\n        },\r\n        startValue: 0,\r\n        endValue: 11\r\n    },\r\n    hours: {\r\n        getter: \"getHours\",\r\n        setter: \"setHours\",\r\n        formatter: function(value) {\r\n            return dateLocalization.format(new Date(0, 0, 0, value), \"hour\")\r\n        },\r\n        startValue: 0,\r\n        endValue: 23\r\n    },\r\n    minutes: {\r\n        getter: \"getMinutes\",\r\n        setter: \"setMinutes\",\r\n        formatter: function(value) {\r\n            return dateLocalization.format(new Date(0, 0, 0, 0, value), \"minute\")\r\n        },\r\n        startValue: 0,\r\n        endValue: 59\r\n    },\r\n    seconds: {\r\n        getter: \"getSeconds\",\r\n        setter: \"setSeconds\",\r\n        formatter: function(value) {\r\n            return dateLocalization.format(new Date(0, 0, 0, 0, 0, value), \"second\")\r\n        },\r\n        startValue: 0,\r\n        endValue: 59\r\n    },\r\n    milliseconds: {\r\n        getter: \"getMilliseconds\",\r\n        setter: \"setMilliseconds\",\r\n        formatter: function(value) {\r\n            return dateLocalization.format(new Date(0, 0, 0, 0, 0, 0, value), \"millisecond\")\r\n        },\r\n        startValue: 0,\r\n        endValue: 999\r\n    }\r\n};\r\nexport default dateUtils;\r\n","/**\r\n * DevExtreme (esm/ui/calendar/ui.calendar.navigator.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport Button from \"../button\";\r\nvar CALENDAR_NAVIGATOR_CLASS = \"dx-calendar-navigator\";\r\nvar CALENDAR_NAVIGATOR_PREVIOUS_MONTH_CLASS = \"dx-calendar-navigator-previous-month\";\r\nvar CALENDAR_NAVIGATOR_NEXT_MONTH_CLASS = \"dx-calendar-navigator-next-month\";\r\nvar CALENDAR_NAVIGATOR_PREVIOUS_VIEW_CLASS = \"dx-calendar-navigator-previous-view\";\r\nvar CALENDAR_NAVIGATOR_NEXT_VIEW_CLASS = \"dx-calendar-navigator-next-view\";\r\nvar CALENDAR_NAVIGATOR_DISABLED_LINK_CLASS = \"dx-calendar-disabled-navigator-link\";\r\nvar CALENDAR_NAVIGATOR_CAPTION_BUTTON_CLASS = \"dx-calendar-caption-button\";\r\nvar Navigator = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            onClick: null,\r\n            onCaptionClick: null,\r\n            text: \"\"\r\n        })\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initActions()\r\n    },\r\n    _initActions: function() {\r\n        this._clickAction = this._createActionByOption(\"onClick\");\r\n        this._captionClickAction = this._createActionByOption(\"onCaptionClick\")\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(CALENDAR_NAVIGATOR_CLASS);\r\n        this._renderButtons();\r\n        this._renderCaption()\r\n    },\r\n    _renderButtons: function() {\r\n        var that = this;\r\n        var direction = this.option(\"rtlEnabled\") ? -1 : 1;\r\n        this._prevButton = this._createComponent($(\"<a>\"), Button, {\r\n            focusStateEnabled: false,\r\n            icon: \"chevronleft\",\r\n            onClick: function(e) {\r\n                that._clickAction({\r\n                    direction: -direction,\r\n                    event: e\r\n                })\r\n            },\r\n            integrationOptions: {}\r\n        });\r\n        var $prevButton = this._prevButton.$element().addClass(CALENDAR_NAVIGATOR_PREVIOUS_VIEW_CLASS).addClass(CALENDAR_NAVIGATOR_PREVIOUS_MONTH_CLASS);\r\n        this._nextButton = this._createComponent($(\"<a>\"), Button, {\r\n            focusStateEnabled: false,\r\n            icon: \"chevronright\",\r\n            onClick: function(e) {\r\n                that._clickAction({\r\n                    direction: direction,\r\n                    event: e\r\n                })\r\n            },\r\n            integrationOptions: {}\r\n        });\r\n        var $nextButton = this._nextButton.$element().addClass(CALENDAR_NAVIGATOR_NEXT_VIEW_CLASS).addClass(CALENDAR_NAVIGATOR_NEXT_MONTH_CLASS);\r\n        this._caption = this._createComponent($(\"<a>\").addClass(CALENDAR_NAVIGATOR_CAPTION_BUTTON_CLASS), Button, {\r\n            focusStateEnabled: false,\r\n            onClick: function(e) {\r\n                that._captionClickAction({\r\n                    event: e\r\n                })\r\n            },\r\n            integrationOptions: {}\r\n        });\r\n        var $caption = this._caption.$element();\r\n        this.$element().append($prevButton, $caption, $nextButton)\r\n    },\r\n    _renderCaption: function() {\r\n        this._caption.option(\"text\", this.option(\"text\"))\r\n    },\r\n    toggleButton: function(buttonPrefix, value) {\r\n        var buttonName = \"_\" + buttonPrefix + \"Button\";\r\n        var button = this[buttonName];\r\n        if (button) {\r\n            button.option(\"disabled\", value);\r\n            button.$element().toggleClass(CALENDAR_NAVIGATOR_DISABLED_LINK_CLASS, value)\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"text\":\r\n                this._renderCaption();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport default Navigator;\r\n","/**\r\n * DevExtreme (esm/ui/calendar/ui.calendar.base_view.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    data as elementData\r\n} from \"../../core/element_data\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport coreDateUtils from \"../../core/utils/date\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport dateSerialization from \"../../core/utils/date_serialization\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nvar {\r\n    abstract: abstract\r\n} = Widget;\r\nvar CALENDAR_OTHER_VIEW_CLASS = \"dx-calendar-other-view\";\r\nvar CALENDAR_CELL_CLASS = \"dx-calendar-cell\";\r\nvar CALENDAR_EMPTY_CELL_CLASS = \"dx-calendar-empty-cell\";\r\nvar CALENDAR_TODAY_CLASS = \"dx-calendar-today\";\r\nvar CALENDAR_SELECTED_DATE_CLASS = \"dx-calendar-selected-date\";\r\nvar CALENDAR_CONTOURED_DATE_CLASS = \"dx-calendar-contoured-date\";\r\nvar CALENDAR_DXCLICK_EVENT_NAME = addNamespace(clickEventName, \"dxCalendar\");\r\nvar CALENDAR_DATE_VALUE_KEY = \"dxDateValueKey\";\r\nvar BaseView = Widget.inherit({\r\n    _getViewName: function() {\r\n        return \"base\"\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            date: new Date,\r\n            focusStateEnabled: false,\r\n            cellTemplate: null,\r\n            disabledDates: null,\r\n            onCellClick: null,\r\n            rowCount: 3,\r\n            colCount: 4,\r\n            allowValueSelection: true,\r\n            _todayDate: () => new Date\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._renderImpl()\r\n    },\r\n    _renderImpl: function() {\r\n        this.$element().append(this._createTable());\r\n        this._createDisabledDatesHandler();\r\n        this._renderBody();\r\n        this._renderContouredDate();\r\n        this._renderValue();\r\n        this._renderEvents()\r\n    },\r\n    _createTable: function() {\r\n        this._$table = $(\"<table>\");\r\n        this.setAria({\r\n            label: messageLocalization.format(\"dxCalendar-ariaWidgetName\"),\r\n            role: \"grid\"\r\n        }, this._$table);\r\n        return this._$table\r\n    },\r\n    _renderBody: function() {\r\n        this.$body = $(\"<tbody>\").appendTo(this._$table);\r\n        var rowData = {\r\n            cellDate: this._getFirstCellData(),\r\n            prevCellDate: null\r\n        };\r\n        for (var rowIndex = 0, rowCount = this.option(\"rowCount\"); rowIndex < rowCount; rowIndex++) {\r\n            rowData.row = this._createRow();\r\n            for (var colIndex = 0, colCount = this.option(\"colCount\"); colIndex < colCount; colIndex++) {\r\n                this._renderCell(rowData, colIndex)\r\n            }\r\n        }\r\n    },\r\n    _createRow: function() {\r\n        var row = domAdapter.createElement(\"tr\");\r\n        this.setAria(\"role\", \"row\", $(row));\r\n        this.$body.get(0).appendChild(row);\r\n        return row\r\n    },\r\n    _appendCell: function(row, cell) {\r\n        if (!this._appendMethodName) {\r\n            this._cacheAppendMethodName()\r\n        }\r\n        $(row)[this._appendMethodName](cell)\r\n    },\r\n    _cacheAppendMethodName: function(rtlEnabled) {\r\n        this._appendMethodName = (null !== rtlEnabled && void 0 !== rtlEnabled ? rtlEnabled : this.option(\"rtlEnabled\")) ? \"prepend\" : \"append\"\r\n    },\r\n    _createCell: function(cellDate) {\r\n        var cell = domAdapter.createElement(\"td\");\r\n        var $cell = $(cell);\r\n        cell.className = this._getClassNameByDate(cellDate);\r\n        cell.setAttribute(\"data-value\", dateSerialization.serializeDate(cellDate, coreDateUtils.getShortDateFormat()));\r\n        elementData(cell, CALENDAR_DATE_VALUE_KEY, cellDate);\r\n        this.setAria({\r\n            role: \"gridcell\",\r\n            label: this.getCellAriaLabel(cellDate)\r\n        }, $cell);\r\n        return {\r\n            cell: cell,\r\n            $cell: $cell\r\n        }\r\n    },\r\n    _renderCell: function(params, cellIndex) {\r\n        var {\r\n            cellDate: cellDate,\r\n            prevCellDate: prevCellDate,\r\n            row: row\r\n        } = params;\r\n        if (prevCellDate) {\r\n            coreDateUtils.fixTimezoneGap(prevCellDate, cellDate)\r\n        }\r\n        params.prevCellDate = cellDate;\r\n        var {\r\n            cell: cell,\r\n            $cell: $cell\r\n        } = this._createCell(cellDate);\r\n        var cellTemplate = this.option(\"cellTemplate\");\r\n        this._appendCell(row, cell);\r\n        if (cellTemplate) {\r\n            cellTemplate.render(this._prepareCellTemplateData(cellDate, cellIndex, $cell))\r\n        } else {\r\n            cell.innerHTML = this._getCellText(cellDate)\r\n        }\r\n        params.cellDate = this._getNextCellData(cellDate)\r\n    },\r\n    _getClassNameByDate: function(cellDate) {\r\n        var className = CALENDAR_CELL_CLASS;\r\n        if (this._isTodayCell(cellDate)) {\r\n            className += \" \".concat(CALENDAR_TODAY_CLASS)\r\n        }\r\n        if (this._isDateOutOfRange(cellDate) || this.isDateDisabled(cellDate)) {\r\n            className += \" \".concat(CALENDAR_EMPTY_CELL_CLASS)\r\n        }\r\n        if (this._isOtherView(cellDate)) {\r\n            className += \" \".concat(CALENDAR_OTHER_VIEW_CLASS)\r\n        }\r\n        return className\r\n    },\r\n    _prepareCellTemplateData: function(cellDate, cellIndex, $cell) {\r\n        return {\r\n            model: {\r\n                text: this._getCellText(cellDate),\r\n                date: cellDate,\r\n                view: this._getViewName()\r\n            },\r\n            container: getPublicElement($cell),\r\n            index: cellIndex\r\n        }\r\n    },\r\n    _renderEvents: function() {\r\n        this._createCellClickAction();\r\n        eventsEngine.off(this._$table, CALENDAR_DXCLICK_EVENT_NAME);\r\n        eventsEngine.on(this._$table, CALENDAR_DXCLICK_EVENT_NAME, \"td\", e => {\r\n            if (!$(e.currentTarget).hasClass(CALENDAR_EMPTY_CELL_CLASS)) {\r\n                this._cellClickAction({\r\n                    event: e,\r\n                    value: $(e.currentTarget).data(CALENDAR_DATE_VALUE_KEY)\r\n                })\r\n            }\r\n        })\r\n    },\r\n    _createCellClickAction: function() {\r\n        this._cellClickAction = this._createActionByOption(\"onCellClick\")\r\n    },\r\n    _createDisabledDatesHandler: function() {\r\n        var disabledDates = this.option(\"disabledDates\");\r\n        this._disabledDatesHandler = Array.isArray(disabledDates) ? this._getDefaultDisabledDatesHandler(disabledDates) : disabledDates || noop\r\n    },\r\n    _getDefaultDisabledDatesHandler: function(disabledDates) {\r\n        return noop\r\n    },\r\n    _isTodayCell: abstract,\r\n    _isDateOutOfRange: abstract,\r\n    isDateDisabled: function(cellDate) {\r\n        var dateParts = {\r\n            date: cellDate,\r\n            view: this._getViewName()\r\n        };\r\n        return this._disabledDatesHandler(dateParts)\r\n    },\r\n    _isOtherView: abstract,\r\n    _getCellText: abstract,\r\n    _getFirstCellData: abstract,\r\n    _getNextCellData: abstract,\r\n    _renderContouredDate: function(contouredDate) {\r\n        if (!this.option(\"focusStateEnabled\")) {\r\n            return\r\n        }\r\n        contouredDate = contouredDate || this.option(\"contouredDate\");\r\n        var $oldContouredCell = this._getContouredCell();\r\n        var $newContouredCell = this._getCellByDate(contouredDate);\r\n        $oldContouredCell.removeClass(CALENDAR_CONTOURED_DATE_CLASS);\r\n        $newContouredCell.addClass(CALENDAR_CONTOURED_DATE_CLASS)\r\n    },\r\n    _getContouredCell: function() {\r\n        return this._$table.find(\".\".concat(CALENDAR_CONTOURED_DATE_CLASS))\r\n    },\r\n    _changeValue: function(cellDate) {\r\n        if (cellDate) {\r\n            var value = this.option(\"value\");\r\n            var newValue = value ? new Date(value) : new Date;\r\n            newValue.setDate(cellDate.getDate());\r\n            newValue.setMonth(cellDate.getMonth());\r\n            newValue.setFullYear(cellDate.getFullYear());\r\n            newValue.setDate(cellDate.getDate());\r\n            this.option(\"value\", newValue)\r\n        } else {\r\n            this.option(\"value\", null)\r\n        }\r\n    },\r\n    _renderValue: function() {\r\n        if (!this.option(\"allowValueSelection\")) {\r\n            return\r\n        }\r\n        var value = this.option(\"value\");\r\n        var selectedCell = this._getCellByDate(value);\r\n        if (this._selectedCell) {\r\n            this._selectedCell.removeClass(CALENDAR_SELECTED_DATE_CLASS)\r\n        }\r\n        selectedCell.addClass(CALENDAR_SELECTED_DATE_CLASS);\r\n        this._selectedCell = selectedCell\r\n    },\r\n    getCellAriaLabel: function(date) {\r\n        return this._getCellText(date)\r\n    },\r\n    _getFirstAvailableDate: function() {\r\n        var date = this.option(\"date\");\r\n        var min = this.option(\"min\");\r\n        date = coreDateUtils.getFirstDateView(this._getViewName(), date);\r\n        return new Date(min && date < min ? min : date)\r\n    },\r\n    _getCellByDate: abstract,\r\n    isBoundary: abstract,\r\n    _optionChanged: function(args) {\r\n        var {\r\n            name: name,\r\n            value: value\r\n        } = args;\r\n        switch (name) {\r\n            case \"value\":\r\n                this._renderValue();\r\n                break;\r\n            case \"contouredDate\":\r\n                this._renderContouredDate(value);\r\n                break;\r\n            case \"onCellClick\":\r\n                this._createCellClickAction();\r\n                break;\r\n            case \"disabledDates\":\r\n            case \"cellTemplate\":\r\n                this._invalidate();\r\n                break;\r\n            case \"rtlEnabled\":\r\n                this._cacheAppendMethodName(value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"_todayDate\":\r\n                this._renderBody();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport default BaseView;\r\n","/**\r\n * DevExtreme (esm/ui/calendar/ui.calendar.views.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport BaseView from \"./ui.calendar.base_view\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport dateUtils from \"../../core/utils/date\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport dateSerialization from \"../../core/utils/date_serialization\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nvar CALENDAR_OTHER_MONTH_CLASS = \"dx-calendar-other-month\";\r\nvar CALENDAR_OTHER_VIEW_CLASS = \"dx-calendar-other-view\";\r\nvar Views = {\r\n    month: BaseView.inherit({\r\n        _getViewName: function() {\r\n            return \"month\"\r\n        },\r\n        _getDefaultOptions: function() {\r\n            return extend(this.callBase(), {\r\n                firstDayOfWeek: void 0,\r\n                rowCount: 6,\r\n                colCount: 7\r\n            })\r\n        },\r\n        _renderImpl: function() {\r\n            this.callBase();\r\n            this._renderHeader()\r\n        },\r\n        _renderBody: function() {\r\n            this.callBase();\r\n            this._$table.find(\".\".concat(CALENDAR_OTHER_VIEW_CLASS)).addClass(CALENDAR_OTHER_MONTH_CLASS)\r\n        },\r\n        _renderFocusTarget: noop,\r\n        getCellAriaLabel: function(date) {\r\n            return dateLocalization.format(date, \"longdate\")\r\n        },\r\n        _renderHeader: function() {\r\n            var $headerRow = $(\"<tr>\");\r\n            var $header = $(\"<thead>\").append($headerRow);\r\n            this._$table.prepend($header);\r\n            for (var colIndex = 0, colCount = this.option(\"colCount\"); colIndex < colCount; colIndex++) {\r\n                this._renderHeaderCell(colIndex, $headerRow)\r\n            }\r\n        },\r\n        _renderHeaderCell: function(cellIndex, $headerRow) {\r\n            var {\r\n                full: fullCaption,\r\n                abbreviated: abbrCaption\r\n            } = this._getDayCaption(this._getFirstDayOfWeek() + cellIndex);\r\n            var $cell = $(\"<th>\").attr({\r\n                scope: \"col\",\r\n                abbr: fullCaption\r\n            }).text(abbrCaption);\r\n            this._appendCell($headerRow, $cell)\r\n        },\r\n        getNavigatorCaption: function() {\r\n            return dateLocalization.format(this.option(\"date\"), \"monthandyear\")\r\n        },\r\n        _isTodayCell: function(cellDate) {\r\n            var today = this.option(\"_todayDate\")();\r\n            return dateUtils.sameDate(cellDate, today)\r\n        },\r\n        _isDateOutOfRange: function(cellDate) {\r\n            var minDate = this.option(\"min\");\r\n            var maxDate = this.option(\"max\");\r\n            return !dateUtils.dateInRange(cellDate, minDate, maxDate, \"date\")\r\n        },\r\n        _isOtherView: function(cellDate) {\r\n            return cellDate.getMonth() !== this.option(\"date\").getMonth()\r\n        },\r\n        _getCellText: function(cellDate) {\r\n            return dateLocalization.format(cellDate, \"d\")\r\n        },\r\n        _getDayCaption: function(day) {\r\n            var daysInWeek = this.option(\"colCount\");\r\n            var dayIndex = day % daysInWeek;\r\n            return {\r\n                full: dateLocalization.getDayNames()[dayIndex],\r\n                abbreviated: dateLocalization.getDayNames(\"abbreviated\")[dayIndex]\r\n            }\r\n        },\r\n        _getFirstCellData: function() {\r\n            var firstDay = dateUtils.getFirstMonthDate(this.option(\"date\"));\r\n            var firstMonthDayOffset = this._getFirstDayOfWeek() - firstDay.getDay();\r\n            var daysInWeek = this.option(\"colCount\");\r\n            if (firstMonthDayOffset >= 0) {\r\n                firstMonthDayOffset -= daysInWeek\r\n            }\r\n            firstDay.setDate(firstDay.getDate() + firstMonthDayOffset);\r\n            return firstDay\r\n        },\r\n        _getNextCellData: function(date) {\r\n            date = new Date(date);\r\n            date.setDate(date.getDate() + 1);\r\n            return date\r\n        },\r\n        _getFirstDayOfWeek: function() {\r\n            return isDefined(this.option(\"firstDayOfWeek\")) ? this.option(\"firstDayOfWeek\") : dateLocalization.firstDayOfWeekIndex()\r\n        },\r\n        _getCellByDate: function(date) {\r\n            return this._$table.find(\"td[data-value='\".concat(dateSerialization.serializeDate(date, dateUtils.getShortDateFormat()), \"']\"))\r\n        },\r\n        isBoundary: function(date) {\r\n            return dateUtils.sameMonthAndYear(date, this.option(\"min\")) || dateUtils.sameMonthAndYear(date, this.option(\"max\"))\r\n        },\r\n        _getDefaultDisabledDatesHandler: function(disabledDates) {\r\n            return function(args) {\r\n                var isDisabledDate = disabledDates.some((function(item) {\r\n                    return dateUtils.sameDate(item, args.date)\r\n                }));\r\n                if (isDisabledDate) {\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n    }),\r\n    year: BaseView.inherit({\r\n        _getViewName: function() {\r\n            return \"year\"\r\n        },\r\n        _isTodayCell: function(cellDate) {\r\n            var today = this.option(\"_todayDate\")();\r\n            return dateUtils.sameMonthAndYear(cellDate, today)\r\n        },\r\n        _isDateOutOfRange: function(cellDate) {\r\n            return !dateUtils.dateInRange(cellDate, dateUtils.getFirstMonthDate(this.option(\"min\")), dateUtils.getLastMonthDate(this.option(\"max\")))\r\n        },\r\n        _isOtherView: function() {\r\n            return false\r\n        },\r\n        _getCellText: function(cellDate) {\r\n            return dateLocalization.getMonthNames(\"abbreviated\")[cellDate.getMonth()]\r\n        },\r\n        _getFirstCellData: function() {\r\n            var currentDate = this.option(\"date\");\r\n            var data = new Date(currentDate);\r\n            data.setDate(1);\r\n            data.setMonth(0);\r\n            return data\r\n        },\r\n        _getNextCellData: function(date) {\r\n            date = new Date(date);\r\n            date.setMonth(date.getMonth() + 1);\r\n            return date\r\n        },\r\n        _getCellByDate: function(date) {\r\n            var foundDate = new Date(date);\r\n            foundDate.setDate(1);\r\n            return this._$table.find(\"td[data-value='\".concat(dateSerialization.serializeDate(foundDate, dateUtils.getShortDateFormat()), \"']\"))\r\n        },\r\n        getCellAriaLabel: function(date) {\r\n            return dateLocalization.format(date, \"monthandyear\")\r\n        },\r\n        getNavigatorCaption: function() {\r\n            return dateLocalization.format(this.option(\"date\"), \"yyyy\")\r\n        },\r\n        isBoundary: function(date) {\r\n            return dateUtils.sameYear(date, this.option(\"min\")) || dateUtils.sameYear(date, this.option(\"max\"))\r\n        }\r\n    }),\r\n    decade: BaseView.inherit({\r\n        _getViewName: function() {\r\n            return \"decade\"\r\n        },\r\n        _isTodayCell: function(cellDate) {\r\n            var today = this.option(\"_todayDate\")();\r\n            return dateUtils.sameYear(cellDate, today)\r\n        },\r\n        _isDateOutOfRange: function(cellDate) {\r\n            var min = this.option(\"min\");\r\n            var max = this.option(\"max\");\r\n            return !dateUtils.dateInRange(cellDate.getFullYear(), min && min.getFullYear(), max && max.getFullYear())\r\n        },\r\n        _isOtherView: function(cellDate) {\r\n            var date = new Date(cellDate);\r\n            date.setMonth(1);\r\n            return !dateUtils.sameDecade(date, this.option(\"date\"))\r\n        },\r\n        _getCellText: function(cellDate) {\r\n            return dateLocalization.format(cellDate, \"yyyy\")\r\n        },\r\n        _getFirstCellData: function() {\r\n            var year = dateUtils.getFirstYearInDecade(this.option(\"date\")) - 1;\r\n            return dateUtils.createDateWithFullYear(year, 0, 1)\r\n        },\r\n        _getNextCellData: function(date) {\r\n            date = new Date(date);\r\n            date.setFullYear(date.getFullYear() + 1);\r\n            return date\r\n        },\r\n        getNavigatorCaption: function() {\r\n            var currentDate = this.option(\"date\");\r\n            var firstYearInDecade = dateUtils.getFirstYearInDecade(currentDate);\r\n            var startDate = new Date(currentDate);\r\n            var endDate = new Date(currentDate);\r\n            startDate.setFullYear(firstYearInDecade);\r\n            endDate.setFullYear(firstYearInDecade + 9);\r\n            return dateLocalization.format(startDate, \"yyyy\") + \"-\" + dateLocalization.format(endDate, \"yyyy\")\r\n        },\r\n        _isValueOnCurrentView: function(currentDate, value) {\r\n            return dateUtils.sameDecade(currentDate, value)\r\n        },\r\n        _getCellByDate: function(date) {\r\n            var foundDate = new Date(date);\r\n            foundDate.setDate(1);\r\n            foundDate.setMonth(0);\r\n            return this._$table.find(\"td[data-value='\".concat(dateSerialization.serializeDate(foundDate, dateUtils.getShortDateFormat()), \"']\"))\r\n        },\r\n        isBoundary: function(date) {\r\n            return dateUtils.sameDecade(date, this.option(\"min\")) || dateUtils.sameDecade(date, this.option(\"max\"))\r\n        }\r\n    }),\r\n    century: BaseView.inherit({\r\n        _getViewName: function() {\r\n            return \"century\"\r\n        },\r\n        _isTodayCell: function(cellDate) {\r\n            var today = this.option(\"_todayDate\")();\r\n            return dateUtils.sameDecade(cellDate, today)\r\n        },\r\n        _isDateOutOfRange: function(cellDate) {\r\n            var decade = dateUtils.getFirstYearInDecade(cellDate);\r\n            var minDecade = dateUtils.getFirstYearInDecade(this.option(\"min\"));\r\n            var maxDecade = dateUtils.getFirstYearInDecade(this.option(\"max\"));\r\n            return !dateUtils.dateInRange(decade, minDecade, maxDecade)\r\n        },\r\n        _isOtherView: function(cellDate) {\r\n            var date = new Date(cellDate);\r\n            date.setMonth(1);\r\n            return !dateUtils.sameCentury(date, this.option(\"date\"))\r\n        },\r\n        _getCellText: function(cellDate) {\r\n            var startDate = dateLocalization.format(cellDate, \"yyyy\");\r\n            var endDate = new Date(cellDate);\r\n            endDate.setFullYear(endDate.getFullYear() + 9);\r\n            return startDate + \" - \" + dateLocalization.format(endDate, \"yyyy\")\r\n        },\r\n        _getFirstCellData: function() {\r\n            var decade = dateUtils.getFirstDecadeInCentury(this.option(\"date\")) - 10;\r\n            return dateUtils.createDateWithFullYear(decade, 0, 1)\r\n        },\r\n        _getNextCellData: function(date) {\r\n            date = new Date(date);\r\n            date.setFullYear(date.getFullYear() + 10);\r\n            return date\r\n        },\r\n        _getCellByDate: function(date) {\r\n            var foundDate = new Date(date);\r\n            foundDate.setDate(1);\r\n            foundDate.setMonth(0);\r\n            foundDate.setFullYear(dateUtils.getFirstYearInDecade(foundDate));\r\n            return this._$table.find(\"td[data-value='\".concat(dateSerialization.serializeDate(foundDate, dateUtils.getShortDateFormat()), \"']\"))\r\n        },\r\n        getNavigatorCaption: function() {\r\n            var currentDate = this.option(\"date\");\r\n            var firstDecadeInCentury = dateUtils.getFirstDecadeInCentury(currentDate);\r\n            var startDate = new Date(currentDate);\r\n            var endDate = new Date(currentDate);\r\n            startDate.setFullYear(firstDecadeInCentury);\r\n            endDate.setFullYear(firstDecadeInCentury + 99);\r\n            return dateLocalization.format(startDate, \"yyyy\") + \"-\" + dateLocalization.format(endDate, \"yyyy\")\r\n        },\r\n        isBoundary: function(date) {\r\n            return dateUtils.sameCentury(date, this.option(\"min\")) || dateUtils.sameCentury(date, this.option(\"max\"))\r\n        }\r\n    })\r\n};\r\nexport default Views;\r\n","/**\r\n * DevExtreme (esm/ui/calendar/ui.calendar.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport Guid from \"../../core/guid\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isNumeric,\r\n    isString,\r\n    isFunction,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    inRange\r\n} from \"../../core/utils/math\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Button from \"../button\";\r\nimport Editor from \"../editor/editor\";\r\nimport Swipeable from \"../../events/gesture/swipeable\";\r\nimport Navigator from \"./ui.calendar.navigator\";\r\nimport Views from \"./ui.calendar.views\";\r\nimport {\r\n    move\r\n} from \"../../animation/translator\";\r\nimport dateUtils from \"../../core/utils/date\";\r\nimport dateSerialization from \"../../core/utils/date_serialization\";\r\nimport devices from \"../../core/devices\";\r\nimport fx from \"../../animation/fx\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    FunctionTemplate\r\n} from \"../../core/templates/function_template\";\r\nimport {\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nvar CALENDAR_CLASS = \"dx-calendar\";\r\nvar CALENDAR_BODY_CLASS = \"dx-calendar-body\";\r\nvar CALENDAR_CELL_CLASS = \"dx-calendar-cell\";\r\nvar CALENDAR_FOOTER_CLASS = \"dx-calendar-footer\";\r\nvar CALENDAR_TODAY_BUTTON_CLASS = \"dx-calendar-today-button\";\r\nvar CALENDAR_HAS_FOOTER_CLASS = \"dx-calendar-with-footer\";\r\nvar CALENDAR_VIEWS_WRAPPER_CLASS = \"dx-calendar-views-wrapper\";\r\nvar CALENDAR_VIEW_CLASS = \"dx-calendar-view\";\r\nvar FOCUSED_STATE_CLASS = \"dx-state-focused\";\r\nvar ANIMATION_DURATION_SHOW_VIEW = 250;\r\nvar POP_ANIMATION_FROM = .6;\r\nvar POP_ANIMATION_TO = 1;\r\nvar CALENDAR_INPUT_STANDARD_PATTERN = \"yyyy-MM-dd\";\r\nvar CALENDAR_DATE_VALUE_KEY = \"dxDateValueKey\";\r\nvar LEVEL_COMPARE_MAP = {\r\n    month: 3,\r\n    year: 2,\r\n    decade: 1,\r\n    century: 0\r\n};\r\nvar ZOOM_LEVEL = {\r\n    MONTH: \"month\",\r\n    YEAR: \"year\",\r\n    DECADE: \"decade\",\r\n    CENTURY: \"century\"\r\n};\r\n\r\nfunction elementHasFocus(element) {\r\n    return element.hasClass(FOCUSED_STATE_CLASS)\r\n}\r\nvar Calendar = Editor.inherit({\r\n    _activeStateUnit: \".\" + CALENDAR_CELL_CLASS,\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            activeStateEnabled: true,\r\n            currentDate: new Date,\r\n            value: null,\r\n            dateSerializationFormat: void 0,\r\n            min: new Date(1e3, 0),\r\n            max: new Date(3e3, 0),\r\n            firstDayOfWeek: void 0,\r\n            zoomLevel: ZOOM_LEVEL.MONTH,\r\n            maxZoomLevel: ZOOM_LEVEL.MONTH,\r\n            minZoomLevel: ZOOM_LEVEL.CENTURY,\r\n            showTodayButton: false,\r\n            cellTemplate: \"cell\",\r\n            disabledDates: null,\r\n            onCellClick: null,\r\n            onContouredChanged: null,\r\n            skipFocusCheck: false,\r\n            _todayDate: () => new Date\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), {\r\n            rightArrow: function(e) {\r\n                e.preventDefault();\r\n                if (isCommandKeyPressed(e)) {\r\n                    this._waitRenderView(1)\r\n                } else {\r\n                    this._moveCurrentDateByOffset(1 * this._getRtlCorrection())\r\n                }\r\n            },\r\n            leftArrow: function(e) {\r\n                e.preventDefault();\r\n                if (isCommandKeyPressed(e)) {\r\n                    this._waitRenderView(-1)\r\n                } else {\r\n                    this._moveCurrentDateByOffset(-1 * this._getRtlCorrection())\r\n                }\r\n            },\r\n            upArrow: function(e) {\r\n                e.preventDefault();\r\n                if (isCommandKeyPressed(e)) {\r\n                    this._navigateUp()\r\n                } else {\r\n                    if (fx.isAnimating(this._view.$element())) {\r\n                        return\r\n                    }\r\n                    this._moveCurrentDateByOffset(-1 * this._view.option(\"colCount\"))\r\n                }\r\n            },\r\n            downArrow: function(e) {\r\n                e.preventDefault();\r\n                if (isCommandKeyPressed(e)) {\r\n                    this._navigateDown()\r\n                } else {\r\n                    if (fx.isAnimating(this._view.$element())) {\r\n                        return\r\n                    }\r\n                    this._moveCurrentDateByOffset(1 * this._view.option(\"colCount\"))\r\n                }\r\n            },\r\n            home: function(e) {\r\n                e.preventDefault();\r\n                var zoomLevel = this.option(\"zoomLevel\");\r\n                var currentDate = this.option(\"currentDate\");\r\n                var min = this._dateOption(\"min\");\r\n                if (this._view.isDateDisabled(currentDate)) {\r\n                    return\r\n                }\r\n                var date = dateUtils.sameView(zoomLevel, currentDate, min) ? min : dateUtils.getViewFirstCellDate(zoomLevel, currentDate);\r\n                this._moveToClosestAvailableDate(date)\r\n            },\r\n            end: function(e) {\r\n                e.preventDefault();\r\n                var zoomLevel = this.option(\"zoomLevel\");\r\n                var currentDate = this.option(\"currentDate\");\r\n                var max = this._dateOption(\"max\");\r\n                if (this._view.isDateDisabled(currentDate)) {\r\n                    return\r\n                }\r\n                var date = dateUtils.sameView(zoomLevel, currentDate, max) ? max : dateUtils.getViewLastCellDate(zoomLevel, currentDate);\r\n                this._moveToClosestAvailableDate(date)\r\n            },\r\n            pageUp: function(e) {\r\n                e.preventDefault();\r\n                this._waitRenderView(-1 * this._getRtlCorrection())\r\n            },\r\n            pageDown: function(e) {\r\n                e.preventDefault();\r\n                this._waitRenderView(1 * this._getRtlCorrection())\r\n            },\r\n            tab: noop,\r\n            enter: function(e) {\r\n                if (!this._isMaxZoomLevel()) {\r\n                    this._navigateDown()\r\n                } else if (!this._view.isDateDisabled(this.option(\"currentDate\"))) {\r\n                    var value = this._updateTimeComponent(this.option(\"currentDate\"));\r\n                    this._dateValue(value, e)\r\n                }\r\n            }\r\n        })\r\n    },\r\n    _getSerializationFormat: function(optionName) {\r\n        var value = this.option(optionName || \"value\");\r\n        if (this.option(\"dateSerializationFormat\")) {\r\n            return this.option(\"dateSerializationFormat\")\r\n        }\r\n        if (isNumeric(value)) {\r\n            return \"number\"\r\n        }\r\n        if (!isString(value)) {\r\n            return\r\n        }\r\n        return dateSerialization.getDateSerializationFormat(value)\r\n    },\r\n    _convertToDate: function(value, optionName) {\r\n        return dateSerialization.deserializeDate(value)\r\n    },\r\n    _dateValue: function(value, event) {\r\n        if (event) {\r\n            if (\"keydown\" === event.type) {\r\n                var cellElement = this._view._getContouredCell().get(0);\r\n                event.target = cellElement\r\n            }\r\n            this._saveValueChangeEvent(event)\r\n        }\r\n        this._dateOption(\"value\", value)\r\n    },\r\n    _dateOption: function(optionName, optionValue) {\r\n        if (1 === arguments.length) {\r\n            return this._convertToDate(this.option(optionName), optionName)\r\n        }\r\n        var serializationFormat = this._getSerializationFormat(optionName);\r\n        this.option(optionName, dateSerialization.serializeDate(optionValue, serializationFormat))\r\n    },\r\n    _shiftDate: function(zoomLevel, date, offset, reverse) {\r\n        switch (zoomLevel) {\r\n            case ZOOM_LEVEL.MONTH:\r\n                date.setDate(date.getDate() + offset * reverse);\r\n                break;\r\n            case ZOOM_LEVEL.YEAR:\r\n                date.setMonth(date.getMonth() + offset * reverse);\r\n                break;\r\n            case ZOOM_LEVEL.DECADE:\r\n                date.setFullYear(date.getFullYear() + offset * reverse);\r\n                break;\r\n            case ZOOM_LEVEL.CENTURY:\r\n                date.setFullYear(date.getFullYear() + 10 * offset * reverse)\r\n        }\r\n    },\r\n    _moveCurrentDateByOffset: function(offset) {\r\n        var baseDate = this.option(\"currentDate\");\r\n        var currentDate = new Date(baseDate);\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        this._shiftDate(zoomLevel, currentDate, offset, 1);\r\n        var maxDate = this._getMaxDate();\r\n        var minDate = this._getMinDate();\r\n        var isDateForwardInNeighborView = this._areDatesInNeighborView(zoomLevel, currentDate, baseDate);\r\n        var isDateForwardInRange = inRange(currentDate, minDate, maxDate) && isDateForwardInNeighborView;\r\n        var dateForward = new Date(currentDate);\r\n        while (isDateForwardInRange) {\r\n            if (!this._view.isDateDisabled(dateForward)) {\r\n                currentDate = dateForward;\r\n                break\r\n            }\r\n            this._shiftDate(zoomLevel, dateForward, offset, 1);\r\n            isDateForwardInNeighborView = this._areDatesInNeighborView(zoomLevel, dateForward, baseDate);\r\n            isDateForwardInRange = inRange(dateForward, minDate, maxDate) && isDateForwardInNeighborView\r\n        }\r\n        if (this._view.isDateDisabled(baseDate) || this._view.isDateDisabled(currentDate)) {\r\n            this._waitRenderView(offset > 0 ? 1 : -1)\r\n        } else {\r\n            this.option(\"currentDate\", currentDate)\r\n        }\r\n    },\r\n    _areDatesInSameView(zoomLevel, date1, date2) {\r\n        switch (zoomLevel) {\r\n            case ZOOM_LEVEL.MONTH:\r\n                return date1.getMonth() === date2.getMonth();\r\n            case ZOOM_LEVEL.YEAR:\r\n                return date1.getYear() === date2.getYear();\r\n            case ZOOM_LEVEL.DECADE:\r\n                return parseInt(date1.getYear() / 10) === parseInt(date2.getYear() / 10);\r\n            case ZOOM_LEVEL.CENTURY:\r\n                return parseInt(date1.getYear() / 100) === parseInt(date2.getYear() / 100)\r\n        }\r\n    },\r\n    _areDatesInNeighborView(zoomLevel, date1, date2) {\r\n        switch (zoomLevel) {\r\n            case ZOOM_LEVEL.MONTH:\r\n                return (a = date1.getMonth(), b = date2.getMonth(), abs = Math.abs(a - b), Math.min(abs, 12 - abs)) <= 1;\r\n            case ZOOM_LEVEL.YEAR:\r\n                return Math.abs(date1.getYear() - date2.getYear()) <= 1;\r\n            case ZOOM_LEVEL.DECADE:\r\n                return Math.abs(date1.getYear() - date2.getYear()) <= 10;\r\n            case ZOOM_LEVEL.CENTURY:\r\n                return Math.abs(date1.getYear() - date2.getYear()) <= 100\r\n        }\r\n        var a, b, abs\r\n    },\r\n    _moveToClosestAvailableDate: function() {\r\n        var baseDate = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.option(\"currentDate\");\r\n        var currentDate = new Date(baseDate);\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        var isCurrentDateAvailable = !this._isDateNotAvailable(currentDate);\r\n        var isDateForwardAvailable = isCurrentDateAvailable;\r\n        var isDateBackwardAvailable = isCurrentDateAvailable;\r\n        var isDateForwardInStartView;\r\n        var isDateBackwardInStartView;\r\n        var dateForward = new Date(currentDate);\r\n        var dateBackward = new Date(currentDate);\r\n        do {\r\n            if (isDateForwardAvailable) {\r\n                currentDate = dateForward;\r\n                break\r\n            }\r\n            if (isDateBackwardAvailable) {\r\n                currentDate = dateBackward;\r\n                break\r\n            }\r\n            this._shiftDate(zoomLevel, dateForward, 1, 1);\r\n            this._shiftDate(zoomLevel, dateBackward, 1, -1);\r\n            isDateForwardInStartView = this._areDatesInSameView(zoomLevel, dateForward, baseDate);\r\n            isDateBackwardInStartView = this._areDatesInSameView(zoomLevel, dateBackward, baseDate);\r\n            isDateForwardAvailable = isDateForwardInStartView && !this._isDateNotAvailable(dateForward);\r\n            isDateBackwardAvailable = isDateBackwardInStartView && !this._isDateNotAvailable(dateBackward)\r\n        } while (isDateForwardInStartView || isDateBackwardInStartView);\r\n        this.option(\"currentDate\", currentDate)\r\n    },\r\n    _isDateNotAvailable: function(date) {\r\n        var maxDate = this._getMaxDate();\r\n        var minDate = this._getMinDate();\r\n        return !inRange(date, minDate, maxDate) || this._view.isDateDisabled(date)\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._correctZoomLevel();\r\n        this._initCurrentDate();\r\n        this._initActions()\r\n    },\r\n    _correctZoomLevel: function() {\r\n        var minZoomLevel = this.option(\"minZoomLevel\");\r\n        var maxZoomLevel = this.option(\"maxZoomLevel\");\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        if (LEVEL_COMPARE_MAP[maxZoomLevel] < LEVEL_COMPARE_MAP[minZoomLevel]) {\r\n            return\r\n        }\r\n        if (LEVEL_COMPARE_MAP[zoomLevel] > LEVEL_COMPARE_MAP[maxZoomLevel]) {\r\n            this.option(\"zoomLevel\", maxZoomLevel)\r\n        } else if (LEVEL_COMPARE_MAP[zoomLevel] < LEVEL_COMPARE_MAP[minZoomLevel]) {\r\n            this.option(\"zoomLevel\", minZoomLevel)\r\n        }\r\n    },\r\n    _initCurrentDate: function() {\r\n        var currentDate = this._getNormalizedDate(this._dateOption(\"value\")) || this._getNormalizedDate(this.option(\"currentDate\"));\r\n        this.option(\"currentDate\", currentDate)\r\n    },\r\n    _getNormalizedDate: function(date) {\r\n        date = dateUtils.normalizeDate(date, this._getMinDate(), this._getMaxDate());\r\n        return isDefined(date) ? this._getDate(date) : date\r\n    },\r\n    _initActions: function() {\r\n        this._cellClickAction = this._createActionByOption(\"onCellClick\");\r\n        this._onContouredChanged = this._createActionByOption(\"onContouredChanged\")\r\n    },\r\n    _initTemplates: function() {\r\n        this._templateManager.addDefaultTemplates({\r\n            cell: new FunctionTemplate((function(options) {\r\n                var data = options.model;\r\n                $(options.container).append($(\"<span>\").text(data && data.text || String(data)))\r\n            }))\r\n        });\r\n        this.callBase()\r\n    },\r\n    _updateCurrentDate: function(date) {\r\n        if (fx.isAnimating(this._$viewsWrapper)) {\r\n            fx.stop(this._$viewsWrapper, true)\r\n        }\r\n        var min = this._getMinDate();\r\n        var max = this._getMaxDate();\r\n        if (min > max) {\r\n            this.option(\"currentDate\", new Date);\r\n            return\r\n        }\r\n        var normalizedDate = this._getNormalizedDate(date);\r\n        if (date.getTime() !== normalizedDate.getTime()) {\r\n            this.option(\"currentDate\", new Date(normalizedDate));\r\n            return\r\n        }\r\n        var offset = this._getViewsOffset(this._view.option(\"date\"), normalizedDate);\r\n        if (0 !== offset && !this._isMaxZoomLevel() && this._isOtherViewCellClicked) {\r\n            offset = 0\r\n        }\r\n        if (this._view && 0 !== offset && !this._suppressNavigation) {\r\n            this._navigate(offset, normalizedDate)\r\n        } else {\r\n            this._renderNavigator();\r\n            this._setViewContoured(normalizedDate);\r\n            this._updateAriaId(normalizedDate)\r\n        }\r\n    },\r\n    _setViewContoured: function(date) {\r\n        if (this.option(\"skipFocusCheck\") || elementHasFocus(this._focusTarget())) {\r\n            this._view.option(\"contouredDate\", date)\r\n        }\r\n    },\r\n    _getMinDate: function() {\r\n        if (this.min) {\r\n            return this.min\r\n        }\r\n        this.min = this._dateOption(\"min\") || new Date(1e3, 0);\r\n        return this.min\r\n    },\r\n    _getMaxDate: function() {\r\n        if (this.max) {\r\n            return this.max\r\n        }\r\n        this.max = this._dateOption(\"max\") || new Date(3e3, 0);\r\n        return this.max\r\n    },\r\n    _getViewsOffset: function(startDate, endDate) {\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        if (zoomLevel === ZOOM_LEVEL.MONTH) {\r\n            return this._getMonthsOffset(startDate, endDate)\r\n        }\r\n        var zoomCorrection;\r\n        switch (zoomLevel) {\r\n            case ZOOM_LEVEL.CENTURY:\r\n                zoomCorrection = 100;\r\n                break;\r\n            case ZOOM_LEVEL.DECADE:\r\n                zoomCorrection = 10;\r\n                break;\r\n            default:\r\n                zoomCorrection = 1\r\n        }\r\n        return parseInt(endDate.getFullYear() / zoomCorrection) - parseInt(startDate.getFullYear() / zoomCorrection)\r\n    },\r\n    _getMonthsOffset: function(startDate, endDate) {\r\n        var yearOffset = endDate.getFullYear() - startDate.getFullYear();\r\n        var monthOffset = endDate.getMonth() - startDate.getMonth();\r\n        return 12 * yearOffset + monthOffset\r\n    },\r\n    _waitRenderView: function(offset) {\r\n        if (this._alreadyViewRender) {\r\n            return\r\n        }\r\n        this._alreadyViewRender = true;\r\n        var date = this._getDateByOffset(offset * this._getRtlCorrection());\r\n        this._moveToClosestAvailableDate(date);\r\n        this._waitRenderViewTimeout = setTimeout(() => {\r\n            this._alreadyViewRender = false\r\n        })\r\n    },\r\n    _getRtlCorrection: function() {\r\n        return this.option(\"rtlEnabled\") ? -1 : 1\r\n    },\r\n    _getDateByOffset: function(offset, date) {\r\n        var _date;\r\n        date = this._getDate(null !== (_date = date) && void 0 !== _date ? _date : this.option(\"currentDate\"));\r\n        var currentDay = date.getDate();\r\n        var difference = dateUtils.getDifferenceInMonth(this.option(\"zoomLevel\")) * offset;\r\n        date.setDate(1);\r\n        date.setMonth(date.getMonth() + difference);\r\n        var lastDay = dateUtils.getLastMonthDate(date).getDate();\r\n        date.setDate(currentDay > lastDay ? lastDay : currentDay);\r\n        return date\r\n    },\r\n    _focusTarget: function() {\r\n        return this.$element()\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderSubmitElement();\r\n        this.callBase();\r\n        var $element = this.$element();\r\n        $element.addClass(CALENDAR_CLASS);\r\n        this._renderBody();\r\n        $element.append(this.$body);\r\n        this._renderViews();\r\n        this._renderNavigator();\r\n        $element.append(this._navigator.$element());\r\n        this._renderSwipeable();\r\n        this._renderFooter();\r\n        this._updateAriaSelected();\r\n        this._updateAriaId();\r\n        this._moveToClosestAvailableDate()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._setViewContoured(this.option(\"currentDate\"))\r\n    },\r\n    _renderBody: function() {\r\n        if (!this._$viewsWrapper) {\r\n            this.$body = $(\"<div>\").addClass(CALENDAR_BODY_CLASS);\r\n            this._$viewsWrapper = $(\"<div>\").addClass(CALENDAR_VIEWS_WRAPPER_CLASS);\r\n            this.$body.append(this._$viewsWrapper)\r\n        }\r\n    },\r\n    _getKeyboardListeners() {\r\n        return this.callBase().concat([this._view])\r\n    },\r\n    _renderViews: function() {\r\n        this.$element().addClass(CALENDAR_VIEW_CLASS + \"-\" + this.option(\"zoomLevel\"));\r\n        var currentDate = this.option(\"currentDate\");\r\n        this._view = this._renderSpecificView(currentDate);\r\n        if (hasWindow()) {\r\n            var beforeDate = this._getDateByOffset(-1, currentDate);\r\n            this._beforeView = this._isViewAvailable(beforeDate) ? this._renderSpecificView(beforeDate) : null;\r\n            var afterDate = this._getDateByOffset(1, currentDate);\r\n            afterDate.setDate(1);\r\n            this._afterView = this._isViewAvailable(afterDate) ? this._renderSpecificView(afterDate) : null\r\n        }\r\n        this._translateViews()\r\n    },\r\n    _renderSpecificView: function(date) {\r\n        var specificView = Views[this.option(\"zoomLevel\")];\r\n        var $view = $(\"<div>\").appendTo(this._$viewsWrapper);\r\n        var config = this._viewConfig(date);\r\n        return this._createComponent($view, specificView, config)\r\n    },\r\n    _viewConfig: function(date) {\r\n        var disabledDates = this.option(\"disabledDates\");\r\n        disabledDates = isFunction(disabledDates) ? this._injectComponent(disabledDates.bind(this)) : disabledDates;\r\n        return {\r\n            date: date,\r\n            min: this._getMinDate(),\r\n            max: this._getMaxDate(),\r\n            firstDayOfWeek: this.option(\"firstDayOfWeek\"),\r\n            value: this._dateOption(\"value\"),\r\n            tabIndex: void 0,\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            disabledDates: disabledDates,\r\n            onCellClick: this._cellClickHandler.bind(this),\r\n            cellTemplate: this._getTemplateByOption(\"cellTemplate\"),\r\n            allowValueSelection: this._isMaxZoomLevel(),\r\n            _todayDate: this.option(\"_todayDate\")\r\n        }\r\n    },\r\n    _injectComponent: function(func) {\r\n        var that = this;\r\n        return function(params) {\r\n            extend(params, {\r\n                component: that\r\n            });\r\n            return func(params)\r\n        }\r\n    },\r\n    _isViewAvailable: function(date) {\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        var min = dateUtils.getViewMinBoundaryDate(zoomLevel, this._getMinDate());\r\n        var max = dateUtils.getViewMaxBoundaryDate(zoomLevel, this._getMaxDate());\r\n        return dateUtils.dateInRange(date, min, max)\r\n    },\r\n    _translateViews: function() {\r\n        move(this._view.$element(), {\r\n            left: 0,\r\n            top: 0\r\n        });\r\n        this._beforeView && move(this._beforeView.$element(), {\r\n            left: this._getViewPosition(-1),\r\n            top: 0\r\n        });\r\n        this._afterView && move(this._afterView.$element(), {\r\n            left: this._getViewPosition(1),\r\n            top: 0\r\n        })\r\n    },\r\n    _getViewPosition: function(coefficient) {\r\n        var rtlCorrection = this.option(\"rtlEnabled\") ? -1 : 1;\r\n        return 100 * coefficient * rtlCorrection + \"%\"\r\n    },\r\n    _cellClickHandler: function(e) {\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        var nextView = dateUtils.getViewDown(zoomLevel);\r\n        var isMaxZoomLevel = this._isMaxZoomLevel();\r\n        if (nextView && !isMaxZoomLevel) {\r\n            this._navigateDown(e.event.currentTarget)\r\n        } else {\r\n            var newValue = this._updateTimeComponent(e.value);\r\n            this._dateValue(newValue, e.event);\r\n            this._cellClickAction(e)\r\n        }\r\n    },\r\n    _updateTimeComponent: function(date) {\r\n        var result = new Date(date);\r\n        var currentValue = this._dateOption(\"value\");\r\n        if (currentValue) {\r\n            result.setHours(currentValue.getHours());\r\n            result.setMinutes(currentValue.getMinutes());\r\n            result.setSeconds(currentValue.getSeconds());\r\n            result.setMilliseconds(currentValue.getMilliseconds())\r\n        }\r\n        return result\r\n    },\r\n    _isMaxZoomLevel: function() {\r\n        return this.option(\"zoomLevel\") === this.option(\"maxZoomLevel\")\r\n    },\r\n    _navigateDown: function(cell) {\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        if (this._isMaxZoomLevel()) {\r\n            return\r\n        }\r\n        var nextView = dateUtils.getViewDown(zoomLevel);\r\n        if (!nextView) {\r\n            return\r\n        }\r\n        var newCurrentDate = this._view.option(\"contouredDate\") || this._view.option(\"date\");\r\n        if (cell) {\r\n            newCurrentDate = $(cell).data(CALENDAR_DATE_VALUE_KEY)\r\n        }\r\n        this._isOtherViewCellClicked = true;\r\n        this.option(\"currentDate\", newCurrentDate);\r\n        this.option(\"zoomLevel\", nextView);\r\n        this._isOtherViewCellClicked = false;\r\n        this._renderNavigator();\r\n        this._animateShowView();\r\n        this._moveToClosestAvailableDate();\r\n        this._setViewContoured(this._getNormalizedDate(this.option(\"currentDate\")))\r\n    },\r\n    _renderNavigator: function() {\r\n        if (!this._navigator) {\r\n            this._navigator = new Navigator($(\"<div>\"), this._navigatorConfig())\r\n        }\r\n        this._navigator.option(\"text\", this._view.getNavigatorCaption());\r\n        this._updateButtonsVisibility()\r\n    },\r\n    _navigatorConfig: function() {\r\n        return {\r\n            text: this._view.getNavigatorCaption(),\r\n            onClick: this._navigatorClickHandler.bind(this),\r\n            onCaptionClick: this._navigateUp.bind(this),\r\n            rtlEnabled: this.option(\"rtlEnabled\")\r\n        }\r\n    },\r\n    _navigatorClickHandler: function(e) {\r\n        var currentDate = this._getDateByOffset(e.direction, this.option(\"currentDate\"));\r\n        this._moveToClosestAvailableDate(currentDate)\r\n    },\r\n    _navigateUp: function() {\r\n        var zoomLevel = this.option(\"zoomLevel\");\r\n        var nextView = dateUtils.getViewUp(zoomLevel);\r\n        if (!nextView || this._isMinZoomLevel(zoomLevel)) {\r\n            return\r\n        }\r\n        this.option(\"zoomLevel\", nextView);\r\n        this._renderNavigator();\r\n        this._animateShowView();\r\n        this._moveToClosestAvailableDate();\r\n        this._setViewContoured(this._getNormalizedDate(this.option(\"currentDate\")))\r\n    },\r\n    _isMinZoomLevel: function(zoomLevel) {\r\n        var min = this._getMinDate();\r\n        var max = this._getMaxDate();\r\n        return dateUtils.sameView(zoomLevel, min, max) || this.option(\"minZoomLevel\") === zoomLevel\r\n    },\r\n    _updateButtonsVisibility: function() {\r\n        this._navigator.toggleButton(\"next\", !isDefined(this._getRequiredView(\"next\")));\r\n        this._navigator.toggleButton(\"prev\", !isDefined(this._getRequiredView(\"prev\")))\r\n    },\r\n    _renderSwipeable: function() {\r\n        if (!this._swipeable) {\r\n            this._swipeable = this._createComponent(this.$element(), Swipeable, {\r\n                onStart: this._swipeStartHandler.bind(this),\r\n                onUpdated: this._swipeUpdateHandler.bind(this),\r\n                onEnd: this._swipeEndHandler.bind(this),\r\n                itemSizeFunc: this._viewWidth.bind(this)\r\n            })\r\n        }\r\n    },\r\n    _swipeStartHandler: function(e) {\r\n        fx.stop(this._$viewsWrapper, true);\r\n        e.event.maxLeftOffset = this._getRequiredView(\"next\") ? 1 : 0;\r\n        e.event.maxRightOffset = this._getRequiredView(\"prev\") ? 1 : 0\r\n    },\r\n    _getRequiredView: function(name) {\r\n        var view;\r\n        var isRtl = this.option(\"rtlEnabled\");\r\n        if (\"next\" === name) {\r\n            view = isRtl ? this._beforeView : this._afterView\r\n        } else if (\"prev\" === name) {\r\n            view = isRtl ? this._afterView : this._beforeView\r\n        }\r\n        return view\r\n    },\r\n    _swipeUpdateHandler: function(e) {\r\n        var offset = e.event.offset;\r\n        move(this._$viewsWrapper, {\r\n            left: offset * this._viewWidth(),\r\n            top: 0\r\n        });\r\n        this._updateNavigatorCaption(offset)\r\n    },\r\n    _swipeEndHandler: function(e) {\r\n        var targetOffset = e.event.targetOffset;\r\n        var moveOffset = !targetOffset ? 0 : targetOffset / Math.abs(targetOffset);\r\n        if (0 === moveOffset) {\r\n            this._animateWrapper(0, ANIMATION_DURATION_SHOW_VIEW);\r\n            return\r\n        }\r\n        var date = this._getDateByOffset(-moveOffset * this._getRtlCorrection());\r\n        if (this._isDateInInvalidRange(date)) {\r\n            if (moveOffset >= 0) {\r\n                date = new Date(this._getMinDate())\r\n            } else {\r\n                date = new Date(this._getMaxDate())\r\n            }\r\n        }\r\n        this.option(\"currentDate\", date)\r\n    },\r\n    _viewWidth: function() {\r\n        if (!this._viewWidthValue) {\r\n            this._viewWidthValue = getWidth(this.$element())\r\n        }\r\n        return this._viewWidthValue\r\n    },\r\n    _updateNavigatorCaption: function(offset) {\r\n        offset *= this._getRtlCorrection();\r\n        var view = this._view;\r\n        if (offset > .5 && this._beforeView) {\r\n            view = this._beforeView\r\n        } else if (offset < -.5 && this._afterView) {\r\n            view = this._afterView\r\n        }\r\n        this._navigator.option(\"text\", view.getNavigatorCaption())\r\n    },\r\n    _isDateInInvalidRange: function(date) {\r\n        if (this._view.isBoundary(date)) {\r\n            return\r\n        }\r\n        var min = this._getMinDate();\r\n        var max = this._getMaxDate();\r\n        var normalizedDate = dateUtils.normalizeDate(date, min, max);\r\n        return normalizedDate === min || normalizedDate === max\r\n    },\r\n    _renderFooter: function() {\r\n        var showTodayButton = this.option(\"showTodayButton\");\r\n        if (showTodayButton) {\r\n            var $todayButton = this._createComponent($(\"<a>\"), Button, {\r\n                focusStateEnabled: false,\r\n                text: messageLocalization.format(\"dxCalendar-todayButtonText\"),\r\n                onClick: function(args) {\r\n                    this._toTodayView(args)\r\n                }.bind(this),\r\n                integrationOptions: {}\r\n            }).$element().addClass(CALENDAR_TODAY_BUTTON_CLASS);\r\n            this._$footer = $(\"<div>\").addClass(CALENDAR_FOOTER_CLASS).append($todayButton);\r\n            this.$element().append(this._$footer)\r\n        }\r\n        this.$element().toggleClass(CALENDAR_HAS_FOOTER_CLASS, showTodayButton)\r\n    },\r\n    _renderSubmitElement: function() {\r\n        this._$submitElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this.$element());\r\n        this._setSubmitValue(this.option(\"value\"))\r\n    },\r\n    _setSubmitValue: function(value) {\r\n        var dateValue = this._convertToDate(value);\r\n        this._getSubmitElement().val(dateSerialization.serializeDate(dateValue, CALENDAR_INPUT_STANDARD_PATTERN))\r\n    },\r\n    _getSubmitElement: function() {\r\n        return this._$submitElement\r\n    },\r\n    _animateShowView: function() {\r\n        fx.stop(this._view.$element(), true);\r\n        return this._popAnimationView(this._view, POP_ANIMATION_FROM, POP_ANIMATION_TO, ANIMATION_DURATION_SHOW_VIEW).promise()\r\n    },\r\n    _popAnimationView: function(view, from, to, duration) {\r\n        return fx.animate(view.$element(), {\r\n            type: \"pop\",\r\n            from: {\r\n                scale: from,\r\n                opacity: from\r\n            },\r\n            to: {\r\n                scale: to,\r\n                opacity: to\r\n            },\r\n            duration: duration\r\n        })\r\n    },\r\n    _navigate: function(offset, value) {\r\n        if (0 !== offset && 1 !== Math.abs(offset) && this._isViewAvailable(value)) {\r\n            var newView = this._renderSpecificView(value);\r\n            if (offset > 0) {\r\n                this._afterView && this._afterView.$element().remove();\r\n                this._afterView = newView\r\n            } else {\r\n                this._beforeView && this._beforeView.$element().remove();\r\n                this._beforeView = newView\r\n            }\r\n            this._translateViews()\r\n        }\r\n        var rtlCorrection = this._getRtlCorrection();\r\n        var offsetSign = offset > 0 ? 1 : offset < 0 ? -1 : 0;\r\n        var endPosition = -rtlCorrection * offsetSign * this._viewWidth();\r\n        var viewsWrapperPosition = this._$viewsWrapper.position().left;\r\n        if (viewsWrapperPosition !== endPosition) {\r\n            if (this._preventViewChangeAnimation) {\r\n                this._wrapperAnimationEndHandler(offset, value)\r\n            } else {\r\n                this._animateWrapper(endPosition, ANIMATION_DURATION_SHOW_VIEW).done(this._wrapperAnimationEndHandler.bind(this, offset, value))\r\n            }\r\n        }\r\n    },\r\n    _animateWrapper: function(to, duration) {\r\n        return fx.animate(this._$viewsWrapper, {\r\n            type: \"slide\",\r\n            from: {\r\n                left: this._$viewsWrapper.position().left\r\n            },\r\n            to: {\r\n                left: to\r\n            },\r\n            duration: duration\r\n        })\r\n    },\r\n    _getDate: value => new Date(value),\r\n    _toTodayView: function(args) {\r\n        this._saveValueChangeEvent(args.event);\r\n        var today = new Date;\r\n        if (this._isMaxZoomLevel()) {\r\n            this._dateOption(\"value\", today);\r\n            return\r\n        }\r\n        this._preventViewChangeAnimation = true;\r\n        this.option(\"zoomLevel\", this.option(\"maxZoomLevel\"));\r\n        this._dateOption(\"value\", today);\r\n        this._animateShowView();\r\n        this._preventViewChangeAnimation = false\r\n    },\r\n    _wrapperAnimationEndHandler: function(offset, newDate) {\r\n        this._rearrangeViews(offset);\r\n        this._translateViews();\r\n        this._resetLocation();\r\n        this._renderNavigator();\r\n        this._setViewContoured(newDate);\r\n        this._updateAriaId(newDate)\r\n    },\r\n    _rearrangeViews: function(offset) {\r\n        if (0 === offset) {\r\n            return\r\n        }\r\n        var viewOffset;\r\n        var viewToCreateKey;\r\n        var viewToRemoveKey;\r\n        if (offset < 0) {\r\n            viewOffset = 1;\r\n            viewToCreateKey = \"_beforeView\";\r\n            viewToRemoveKey = \"_afterView\"\r\n        } else {\r\n            viewOffset = -1;\r\n            viewToCreateKey = \"_afterView\";\r\n            viewToRemoveKey = \"_beforeView\"\r\n        }\r\n        if (!this[viewToCreateKey]) {\r\n            return\r\n        }\r\n        var destinationDate = this[viewToCreateKey].option(\"date\");\r\n        if (this[viewToRemoveKey]) {\r\n            this[viewToRemoveKey].$element().remove()\r\n        }\r\n        if (offset === viewOffset) {\r\n            this[viewToRemoveKey] = this._view\r\n        } else {\r\n            this[viewToRemoveKey] = this._renderSpecificView(this._getDateByOffset(viewOffset, destinationDate));\r\n            this._view.$element().remove()\r\n        }\r\n        this._view = this[viewToCreateKey];\r\n        var dateByOffset = this._getDateByOffset(-viewOffset, destinationDate);\r\n        this[viewToCreateKey] = this._isViewAvailable(dateByOffset) ? this._renderSpecificView(dateByOffset) : null\r\n    },\r\n    _resetLocation: function() {\r\n        move(this._$viewsWrapper, {\r\n            left: 0,\r\n            top: 0\r\n        })\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        this._clearViewWidthCache();\r\n        delete this._$viewsWrapper;\r\n        delete this._navigator;\r\n        delete this._$footer\r\n    },\r\n    _clearViewWidthCache: function() {\r\n        delete this._viewWidthValue\r\n    },\r\n    _disposeViews: function() {\r\n        this._view.$element().remove();\r\n        this._beforeView && this._beforeView.$element().remove();\r\n        this._afterView && this._afterView.$element().remove();\r\n        delete this._view;\r\n        delete this._beforeView;\r\n        delete this._afterView\r\n    },\r\n    _dispose: function() {\r\n        clearTimeout(this._waitRenderViewTimeout);\r\n        this.callBase()\r\n    },\r\n    _refreshViews: function() {\r\n        this._disposeViews();\r\n        this._renderViews()\r\n    },\r\n    _visibilityChanged: function() {\r\n        this._translateViews()\r\n    },\r\n    _focusInHandler: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._view.option(\"contouredDate\", this.option(\"currentDate\"))\r\n    },\r\n    _focusOutHandler: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._view.option(\"contouredDate\", null)\r\n    },\r\n    _updateViewsValue: function(value) {\r\n        var newValue = value ? new Date(value) : null;\r\n        this._view.option(\"value\", newValue);\r\n        this._beforeView && this._beforeView.option(\"value\", newValue);\r\n        this._afterView && this._afterView.option(\"value\", newValue)\r\n    },\r\n    _updateAriaSelected: function(value, previousValue) {\r\n        var _value;\r\n        value = null !== (_value = value) && void 0 !== _value ? _value : this._dateOption(\"value\");\r\n        var $prevSelectedCell = this._view._getCellByDate(previousValue);\r\n        var $selectedCell = this._view._getCellByDate(value);\r\n        this.setAria(\"selected\", void 0, $prevSelectedCell);\r\n        this.setAria(\"selected\", true, $selectedCell);\r\n        if (value && this.option(\"currentDate\").getTime() === value.getTime()) {\r\n            this._updateAriaId(value)\r\n        }\r\n    },\r\n    _updateAriaId: function(value) {\r\n        var _value2;\r\n        value = null !== (_value2 = value) && void 0 !== _value2 ? _value2 : this.option(\"currentDate\");\r\n        var ariaId = \"dx-\" + new Guid;\r\n        var $newCell = this._view._getCellByDate(value);\r\n        this.setAria(\"id\", ariaId, $newCell);\r\n        this.setAria(\"activedescendant\", ariaId);\r\n        this._onContouredChanged(ariaId)\r\n    },\r\n    _suppressingNavigation: function(callback, args) {\r\n        this._suppressNavigation = true;\r\n        callback.apply(this, args);\r\n        delete this._suppressNavigation\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        var previousValue = args.previousValue;\r\n        switch (args.name) {\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._clearViewWidthCache();\r\n                break;\r\n            case \"min\":\r\n            case \"max\":\r\n                this.min = void 0;\r\n                this.max = void 0;\r\n                this._suppressingNavigation(this._updateCurrentDate, [this.option(\"currentDate\")]);\r\n                this._refreshViews();\r\n                this._renderNavigator();\r\n                break;\r\n            case \"firstDayOfWeek\":\r\n                this._refreshViews();\r\n                this._updateButtonsVisibility();\r\n                break;\r\n            case \"currentDate\":\r\n                this.setAria(\"id\", void 0, this._view._getCellByDate(previousValue));\r\n                this._updateCurrentDate(value);\r\n                break;\r\n            case \"zoomLevel\":\r\n                this.$element().removeClass(CALENDAR_VIEW_CLASS + \"-\" + previousValue);\r\n                this._correctZoomLevel();\r\n                this._refreshViews();\r\n                this._renderNavigator();\r\n                this._updateAriaId();\r\n                break;\r\n            case \"minZoomLevel\":\r\n            case \"maxZoomLevel\":\r\n                this._correctZoomLevel();\r\n                this._updateButtonsVisibility();\r\n                break;\r\n            case \"value\":\r\n                value = this._convertToDate(value);\r\n                previousValue = this._convertToDate(previousValue);\r\n                this._updateAriaSelected(value, previousValue);\r\n                this.option(\"currentDate\", isDefined(value) ? new Date(value) : new Date);\r\n                this._updateViewsValue(value);\r\n                this._setSubmitValue(value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"onCellClick\":\r\n                this._view.option(\"onCellClick\", value);\r\n                break;\r\n            case \"onContouredChanged\":\r\n                this._onContouredChanged = this._createActionByOption(\"onContouredChanged\");\r\n                break;\r\n            case \"disabledDates\":\r\n            case \"dateSerializationFormat\":\r\n            case \"cellTemplate\":\r\n            case \"showTodayButton\":\r\n                this._invalidate();\r\n                break;\r\n            case \"skipFocusCheck\":\r\n                break;\r\n            case \"_todayDate\":\r\n                this._refreshViews();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    getContouredDate: function() {\r\n        return this._view.option(\"contouredDate\")\r\n    }\r\n});\r\nregisterComponent(\"dxCalendar\", Calendar);\r\nexport default Calendar;\r\n","/**\r\n * DevExtreme (esm/ui/calendar.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Calendar from \"./calendar/ui.calendar\";\r\nexport default Calendar;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_box.strategy.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport Class from \"../../core/class\";\r\nimport dateLocalization from \"../../localization/date\";\r\nvar abstract = Class.abstract;\r\nvar DateBoxStrategy = Class.inherit({\r\n    ctor: function(dateBox) {\r\n        this.dateBox = dateBox\r\n    },\r\n    widgetOption: function() {\r\n        return this._widget && this._widget.option.apply(this._widget, arguments)\r\n    },\r\n    _renderWidget: function(element) {\r\n        element = element || $(\"<div>\");\r\n        this._widget = this._createWidget(element);\r\n        this._widget.$element().appendTo(this._getWidgetContainer())\r\n    },\r\n    _createWidget: function(element) {\r\n        var widgetName = this._getWidgetName();\r\n        var widgetOptions = this._getWidgetOptions();\r\n        return this.dateBox._createComponent(element, widgetName, widgetOptions)\r\n    },\r\n    _getWidgetOptions: abstract,\r\n    _getWidgetName: abstract,\r\n    getDefaultOptions: function() {\r\n        return {\r\n            mode: \"text\"\r\n        }\r\n    },\r\n    getDisplayFormat: abstract,\r\n    supportedKeys: noop,\r\n    getKeyboardListener: noop,\r\n    customizeButtons: noop,\r\n    getParsedText: function(text, format) {\r\n        var value = dateLocalization.parse(text, format);\r\n        return value ? value : dateLocalization.parse(text)\r\n    },\r\n    renderInputMinMax: noop,\r\n    renderOpenedState: function() {\r\n        this._updateValue()\r\n    },\r\n    popupConfig: abstract,\r\n    _dimensionChanged: function() {\r\n        var _this$_getPopup;\r\n        null === (_this$_getPopup = this._getPopup()) || void 0 === _this$_getPopup ? void 0 : _this$_getPopup.repaint()\r\n    },\r\n    renderPopupContent: function() {\r\n        var popup = this._getPopup();\r\n        this._renderWidget();\r\n        var $popupContent = popup.$content().parent();\r\n        eventsEngine.off($popupContent, \"mousedown\");\r\n        eventsEngine.on($popupContent, \"mousedown\", this._preventFocusOnPopup.bind(this))\r\n    },\r\n    getFirstPopupElement: noop,\r\n    getLastPopupElement: noop,\r\n    _preventFocusOnPopup: function(e) {\r\n        e.preventDefault()\r\n    },\r\n    _getWidgetContainer: function() {\r\n        return this._getPopup().$content()\r\n    },\r\n    _getPopup: function() {\r\n        return this.dateBox._popup\r\n    },\r\n    popupShowingHandler: noop,\r\n    popupHiddenHandler: noop,\r\n    _updateValue: function() {\r\n        this._widget && this._widget.option(\"value\", this.dateBoxValue())\r\n    },\r\n    useCurrentDateByDefault: noop,\r\n    getDefaultDate: function() {\r\n        return new Date\r\n    },\r\n    textChangedHandler: noop,\r\n    renderValue: function() {\r\n        if (this.dateBox.option(\"opened\")) {\r\n            this._updateValue()\r\n        }\r\n    },\r\n    getValue: function() {\r\n        return this._widget.option(\"value\")\r\n    },\r\n    isAdaptivityChanged: function() {\r\n        return false\r\n    },\r\n    dispose: function() {\r\n        var popup = this._getPopup();\r\n        if (popup) {\r\n            popup.$content().empty()\r\n        }\r\n    },\r\n    dateBoxValue: function() {\r\n        if (arguments.length) {\r\n            return this.dateBox.dateValue.apply(this.dateBox, arguments)\r\n        } else {\r\n            return this.dateBox.dateOption.apply(this.dateBox, [\"value\"])\r\n        }\r\n    }\r\n});\r\nexport default DateBoxStrategy;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_box.strategy.calendar.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Calendar from \"../calendar\";\r\nimport DateBoxStrategy from \"./ui.date_box.strategy\";\r\nimport dateUtils from \"../../core/utils/date\";\r\nimport {\r\n    splitPair\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isFunction,\r\n    isEmptyObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport messageLocalization from \"../../localization/message\";\r\nvar CalendarStrategy = DateBoxStrategy.inherit({\r\n    NAME: \"Calendar\",\r\n    supportedKeys: function() {\r\n        var homeEndHandler = function(e) {\r\n            if (this.option(\"opened\")) {\r\n                e.preventDefault();\r\n                return true\r\n            }\r\n            return false\r\n        };\r\n        return {\r\n            rightArrow: function() {\r\n                if (this.option(\"opened\")) {\r\n                    return true\r\n                }\r\n            },\r\n            leftArrow: function() {\r\n                if (this.option(\"opened\")) {\r\n                    return true\r\n                }\r\n            },\r\n            enter: function(e) {\r\n                if (this.dateBox.option(\"opened\")) {\r\n                    e.preventDefault();\r\n                    if (this._widget.option(\"zoomLevel\") === this._widget.option(\"maxZoomLevel\")) {\r\n                        var viewValue = this._getContouredValue();\r\n                        var lastActionElement = this._lastActionElement;\r\n                        var shouldCloseDropDown = this._closeDropDownByEnter();\r\n                        if (shouldCloseDropDown && viewValue && \"calendar\" === lastActionElement) {\r\n                            this.dateBoxValue(viewValue, e)\r\n                        }\r\n                        shouldCloseDropDown && this.dateBox.close();\r\n                        this.dateBox._valueChangeEventHandler(e);\r\n                        return !shouldCloseDropDown\r\n                    } else {\r\n                        return true\r\n                    }\r\n                } else {\r\n                    this.dateBox._valueChangeEventHandler(e)\r\n                }\r\n            }.bind(this),\r\n            home: homeEndHandler,\r\n            end: homeEndHandler\r\n        }\r\n    },\r\n    getDisplayFormat: function(displayFormat) {\r\n        return displayFormat || \"shortdate\"\r\n    },\r\n    _closeDropDownByEnter: () => true,\r\n    _getWidgetName: function() {\r\n        return Calendar\r\n    },\r\n    _getContouredValue: function() {\r\n        return this._widget._view.option(\"contouredDate\")\r\n    },\r\n    getKeyboardListener() {\r\n        return this._widget\r\n    },\r\n    _getWidgetOptions: function() {\r\n        var disabledDates = this.dateBox.option(\"disabledDates\");\r\n        return extend(this.dateBox.option(\"calendarOptions\"), {\r\n            value: this.dateBoxValue() || null,\r\n            dateSerializationFormat: null,\r\n            min: this.dateBox.dateOption(\"min\"),\r\n            max: this.dateBox.dateOption(\"max\"),\r\n            onValueChanged: this._valueChangedHandler.bind(this),\r\n            onCellClick: this._cellClickHandler.bind(this),\r\n            tabIndex: null,\r\n            disabledDates: isFunction(disabledDates) ? this._injectComponent(disabledDates.bind(this.dateBox)) : disabledDates,\r\n            onContouredChanged: this._refreshActiveDescendant.bind(this),\r\n            skipFocusCheck: true\r\n        })\r\n    },\r\n    _injectComponent: function(func) {\r\n        var that = this;\r\n        return function(params) {\r\n            extend(params, {\r\n                component: that.dateBox\r\n            });\r\n            return func(params)\r\n        }\r\n    },\r\n    _refreshActiveDescendant: function(e) {\r\n        this._lastActionElement = \"calendar\";\r\n        this.dateBox.setAria(\"activedescendant\", e.actionValue)\r\n    },\r\n    popupConfig: function(_popupConfig) {\r\n        var toolbarItems = _popupConfig.toolbarItems;\r\n        var buttonsLocation = this.dateBox.option(\"buttonsLocation\");\r\n        var position = [];\r\n        if (\"default\" !== buttonsLocation) {\r\n            position = splitPair(buttonsLocation)\r\n        } else {\r\n            position = [\"bottom\", \"center\"]\r\n        }\r\n        if (\"useButtons\" === this.dateBox.option(\"applyValueMode\") && this._isCalendarVisible()) {\r\n            toolbarItems.unshift({\r\n                widget: \"dxButton\",\r\n                toolbar: position[0],\r\n                location: \"after\" === position[1] ? \"before\" : position[1],\r\n                options: {\r\n                    onInitialized: function(e) {\r\n                        e.component.registerKeyHandler(\"escape\", this._escapeHandler.bind(this))\r\n                    }.bind(this),\r\n                    onClick: args => {\r\n                        this._widget._toTodayView(args)\r\n                    },\r\n                    text: messageLocalization.format(\"dxCalendar-todayButtonText\"),\r\n                    type: \"today\"\r\n                }\r\n            })\r\n        }\r\n        return extend(true, _popupConfig, {\r\n            toolbarItems: toolbarItems,\r\n            position: {\r\n                collision: \"flipfit flip\"\r\n            },\r\n            width: \"auto\"\r\n        })\r\n    },\r\n    _isCalendarVisible: function() {\r\n        return isEmptyObject(this.dateBox.option(\"calendarOptions\")) || false !== this.dateBox.option(\"calendarOptions.visible\")\r\n    },\r\n    _escapeHandler: function() {\r\n        this.dateBox.close();\r\n        this.dateBox.focus()\r\n    },\r\n    _valueChangedHandler: function(e) {\r\n        var dateBox = this.dateBox;\r\n        var value = e.value;\r\n        var prevValue = e.previousValue;\r\n        if (dateUtils.sameDate(value, prevValue)) {\r\n            return\r\n        }\r\n        if (\"instantly\" === dateBox.option(\"applyValueMode\")) {\r\n            this.dateBoxValue(this.getValue(), e.event)\r\n        }\r\n    },\r\n    _updateValue: function() {\r\n        if (!this._widget) {\r\n            return\r\n        }\r\n        this._widget.option(\"value\", this.dateBoxValue())\r\n    },\r\n    textChangedHandler: function() {\r\n        this._lastActionElement = \"input\";\r\n        if (this.dateBox.option(\"opened\") && this._widget) {\r\n            this._updateValue(true)\r\n        }\r\n    },\r\n    _cellClickHandler: function(e) {\r\n        var dateBox = this.dateBox;\r\n        if (\"instantly\" === dateBox.option(\"applyValueMode\")) {\r\n            dateBox.option(\"opened\", false);\r\n            this.dateBoxValue(this.getValue(), e.event)\r\n        }\r\n    }\r\n});\r\nexport default CalendarStrategy;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/scroll_view/utils/convert_location.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined,\r\n    isPlainObject\r\n} from \"../../../../core/utils/type\";\r\nimport {\r\n    ensureDefined\r\n} from \"../../../../core/utils/common\";\r\nimport {\r\n    ScrollDirection\r\n} from \"./scroll_direction\";\r\nexport function convertToLocation(location, direction) {\r\n    if (isPlainObject(location)) {\r\n        var left = ensureDefined(location.left, location.x);\r\n        var top = ensureDefined(location.top, location.y);\r\n        return {\r\n            left: isDefined(left) ? left : void 0,\r\n            top: isDefined(top) ? top : void 0\r\n        }\r\n    }\r\n    var {\r\n        isHorizontal: isHorizontal,\r\n        isVertical: isVertical\r\n    } = new ScrollDirection(direction);\r\n    return {\r\n        left: isHorizontal && isDefined(location) ? location : void 0,\r\n        top: isVertical && isDefined(location) ? location : void 0\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_view_roller.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nimport devices from \"../../core/devices\";\r\nimport fx from \"../../animation/fx\";\r\nimport {\r\n    resetPosition\r\n} from \"../../animation/translator\";\r\nimport {\r\n    convertToLocation\r\n} from \"../../renovation/ui/scroll_view/utils/convert_location\";\r\nvar DATEVIEW_ROLLER_CLASS = \"dx-dateviewroller\";\r\nvar DATEVIEW_ROLLER_ACTIVE_CLASS = \"dx-state-active\";\r\nvar DATEVIEW_ROLLER_CURRENT_CLASS = \"dx-dateviewroller-current\";\r\nvar DATEVIEW_ROLLER_ITEM_CLASS = \"dx-dateview-item\";\r\nvar DATEVIEW_ROLLER_ITEM_SELECTED_CLASS = \"dx-dateview-item-selected\";\r\nvar DATEVIEW_ROLLER_ITEM_SELECTED_FRAME_CLASS = \"dx-dateview-item-selected-frame\";\r\nvar DATEVIEW_ROLLER_ITEM_SELECTED_BORDER_CLASS = \"dx-dateview-item-selected-border\";\r\nclass DateViewRoller extends Scrollable {\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            showScrollbar: \"never\",\r\n            useNative: false,\r\n            selectedIndex: 0,\r\n            bounceEnabled: false,\r\n            items: [],\r\n            showOnClick: false,\r\n            onClick: null,\r\n            onSelectedIndexChanged: null,\r\n            scrollByContent: true\r\n        })\r\n    }\r\n    _init() {\r\n        super._init();\r\n        this.option(\"onVisibilityChange\", this._visibilityChangedHandler.bind(this));\r\n        this.option(\"onEnd\", this._endActionHandler.bind(this))\r\n    }\r\n    _render() {\r\n        super._render();\r\n        this._renderSelectedItemFrame();\r\n        this.$element().addClass(DATEVIEW_ROLLER_CLASS);\r\n        this._renderContainerClick();\r\n        this._renderItems();\r\n        this._renderSelectedValue();\r\n        this._renderItemsClick();\r\n        this._renderWheelEvent();\r\n        this._renderSelectedIndexChanged()\r\n    }\r\n    _renderSelectedIndexChanged() {\r\n        this._selectedIndexChanged = this._createActionByOption(\"onSelectedIndexChanged\")\r\n    }\r\n    _renderWheelEvent() {\r\n        eventsEngine.on($(this.container()), \"dxmousewheel\", e => {\r\n            this._isWheelScrolled = true\r\n        })\r\n    }\r\n    _renderContainerClick() {\r\n        if (!this.option(\"showOnClick\")) {\r\n            return\r\n        }\r\n        var eventName = addNamespace(clickEventName, this.NAME);\r\n        var clickAction = this._createActionByOption(\"onClick\");\r\n        eventsEngine.off($(this.container()), eventName);\r\n        eventsEngine.on($(this.container()), eventName, (function(e) {\r\n            clickAction({\r\n                event: e\r\n            })\r\n        }))\r\n    }\r\n    _renderItems() {\r\n        var items = this.option(\"items\") || [];\r\n        var $items = $();\r\n        $(this.content()).empty();\r\n        items.forEach((function(item) {\r\n            $items = $items.add($(\"<div>\").addClass(DATEVIEW_ROLLER_ITEM_CLASS).append(item))\r\n        }));\r\n        $(this.content()).append($items);\r\n        this._$items = $items;\r\n        this.update()\r\n    }\r\n    _renderSelectedItemFrame() {\r\n        $(\"<div>\").addClass(DATEVIEW_ROLLER_ITEM_SELECTED_FRAME_CLASS).append($(\"<div>\").addClass(DATEVIEW_ROLLER_ITEM_SELECTED_BORDER_CLASS)).appendTo($(this.container()))\r\n    }\r\n    _renderSelectedValue(selectedIndex) {\r\n        var index = this._fitIndex(null !== selectedIndex && void 0 !== selectedIndex ? selectedIndex : this.option(\"selectedIndex\"));\r\n        this._moveTo({\r\n            top: this._getItemPosition(index)\r\n        });\r\n        this._renderActiveStateItem()\r\n    }\r\n    _fitIndex(index) {\r\n        var items = this.option(\"items\") || [];\r\n        var itemCount = items.length;\r\n        if (index >= itemCount) {\r\n            return itemCount - 1\r\n        }\r\n        if (index < 0) {\r\n            return 0\r\n        }\r\n        return index\r\n    }\r\n    _getItemPosition(index) {\r\n        return Math.round(this._itemHeight() * index)\r\n    }\r\n    _renderItemsClick() {\r\n        var itemSelector = this._getItemSelector();\r\n        var eventName = addNamespace(clickEventName, this.NAME);\r\n        eventsEngine.off(this.$element(), eventName, itemSelector);\r\n        eventsEngine.on(this.$element(), eventName, itemSelector, this._itemClickHandler.bind(this))\r\n    }\r\n    _getItemSelector() {\r\n        return \".\" + DATEVIEW_ROLLER_ITEM_CLASS\r\n    }\r\n    _itemClickHandler(e) {\r\n        this.option(\"selectedIndex\", this._itemElementIndex(e.currentTarget))\r\n    }\r\n    _itemElementIndex(itemElement) {\r\n        return this._itemElements().index(itemElement)\r\n    }\r\n    _itemElements() {\r\n        return this.$element().find(this._getItemSelector())\r\n    }\r\n    _renderActiveStateItem() {\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        each(this._$items, (function(index) {\r\n            $(this).toggleClass(DATEVIEW_ROLLER_ITEM_SELECTED_CLASS, selectedIndex === index)\r\n        }))\r\n    }\r\n    _shouldScrollToNeighborItem() {\r\n        return \"desktop\" === devices.real().deviceType && this._isWheelScrolled\r\n    }\r\n    _moveTo(targetLocation) {\r\n        var {\r\n            top: top,\r\n            left: left\r\n        } = convertToLocation(targetLocation);\r\n        var location = this.scrollOffset();\r\n        var delta = {\r\n            x: location.left - left,\r\n            y: location.top - top\r\n        };\r\n        if (this._isVisible() && (delta.x || delta.y)) {\r\n            this._prepareDirections(true);\r\n            if (this._animation && !this._shouldScrollToNeighborItem()) {\r\n                var that = this;\r\n                fx.stop($(this.content()));\r\n                fx.animate($(this.content()), {\r\n                    duration: 200,\r\n                    type: \"slide\",\r\n                    to: {\r\n                        top: Math.floor(delta.y)\r\n                    },\r\n                    complete() {\r\n                        resetPosition($(that.content()));\r\n                        that.handleMove({\r\n                            delta: delta\r\n                        })\r\n                    }\r\n                });\r\n                delete this._animation\r\n            } else {\r\n                this.handleMove({\r\n                    delta: delta\r\n                })\r\n            }\r\n        }\r\n    }\r\n    _validate(e) {\r\n        return this._moveIsAllowed(e)\r\n    }\r\n    _fitSelectedIndexInRange(index) {\r\n        var itemsCount = this.option(\"items\").length;\r\n        return Math.max(Math.min(index, itemsCount - 1), 0)\r\n    }\r\n    _isInNullNeighborhood(x) {\r\n        return -.1 <= x && x <= .1\r\n    }\r\n    _getSelectedIndexAfterScroll(currentSelectedIndex) {\r\n        var locationTop = this.scrollOffset().top;\r\n        var currentSelectedIndexPosition = currentSelectedIndex * this._itemHeight();\r\n        var dy = locationTop - currentSelectedIndexPosition;\r\n        if (this._isInNullNeighborhood(dy)) {\r\n            return currentSelectedIndex\r\n        }\r\n        var direction = dy > 0 ? 1 : -1;\r\n        var newSelectedIndex = this._fitSelectedIndexInRange(currentSelectedIndex + direction);\r\n        return newSelectedIndex\r\n    }\r\n    _getNewSelectedIndex(currentSelectedIndex) {\r\n        if (this._shouldScrollToNeighborItem()) {\r\n            return this._getSelectedIndexAfterScroll(currentSelectedIndex)\r\n        }\r\n        this._animation = true;\r\n        var ratio = this.scrollOffset().top / this._itemHeight();\r\n        return Math.round(ratio)\r\n    }\r\n    _endActionHandler() {\r\n        var currentSelectedIndex = this.option(\"selectedIndex\");\r\n        var newSelectedIndex = this._getNewSelectedIndex(currentSelectedIndex);\r\n        if (newSelectedIndex === currentSelectedIndex) {\r\n            this._renderSelectedValue(newSelectedIndex)\r\n        } else {\r\n            this.option(\"selectedIndex\", newSelectedIndex)\r\n        }\r\n        this._isWheelScrolled = false\r\n    }\r\n    _itemHeight() {\r\n        var $item = this._$items.first();\r\n        return getHeight($item)\r\n    }\r\n    _toggleActive(state) {\r\n        this.$element().toggleClass(DATEVIEW_ROLLER_ACTIVE_CLASS, state)\r\n    }\r\n    _isVisible() {\r\n        return $(this.container()).is(\":visible\")\r\n    }\r\n    _fireSelectedIndexChanged(value, previousValue) {\r\n        this._selectedIndexChanged({\r\n            value: value,\r\n            previousValue: previousValue,\r\n            event: void 0\r\n        })\r\n    }\r\n    _visibilityChanged(visible) {\r\n        super._visibilityChanged(visible);\r\n        this._visibilityChangedHandler(visible)\r\n    }\r\n    _visibilityChangedHandler(visible) {\r\n        if (visible) {\r\n            this._visibilityTimer = setTimeout(() => {\r\n                this._renderSelectedValue(this.option(\"selectedIndex\"))\r\n            })\r\n        }\r\n        this.toggleActiveState(false)\r\n    }\r\n    toggleActiveState(state) {\r\n        this.$element().toggleClass(DATEVIEW_ROLLER_CURRENT_CLASS, state)\r\n    }\r\n    _refreshSelectedIndex() {\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        var fitIndex = this._fitIndex(selectedIndex);\r\n        if (fitIndex === selectedIndex) {\r\n            this._renderActiveStateItem()\r\n        } else {\r\n            this.option(\"selectedIndex\", fitIndex)\r\n        }\r\n    }\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"selectedIndex\":\r\n                this._fireSelectedIndexChanged(args.value, args.previousValue);\r\n                this._renderSelectedValue(args.value);\r\n                break;\r\n            case \"items\":\r\n                this._renderItems();\r\n                this._refreshSelectedIndex();\r\n                break;\r\n            case \"onClick\":\r\n            case \"showOnClick\":\r\n                this._renderContainerClick();\r\n                break;\r\n            case \"onSelectedIndexChanged\":\r\n                this._renderSelectedIndexChanged();\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n    _dispose() {\r\n        clearTimeout(this._visibilityTimer);\r\n        super._dispose()\r\n    }\r\n}\r\nregisterComponent(\"dxDateViewRoller\", DateViewRoller);\r\nexport default DateViewRoller;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_view.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport Editor from \"../editor/editor\";\r\nimport DateViewRoller from \"./ui.date_view_roller\";\r\nimport dateUtils from \"../../core/utils/date\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport uiDateUtils from \"./ui.date_utils\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport dateLocalization from \"../../localization/date\";\r\nvar DATEVIEW_CLASS = \"dx-dateview\";\r\nvar DATEVIEW_COMPACT_CLASS = \"dx-dateview-compact\";\r\nvar DATEVIEW_WRAPPER_CLASS = \"dx-dateview-wrapper\";\r\nvar DATEVIEW_ROLLER_CONTAINER_CLASS = \"dx-dateview-rollers\";\r\nvar DATEVIEW_ROLLER_CLASS = \"dx-dateviewroller\";\r\nvar TYPE = {\r\n    date: \"date\",\r\n    datetime: \"datetime\",\r\n    time: \"time\"\r\n};\r\nvar ROLLER_TYPE = {\r\n    year: \"year\",\r\n    month: \"month\",\r\n    day: \"day\",\r\n    hours: \"hours\"\r\n};\r\nvar DateView = Editor.inherit({\r\n    _valueOption: function() {\r\n        var value = this.option(\"value\");\r\n        var date = new Date(value);\r\n        return !value || isNaN(date) ? this._getDefaultDate() : date\r\n    },\r\n    _getDefaultDate: function() {\r\n        var date = new Date;\r\n        if (this.option(\"type\") === TYPE.date) {\r\n            return new Date(date.getFullYear(), date.getMonth(), date.getDate())\r\n        }\r\n        return date\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            minDate: uiDateUtils.MIN_DATEVIEW_DEFAULT_DATE,\r\n            maxDate: uiDateUtils.MAX_DATEVIEW_DEFAULT_DATE,\r\n            type: TYPE.date,\r\n            value: new Date,\r\n            applyCompactClass: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function(_device) {\r\n                return \"desktop\" !== _device.deviceType\r\n            },\r\n            options: {\r\n                applyCompactClass: true\r\n            }\r\n        }])\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this.$element().addClass(DATEVIEW_CLASS);\r\n        this._toggleFormatClasses(this.option(\"type\"));\r\n        this._toggleCompactClass()\r\n    },\r\n    _toggleFormatClasses: function(currentFormat, previousFormat) {\r\n        this.$element().addClass(DATEVIEW_CLASS + \"-\" + currentFormat);\r\n        previousFormat && this.$element().removeClass(DATEVIEW_CLASS + \"-\" + previousFormat)\r\n    },\r\n    _toggleCompactClass: function() {\r\n        this.$element().toggleClass(DATEVIEW_COMPACT_CLASS, this.option(\"applyCompactClass\"))\r\n    },\r\n    _wrapper: function() {\r\n        return this._$wrapper\r\n    },\r\n    _renderContentImpl: function() {\r\n        this._$wrapper = $(\"<div>\").addClass(DATEVIEW_WRAPPER_CLASS);\r\n        this._renderRollers();\r\n        this._$wrapper.appendTo(this.$element())\r\n    },\r\n    _renderRollers: function() {\r\n        if (!this._$rollersContainer) {\r\n            this._$rollersContainer = $(\"<div>\").addClass(DATEVIEW_ROLLER_CONTAINER_CLASS)\r\n        }\r\n        this._$rollersContainer.empty();\r\n        this._createRollerConfigs();\r\n        this._rollers = {};\r\n        var that = this;\r\n        each(that._rollerConfigs, (function(name) {\r\n            var $roller = $(\"<div>\").appendTo(that._$rollersContainer).addClass(DATEVIEW_ROLLER_CLASS + \"-\" + that._rollerConfigs[name].type);\r\n            that._rollers[that._rollerConfigs[name].type] = that._createComponent($roller, DateViewRoller, {\r\n                items: that._rollerConfigs[name].displayItems,\r\n                selectedIndex: that._rollerConfigs[name].selectedIndex,\r\n                showScrollbar: \"never\",\r\n                scrollByContent: true,\r\n                onStart: function(e) {\r\n                    var roller = e.component;\r\n                    roller._toggleActive(true);\r\n                    that._setActiveRoller(that._rollerConfigs[name], roller.option(\"selectedIndex\"))\r\n                },\r\n                onEnd: function(e) {\r\n                    var roller = e.component;\r\n                    roller._toggleActive(false)\r\n                },\r\n                onClick: function(e) {\r\n                    var roller = e.component;\r\n                    roller._toggleActive(true);\r\n                    that._setActiveRoller(that._rollerConfigs[name], roller.option(\"selectedIndex\"));\r\n                    that._setRollerState(that._rollerConfigs[name], roller.option(\"selectedIndex\"));\r\n                    roller._toggleActive(false)\r\n                },\r\n                onSelectedIndexChanged: function(e) {\r\n                    var roller = e.component;\r\n                    that._setRollerState(that._rollerConfigs[name], roller.option(\"selectedIndex\"))\r\n                }\r\n            })\r\n        }));\r\n        that._$rollersContainer.appendTo(that._wrapper())\r\n    },\r\n    _createRollerConfigs: function(type) {\r\n        var that = this;\r\n        type = type || that.option(\"type\");\r\n        that._rollerConfigs = {};\r\n        dateLocalization.getFormatParts(uiDateUtils.FORMATS_MAP[type]).forEach((function(partName) {\r\n            that._createRollerConfig(partName)\r\n        }))\r\n    },\r\n    _createRollerConfig: function(componentName) {\r\n        var componentInfo = uiDateUtils.DATE_COMPONENTS_INFO[componentName];\r\n        var valueRange = this._calculateRollerConfigValueRange(componentName);\r\n        var startValue = valueRange.startValue;\r\n        var endValue = valueRange.endValue;\r\n        var formatter = componentInfo.formatter;\r\n        var curDate = this._getCurrentDate();\r\n        var config = {\r\n            type: componentName,\r\n            setValue: componentInfo.setter,\r\n            valueItems: [],\r\n            displayItems: [],\r\n            getIndex: function(value) {\r\n                return value[componentInfo.getter]() - startValue\r\n            }\r\n        };\r\n        for (var i = startValue; i <= endValue; i++) {\r\n            config.valueItems.push(i);\r\n            config.displayItems.push(formatter(i, curDate))\r\n        }\r\n        config.selectedIndex = config.getIndex(curDate);\r\n        this._rollerConfigs[componentName] = config\r\n    },\r\n    _setActiveRoller: function(currentRoller) {\r\n        var activeRoller = currentRoller && this._rollers[currentRoller.type];\r\n        each(this._rollers, (function() {\r\n            this.toggleActiveState(this === activeRoller)\r\n        }))\r\n    },\r\n    _updateRollersPosition: function() {\r\n        var that = this;\r\n        each(this._rollers, (function(type) {\r\n            var correctIndex = that._rollerConfigs[type].getIndex(that._getCurrentDate());\r\n            this.option(\"selectedIndex\", correctIndex)\r\n        }))\r\n    },\r\n    _setRollerState: function(roller, selectedIndex) {\r\n        if (selectedIndex !== roller.selectedIndex) {\r\n            var rollerValue = roller.valueItems[selectedIndex];\r\n            var setValue = roller.setValue;\r\n            var currentValue = new Date(this._getCurrentDate());\r\n            var currentDate = currentValue.getDate();\r\n            var minDate = this.option(\"minDate\");\r\n            var maxDate = this.option(\"maxDate\");\r\n            if (roller.type === ROLLER_TYPE.month) {\r\n                currentDate = Math.min(currentDate, uiDateUtils.getMaxMonthDay(currentValue.getFullYear(), rollerValue))\r\n            } else if (roller.type === ROLLER_TYPE.year) {\r\n                currentDate = Math.min(currentDate, uiDateUtils.getMaxMonthDay(rollerValue, currentValue.getMonth()))\r\n            }\r\n            currentValue.setDate(currentDate);\r\n            currentValue[setValue](rollerValue);\r\n            var normalizedDate = dateUtils.normalizeDate(currentValue, minDate, maxDate);\r\n            currentValue = uiDateUtils.mergeDates(normalizedDate, currentValue, \"time\");\r\n            currentValue = dateUtils.normalizeDate(currentValue, minDate, maxDate);\r\n            this.option(\"value\", currentValue);\r\n            roller.selectedIndex = selectedIndex\r\n        }\r\n        if (roller.type === ROLLER_TYPE.year) {\r\n            this._refreshRollers()\r\n        }\r\n        if (roller.type === ROLLER_TYPE.month) {\r\n            this._refreshRoller(ROLLER_TYPE.day);\r\n            this._refreshRoller(ROLLER_TYPE.hours)\r\n        }\r\n    },\r\n    _refreshRoller: function(rollerType) {\r\n        var roller = this._rollers[rollerType];\r\n        if (roller) {\r\n            this._createRollerConfig(rollerType);\r\n            var rollerConfig = this._rollerConfigs[rollerType];\r\n            if (rollerType === ROLLER_TYPE.day || rollerConfig.displayItems.toString() !== roller.option(\"items\").toString()) {\r\n                roller.option({\r\n                    items: rollerConfig.displayItems,\r\n                    selectedIndex: rollerConfig.selectedIndex\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _getCurrentDate: function() {\r\n        var curDate = this._valueOption();\r\n        var minDate = this.option(\"minDate\");\r\n        var maxDate = this.option(\"maxDate\");\r\n        return dateUtils.normalizeDate(curDate, minDate, maxDate)\r\n    },\r\n    _calculateRollerConfigValueRange: function(componentName) {\r\n        var curDate = this._getCurrentDate();\r\n        var minDate = this.option(\"minDate\");\r\n        var maxDate = this.option(\"maxDate\");\r\n        var minYear = dateUtils.sameYear(curDate, minDate);\r\n        var minMonth = minYear && curDate.getMonth() === minDate.getMonth();\r\n        var maxYear = dateUtils.sameYear(curDate, maxDate);\r\n        var maxMonth = maxYear && curDate.getMonth() === maxDate.getMonth();\r\n        var minHour = minMonth && curDate.getDate() === minDate.getDate();\r\n        var maxHour = maxMonth && curDate.getDate() === maxDate.getDate();\r\n        var componentInfo = uiDateUtils.DATE_COMPONENTS_INFO[componentName];\r\n        var startValue = componentInfo.startValue;\r\n        var endValue = componentInfo.endValue;\r\n        if (componentName === ROLLER_TYPE.year) {\r\n            startValue = minDate.getFullYear();\r\n            endValue = maxDate.getFullYear()\r\n        }\r\n        if (componentName === ROLLER_TYPE.month) {\r\n            if (minYear) {\r\n                startValue = minDate.getMonth()\r\n            }\r\n            if (maxYear) {\r\n                endValue = maxDate.getMonth()\r\n            }\r\n        }\r\n        if (componentName === ROLLER_TYPE.day) {\r\n            endValue = uiDateUtils.getMaxMonthDay(curDate.getFullYear(), curDate.getMonth());\r\n            if (minYear && minMonth) {\r\n                startValue = minDate.getDate()\r\n            }\r\n            if (maxYear && maxMonth) {\r\n                endValue = maxDate.getDate()\r\n            }\r\n        }\r\n        if (componentName === ROLLER_TYPE.hours) {\r\n            startValue = minHour ? minDate.getHours() : startValue;\r\n            endValue = maxHour ? maxDate.getHours() : endValue\r\n        }\r\n        return {\r\n            startValue: startValue,\r\n            endValue: endValue\r\n        }\r\n    },\r\n    _refreshRollers: function() {\r\n        this._refreshRoller(ROLLER_TYPE.month);\r\n        this._refreshRoller(ROLLER_TYPE.day);\r\n        this._refreshRoller(ROLLER_TYPE.hours)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"minDate\":\r\n            case \"maxDate\":\r\n            case \"type\":\r\n                this._renderRollers();\r\n                this._toggleFormatClasses(args.value, args.previousValue);\r\n                break;\r\n            case \"visible\":\r\n                this.callBase(args);\r\n                if (args.value) {\r\n                    this._renderRollers()\r\n                }\r\n                break;\r\n            case \"value\":\r\n                this.option(\"value\", this._valueOption());\r\n                this._refreshRollers();\r\n                this._updateRollersPosition();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        delete this._$rollersContainer\r\n    }\r\n});\r\nregisterComponent(\"dxDateView\", DateView);\r\nexport default DateView;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_box.strategy.date_view.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nvar window = getWindow();\r\nimport DateView from \"./ui.date_view\";\r\nimport DateBoxStrategy from \"./ui.date_box.strategy\";\r\nimport {\r\n    inputType\r\n} from \"../../core/utils/support\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport dateUtils from \"./ui.date_utils\";\r\nimport messageLocalization from \"../../localization/message\";\r\nvar DateViewStrategy = DateBoxStrategy.inherit({\r\n    NAME: \"DateView\",\r\n    getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            openOnFieldClick: true,\r\n            applyButtonText: messageLocalization.format(\"OK\"),\r\n            \"dropDownOptions.showTitle\": true\r\n        })\r\n    },\r\n    getDisplayFormat: function(displayFormat) {\r\n        return displayFormat || dateUtils.FORMATS_MAP[this.dateBox.option(\"type\")]\r\n    },\r\n    popupConfig: function(config) {\r\n        return {\r\n            toolbarItems: this.dateBox._popupToolbarItemsConfig(),\r\n            onInitialized: config.onInitialized,\r\n            defaultOptionsRules: [{\r\n                device: {\r\n                    platform: \"android\"\r\n                },\r\n                options: {\r\n                    width: 333,\r\n                    height: 331\r\n                }\r\n            }, {\r\n                device: function(_device) {\r\n                    var platform = _device.platform;\r\n                    return \"generic\" === platform || \"ios\" === platform\r\n                },\r\n                options: {\r\n                    width: \"auto\",\r\n                    height: \"auto\"\r\n                }\r\n            }, {\r\n                device: function(_device2) {\r\n                    var platform = _device2.platform;\r\n                    var phone = _device2.phone;\r\n                    return \"generic\" === platform && phone\r\n                },\r\n                options: {\r\n                    width: 333,\r\n                    maxWidth: \"100%\",\r\n                    maxHeight: \"100%\",\r\n                    height: \"auto\",\r\n                    position: {\r\n                        collision: \"flipfit flip\"\r\n                    }\r\n                }\r\n            }, {\r\n                device: {\r\n                    platform: \"ios\",\r\n                    phone: true\r\n                },\r\n                options: {\r\n                    width: \"100%\",\r\n                    position: {\r\n                        my: \"bottom\",\r\n                        at: \"bottom\",\r\n                        of: window\r\n                    }\r\n                }\r\n            }]\r\n        }\r\n    },\r\n    _renderWidget: function() {\r\n        if (inputType(this.dateBox.option(\"mode\")) && this.dateBox._isNativeType() || this.dateBox.option(\"readOnly\")) {\r\n            if (this._widget) {\r\n                this._widget.$element().remove();\r\n                this._widget = null\r\n            }\r\n            return\r\n        }\r\n        var popup = this._getPopup();\r\n        if (this._widget) {\r\n            this._widget.option(this._getWidgetOptions())\r\n        } else {\r\n            var element = $(\"<div>\").appendTo(popup.$content());\r\n            this._widget = this._createWidget(element)\r\n        }\r\n        this._widget.$element().appendTo(this._getWidgetContainer())\r\n    },\r\n    _getWidgetName: function() {\r\n        return DateView\r\n    },\r\n    renderOpenedState: function() {\r\n        this.callBase();\r\n        if (this._widget) {\r\n            this._widget.option(\"value\", this._widget._getCurrentDate())\r\n        }\r\n    },\r\n    _getWidgetOptions: function() {\r\n        return {\r\n            value: this.dateBoxValue() || new Date,\r\n            type: this.dateBox.option(\"type\"),\r\n            minDate: this.dateBox.dateOption(\"min\") || new Date(1900, 0, 1),\r\n            maxDate: this.dateBox.dateOption(\"max\") || new Date(Date.now() + 50 * dateUtils.ONE_YEAR),\r\n            onDisposing: function() {\r\n                this._widget = null\r\n            }.bind(this)\r\n        }\r\n    }\r\n});\r\nexport default DateViewStrategy;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_box.strategy.native.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport DateBoxStrategy from \"./ui.date_box.strategy\";\r\nimport {\r\n    inputType\r\n} from \"../../core/utils/support\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport dateUtils from \"./ui.date_utils\";\r\nimport dateSerialization from \"../../core/utils/date_serialization\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport devices from \"../../core/devices\";\r\nvar NativeStrategy = DateBoxStrategy.inherit({\r\n    NAME: \"Native\",\r\n    popupConfig: function(_popupConfig) {\r\n        return extend({}, _popupConfig, {\r\n            width: \"auto\"\r\n        })\r\n    },\r\n    getParsedText: function(text) {\r\n        if (!text) {\r\n            return null\r\n        }\r\n        if (\"datetime\" === this.dateBox.option(\"type\")) {\r\n            return new Date(text.replace(/-/g, \"/\").replace(\"T\", \" \").split(\".\")[0])\r\n        }\r\n        return dateUtils.fromStandardDateFormat(text)\r\n    },\r\n    renderPopupContent: noop,\r\n    _getWidgetName: noop,\r\n    _getWidgetOptions: noop,\r\n    _getDateBoxType: function() {\r\n        var type = this.dateBox.option(\"type\");\r\n        if (-1 === inArray(type, dateUtils.SUPPORTED_FORMATS)) {\r\n            type = \"date\"\r\n        } else if (\"datetime\" === type && !inputType(type)) {\r\n            type = \"datetime-local\"\r\n        }\r\n        return type\r\n    },\r\n    customizeButtons: function() {\r\n        var dropDownButton = this.dateBox.getButton(\"dropDown\");\r\n        if (devices.real().android && dropDownButton) {\r\n            dropDownButton.on(\"click\", function() {\r\n                this.dateBox._input().get(0).click()\r\n            }.bind(this))\r\n        }\r\n    },\r\n    getDefaultOptions: function() {\r\n        return {\r\n            mode: this._getDateBoxType()\r\n        }\r\n    },\r\n    getDisplayFormat: function(displayFormat) {\r\n        var type = this._getDateBoxType();\r\n        return displayFormat || dateUtils.FORMATS_MAP[type]\r\n    },\r\n    renderInputMinMax: function($input) {\r\n        $input.attr({\r\n            min: dateSerialization.serializeDate(this.dateBox.dateOption(\"min\"), \"yyyy-MM-dd\"),\r\n            max: dateSerialization.serializeDate(this.dateBox.dateOption(\"max\"), \"yyyy-MM-dd\")\r\n        })\r\n    }\r\n});\r\nexport default NativeStrategy;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.time_view.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport Editor from \"../editor/editor\";\r\nimport NumberBox from \"../number_box\";\r\nimport SelectBox from \"../select_box\";\r\nimport Box from \"../box\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport dateUtils from \"./ui.date_utils\";\r\nvar TIMEVIEW_CLASS = \"dx-timeview\";\r\nvar TIMEVIEW_CLOCK_CLASS = \"dx-timeview-clock\";\r\nvar TIMEVIEW_FIELD_CLASS = \"dx-timeview-field\";\r\nvar TIMEVIEW_HOURARROW_CLASS = \"dx-timeview-hourarrow\";\r\nvar TIMEVIEW_TIME_SEPARATOR_CLASS = \"dx-timeview-time-separator\";\r\nvar TIMEVIEW_FORMAT12_CLASS = \"dx-timeview-format12\";\r\nvar TIMEVIEW_FORMAT12_AM = -1;\r\nvar TIMEVIEW_FORMAT12_PM = 1;\r\nvar TIMEVIEW_MINUTEARROW_CLASS = \"dx-timeview-minutearrow\";\r\nvar rotateArrow = function($arrow, angle, offset) {\r\n    cssRotate($arrow, angle, offset)\r\n};\r\nvar cssRotate = function($arrow, angle, offset) {\r\n    $arrow.css(\"transform\", \"rotate(\" + angle + \"deg) translate(0,\" + offset + \"px)\")\r\n};\r\nvar TimeView = Editor.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            value: new Date(Date.now()),\r\n            use24HourFormat: true,\r\n            _showClock: true,\r\n            _arrowOffset: 5,\r\n            stylingMode: void 0\r\n        })\r\n    },\r\n    _getValue: function() {\r\n        return this.option(\"value\") || new Date\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(TIMEVIEW_CLASS)\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._renderBox();\r\n        this._updateTime()\r\n    },\r\n    _renderBox: function() {\r\n        var $box = $(\"<div>\").appendTo(this.$element());\r\n        var items = [];\r\n        if (this.option(\"_showClock\")) {\r\n            items.push({\r\n                ratio: 1,\r\n                shrink: 0,\r\n                baseSize: \"auto\",\r\n                template: this._renderClock.bind(this)\r\n            })\r\n        }\r\n        items.push({\r\n            ratio: 0,\r\n            shrink: 0,\r\n            baseSize: \"auto\",\r\n            template: this._renderField.bind(this)\r\n        });\r\n        this._createComponent($box, Box, {\r\n            height: \"100%\",\r\n            width: \"100%\",\r\n            direction: \"col\",\r\n            items: items\r\n        })\r\n    },\r\n    _renderClock: function(_, __, container) {\r\n        this._$hourArrow = $(\"<div>\").addClass(TIMEVIEW_HOURARROW_CLASS);\r\n        this._$minuteArrow = $(\"<div>\").addClass(TIMEVIEW_MINUTEARROW_CLASS);\r\n        var $container = $(container);\r\n        $container.addClass(TIMEVIEW_CLOCK_CLASS).append(this._$hourArrow).append(this._$minuteArrow);\r\n        this.setAria(\"role\", \"presentation\", $container)\r\n    },\r\n    _updateClock: function() {\r\n        var time = this._getValue();\r\n        var hourArrowAngle = time.getHours() / 12 * 360 + time.getMinutes() / 60 * 30;\r\n        var minuteArrowAngle = time.getMinutes() / 60 * 360;\r\n        rotateArrow(this._$hourArrow, hourArrowAngle, this.option(\"_arrowOffset\"));\r\n        rotateArrow(this._$minuteArrow, minuteArrowAngle, this.option(\"_arrowOffset\"))\r\n    },\r\n    _getBoxItems: function(is12HourFormat) {\r\n        var items = [{\r\n            ratio: 0,\r\n            shrink: 0,\r\n            baseSize: \"auto\",\r\n            template: () => this._hourBox.$element()\r\n        }, {\r\n            ratio: 0,\r\n            shrink: 0,\r\n            baseSize: \"auto\",\r\n            template: $(\"<div>\").addClass(TIMEVIEW_TIME_SEPARATOR_CLASS).text(dateLocalization.getTimeSeparator())\r\n        }, {\r\n            ratio: 0,\r\n            shrink: 0,\r\n            baseSize: \"auto\",\r\n            template: () => this._minuteBox.$element()\r\n        }];\r\n        if (is12HourFormat) {\r\n            items.push({\r\n                ratio: 0,\r\n                shrink: 0,\r\n                baseSize: \"auto\",\r\n                template: () => this._format12.$element()\r\n            })\r\n        }\r\n        return items\r\n    },\r\n    _renderField: function() {\r\n        var is12HourFormat = !this.option(\"use24HourFormat\");\r\n        this._createHourBox(is12HourFormat);\r\n        this._createMinuteBox();\r\n        if (is12HourFormat) {\r\n            this._createFormat12Box()\r\n        }\r\n        return this._createComponent($(\"<div>\").addClass(TIMEVIEW_FIELD_CLASS), Box, {\r\n            direction: \"row\",\r\n            align: \"center\",\r\n            crossAlign: \"center\",\r\n            items: this._getBoxItems(is12HourFormat)\r\n        }).$element()\r\n    },\r\n    _createHourBox: function(is12HourFormat) {\r\n        var editor = this._hourBox = this._createComponent($(\"<div>\"), NumberBox, extend({\r\n            min: -1,\r\n            max: is12HourFormat ? 13 : 24,\r\n            value: this._getValue().getHours(),\r\n            onValueChanged: this._onHourBoxValueChanged.bind(this),\r\n            onKeyboardHandled: opts => this._keyboardHandler(opts)\r\n        }, this._getNumberBoxConfig()));\r\n        editor.setAria(\"label\", \"hours\")\r\n    },\r\n    _isPM: function() {\r\n        return !this.option(\"use24HourFormat\") && 1 === this._format12.option(\"value\")\r\n    },\r\n    _onHourBoxValueChanged: function(_ref) {\r\n        var {\r\n            value: value,\r\n            component: component\r\n        } = _ref;\r\n        var currentValue = this._getValue();\r\n        var newValue = new Date(currentValue);\r\n        var newHours = this._convertMaxHourToMin(value);\r\n        component.option(\"value\", newHours);\r\n        if (this._isPM()) {\r\n            newHours += 12\r\n        }\r\n        newValue.setHours(newHours);\r\n        dateUtils.normalizeTime(newValue);\r\n        this.option(\"value\", newValue)\r\n    },\r\n    _convertMaxHourToMin: function(hours) {\r\n        var maxHoursValue = this.option(\"use24HourFormat\") ? 24 : 12;\r\n        return (maxHoursValue + hours) % maxHoursValue\r\n    },\r\n    _createMinuteBox: function() {\r\n        var editor = this._minuteBox = this._createComponent($(\"<div>\"), NumberBox, extend({\r\n            min: -1,\r\n            max: 60,\r\n            value: this._getValue().getMinutes(),\r\n            onKeyboardHandled: opts => this._keyboardHandler(opts),\r\n            onValueChanged: _ref2 => {\r\n                var {\r\n                    value: value,\r\n                    component: component\r\n                } = _ref2;\r\n                var newMinutes = (60 + value) % 60;\r\n                component.option(\"value\", newMinutes);\r\n                var time = new Date(this._getValue());\r\n                time.setMinutes(newMinutes);\r\n                dateUtils.normalizeTime(time);\r\n                this.option(\"value\", time)\r\n            }\r\n        }, this._getNumberBoxConfig()));\r\n        editor.setAria(\"label\", \"minutes\")\r\n    },\r\n    _createFormat12Box: function() {\r\n        var periodNames = dateLocalization.getPeriodNames();\r\n        var editor = this._format12 = this._createComponent($(\"<div>\").addClass(TIMEVIEW_FORMAT12_CLASS), SelectBox, {\r\n            items: [{\r\n                value: TIMEVIEW_FORMAT12_AM,\r\n                text: periodNames[0]\r\n            }, {\r\n                value: TIMEVIEW_FORMAT12_PM,\r\n                text: periodNames[1]\r\n            }],\r\n            valueExpr: \"value\",\r\n            displayExpr: \"text\",\r\n            onKeyboardHandled: opts => this._keyboardHandler(opts),\r\n            onValueChanged: _ref3 => {\r\n                var {\r\n                    value: value\r\n                } = _ref3;\r\n                var hours = this._getValue().getHours();\r\n                var time = new Date(this._getValue());\r\n                var newHours = (hours + 12 * value) % 24;\r\n                time.setHours(newHours);\r\n                this.option(\"value\", time)\r\n            },\r\n            value: this._getValue().getHours() >= 12 ? TIMEVIEW_FORMAT12_PM : TIMEVIEW_FORMAT12_AM,\r\n            stylingMode: this.option(\"stylingMode\")\r\n        });\r\n        editor.setAria(\"label\", \"type\")\r\n    },\r\n    _refreshFormat12: function() {\r\n        if (this.option(\"use24HourFormat\")) {\r\n            return\r\n        }\r\n        var value = this._getValue();\r\n        var hours = value.getHours();\r\n        var isPM = hours >= 12;\r\n        var newValue = isPM ? TIMEVIEW_FORMAT12_PM : TIMEVIEW_FORMAT12_AM;\r\n        this._silentEditorValueUpdate(this._format12, newValue)\r\n    },\r\n    _silentEditorValueUpdate: function(editor, value) {\r\n        if (editor) {\r\n            editor._suppressValueChangeAction();\r\n            editor.option(\"value\", value);\r\n            editor._resumeValueChangeAction()\r\n        }\r\n    },\r\n    _getNumberBoxConfig: function() {\r\n        return {\r\n            showSpinButtons: true,\r\n            displayValueFormatter: function(value) {\r\n                return (value < 10 ? \"0\" : \"\") + value\r\n            },\r\n            stylingMode: this.option(\"stylingMode\")\r\n        }\r\n    },\r\n    _normalizeHours: function(hours) {\r\n        return this.option(\"use24HourFormat\") ? hours : hours % 12 || 12\r\n    },\r\n    _updateField: function() {\r\n        var hours = this._normalizeHours(this._getValue().getHours());\r\n        this._silentEditorValueUpdate(this._hourBox, hours);\r\n        this._silentEditorValueUpdate(this._minuteBox, this._getValue().getMinutes());\r\n        this._refreshFormat12()\r\n    },\r\n    _updateTime: function() {\r\n        if (this.option(\"_showClock\")) {\r\n            this._updateClock()\r\n        }\r\n        this._updateField()\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._updateTime()\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"value\":\r\n                this._updateTime();\r\n                this.callBase(args);\r\n                break;\r\n            case \"_arrowOffset\":\r\n                break;\r\n            case \"use24HourFormat\":\r\n            case \"_showClock\":\r\n            case \"stylingMode\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxTimeView\", TimeView);\r\nexport default TimeView;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_box.strategy.calendar_with_time.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nvar window = getWindow();\r\nimport CalendarStrategy from \"./ui.date_box.strategy.calendar\";\r\nimport TimeView from \"./ui.time_view\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport dateUtils from \"../../core/utils/date\";\r\nimport Box from \"../box\";\r\nimport uiDateUtils from \"./ui.date_utils\";\r\nvar SHRINK_VIEW_SCREEN_WIDTH = 573;\r\nvar DATEBOX_ADAPTIVITY_MODE_CLASS = \"dx-datebox-adaptivity-mode\";\r\nvar DATEBOX_TIMEVIEW_SIDE_CLASS = \"dx-datebox-datetime-time-side\";\r\nvar CalendarWithTimeStrategy = CalendarStrategy.inherit({\r\n    NAME: \"CalendarWithTime\",\r\n    getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            applyValueMode: \"useButtons\",\r\n            buttonsLocation: \"bottom after\",\r\n            \"dropDownOptions.showTitle\": false\r\n        })\r\n    },\r\n    _closeDropDownByEnter: function() {\r\n        return dateUtils.sameDate(this._getContouredValue(), this.widgetOption(\"value\"))\r\n    },\r\n    getDisplayFormat: function(displayFormat) {\r\n        return displayFormat || \"shortdateshorttime\"\r\n    },\r\n    _is24HourFormat: function() {\r\n        return dateLocalization.is24HourFormat(this.getDisplayFormat(this.dateBox.option(\"displayFormat\")))\r\n    },\r\n    _getContouredValue: function() {\r\n        var viewDate = this.callBase();\r\n        return this._updateDateTime(viewDate)\r\n    },\r\n    _renderWidget: function() {\r\n        this.callBase();\r\n        this._timeView = this.dateBox._createComponent($(\"<div>\"), TimeView, {\r\n            value: this.dateBoxValue(),\r\n            _showClock: !this._isShrinkView(),\r\n            use24HourFormat: this._is24HourFormat(),\r\n            onValueChanged: this._valueChangedHandler.bind(this),\r\n            stylingMode: this.dateBox.option(\"stylingMode\")\r\n        });\r\n        this._timeView.registerKeyHandler(\"escape\", this._escapeHandler.bind(this))\r\n    },\r\n    renderOpenedState: function() {\r\n        this.callBase();\r\n        var popup = this._getPopup();\r\n        if (popup) {\r\n            popup.$wrapper().toggleClass(DATEBOX_ADAPTIVITY_MODE_CLASS, this._isSmallScreen())\r\n        }\r\n        clearTimeout(this._repaintTimer);\r\n        this._repaintTimer = setTimeout(function() {\r\n            this._getPopup() && this._getPopup().repaint()\r\n        }.bind(this), 0)\r\n    },\r\n    isAdaptivityChanged: function() {\r\n        var isAdaptiveMode = this._isShrinkView();\r\n        var currentAdaptiveMode = this._currentAdaptiveMode;\r\n        if (isAdaptiveMode !== currentAdaptiveMode) {\r\n            this._currentAdaptiveMode = isAdaptiveMode;\r\n            return void 0 !== currentAdaptiveMode\r\n        }\r\n        return this.callBase()\r\n    },\r\n    _updateValue: function(preventDefaultValue) {\r\n        var date = this.dateBoxValue();\r\n        if (!date && !preventDefaultValue) {\r\n            date = new Date;\r\n            uiDateUtils.normalizeTime(date)\r\n        }\r\n        this.callBase();\r\n        if (this._timeView) {\r\n            date && this._timeView.option(\"value\", date);\r\n            this._timeView.option(\"use24HourFormat\", this._is24HourFormat())\r\n        }\r\n    },\r\n    _isSmallScreen: function() {\r\n        return getWidth(window) <= SHRINK_VIEW_SCREEN_WIDTH\r\n    },\r\n    _isShrinkView: function() {\r\n        return !this.dateBox.option(\"showAnalogClock\") || this.dateBox.option(\"adaptivityEnabled\") && this._isSmallScreen()\r\n    },\r\n    _getBoxItems: function() {\r\n        var items = [{\r\n            ratio: 0,\r\n            shrink: 0,\r\n            baseSize: \"auto\",\r\n            name: \"calendar\"\r\n        }];\r\n        if (!this._isShrinkView()) {\r\n            items.push({\r\n                ratio: 0,\r\n                shrink: 0,\r\n                baseSize: \"auto\",\r\n                name: \"time\"\r\n            })\r\n        }\r\n        return items\r\n    },\r\n    renderPopupContent: function() {\r\n        this.callBase();\r\n        this._currentAdaptiveMode = this._isShrinkView();\r\n        var $popupContent = this._getPopup().$content();\r\n        this._box = this.dateBox._createComponent($(\"<div>\").appendTo($popupContent), Box, {\r\n            direction: \"row\",\r\n            crossAlign: \"stretch\",\r\n            items: this._getBoxItems(),\r\n            itemTemplate: function(data, i, element) {\r\n                var $container = $(\"<div>\");\r\n                switch (data.name) {\r\n                    case \"calendar\":\r\n                        $container.append(this._widget.$element());\r\n                        if (this._isShrinkView()) {\r\n                            this._timeView.$element().addClass(DATEBOX_TIMEVIEW_SIDE_CLASS);\r\n                            $container.append(this._timeView.$element())\r\n                        }\r\n                        break;\r\n                    case \"time\":\r\n                        $container.append(this._timeView.$element());\r\n                        $(element).addClass(DATEBOX_TIMEVIEW_SIDE_CLASS)\r\n                }\r\n                return $container\r\n            }.bind(this)\r\n        });\r\n        this._attachTabHandler()\r\n    },\r\n    popupConfig: function(_popupConfig) {\r\n        var calendarPopupConfig = this.callBase(_popupConfig);\r\n        var result = extend(calendarPopupConfig, {\r\n            width: \"auto\",\r\n            onShowing: function() {\r\n                if (\"fallback\" === this._box.option(\"_layoutStrategy\")) {\r\n                    var clockMinWidth = this._getPopup().$content().find(\".dx-timeview-clock\").css(\"minWidth\");\r\n                    this._timeView.$element().css(\"maxWidth\", clockMinWidth)\r\n                }\r\n            }.bind(this)\r\n        });\r\n        return result\r\n    },\r\n    getFirstPopupElement: function() {\r\n        return this._timeView._hourBox.$element().find(\"input\")\r\n    },\r\n    _attachTabHandler: function() {\r\n        var dateBox = this.dateBox;\r\n        this._timeView._hourBox.registerKeyHandler(\"tab\", (function(e) {\r\n            if (e.shiftKey) {\r\n                e.preventDefault();\r\n                dateBox.focus()\r\n            }\r\n        }))\r\n    },\r\n    _preventFocusOnPopup: function(e) {\r\n        if (!$(e.target).hasClass(\"dx-texteditor-input\")) {\r\n            this.callBase.apply(this, arguments);\r\n            if (!this.dateBox._hasFocusClass()) {\r\n                this.dateBox.focus()\r\n            }\r\n        }\r\n    },\r\n    _updateDateTime: function(date) {\r\n        var time = this._timeView.option(\"value\");\r\n        date.setHours(time.getHours(), time.getMinutes(), time.getSeconds(), time.getMilliseconds());\r\n        return date\r\n    },\r\n    getValue: function() {\r\n        var _this$_widget$option;\r\n        var date = null !== (_this$_widget$option = this._widget.option(\"value\")) && void 0 !== _this$_widget$option ? _this$_widget$option : this._widget.getContouredDate();\r\n        date = date ? new Date(date) : new Date;\r\n        return this._updateDateTime(date)\r\n    },\r\n    dispose: function() {\r\n        clearTimeout(this._removeMinWidthTimer);\r\n        clearTimeout(this._repaintTimer);\r\n        this.callBase()\r\n    }\r\n});\r\nexport default CalendarWithTimeStrategy;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_box.strategy.list.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterHeight,\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nvar window = getWindow();\r\nimport List from \"../list_light\";\r\nimport \"../list/modules/selection\";\r\nimport DateBoxStrategy from \"./ui.date_box.strategy\";\r\nimport {\r\n    noop,\r\n    ensureDefined\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDate\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport dateUtils from \"./ui.date_utils\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport dateSerialization from \"../../core/utils/date_serialization\";\r\nimport {\r\n    getSizeValue\r\n} from \"../drop_down_editor/utils\";\r\nvar DATE_FORMAT = \"date\";\r\nvar BOUNDARY_VALUES = {\r\n    min: new Date(0, 0, 0, 0, 0),\r\n    max: new Date(0, 0, 0, 23, 59)\r\n};\r\nvar ListStrategy = DateBoxStrategy.inherit({\r\n    NAME: \"List\",\r\n    supportedKeys: function() {\r\n        return {\r\n            tab: function() {\r\n                var {\r\n                    opened: opened,\r\n                    applyValueMode: applyValueMode\r\n                } = this.option();\r\n                if (opened && \"instantly\" === applyValueMode) {\r\n                    this.close()\r\n                }\r\n            },\r\n            space: noop,\r\n            home: noop,\r\n            end: noop\r\n        }\r\n    },\r\n    getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            applyValueMode: \"instantly\"\r\n        })\r\n    },\r\n    getDisplayFormat: function(displayFormat) {\r\n        return displayFormat || \"shorttime\"\r\n    },\r\n    popupConfig: function(_popupConfig) {\r\n        return _popupConfig\r\n    },\r\n    getValue: function() {\r\n        var selectedIndex = this._widget.option(\"selectedIndex\");\r\n        if (-1 === selectedIndex) {\r\n            return this.dateBox.option(\"value\")\r\n        }\r\n        var itemData = this._widgetItems[selectedIndex];\r\n        return this._getDateByItemData(itemData)\r\n    },\r\n    useCurrentDateByDefault: function() {\r\n        return true\r\n    },\r\n    getDefaultDate: function() {\r\n        return new Date(null)\r\n    },\r\n    popupShowingHandler: function() {\r\n        this.dateBox._dimensionChanged()\r\n    },\r\n    _renderWidget: function() {\r\n        this.callBase();\r\n        this._refreshItems()\r\n    },\r\n    _getWidgetName: function() {\r\n        return List\r\n    },\r\n    _getWidgetOptions: function() {\r\n        return {\r\n            itemTemplate: this._timeListItemTemplate.bind(this),\r\n            onItemClick: this._listItemClickHandler.bind(this),\r\n            tabIndex: -1,\r\n            onFocusedItemChanged: this._refreshActiveDescendant.bind(this),\r\n            selectionMode: \"single\"\r\n        }\r\n    },\r\n    _refreshActiveDescendant: function(e) {\r\n        this.dateBox.setAria(\"activedescendant\", \"\");\r\n        this.dateBox.setAria(\"activedescendant\", e.actionValue)\r\n    },\r\n    _refreshItems: function() {\r\n        this._widgetItems = this._getTimeListItems();\r\n        this._widget.option(\"items\", this._widgetItems)\r\n    },\r\n    renderOpenedState: function() {\r\n        if (!this._widget) {\r\n            return\r\n        }\r\n        this._widget.option(\"focusedElement\", null);\r\n        this._setSelectedItemsByValue();\r\n        if (this._widget.option(\"templatesRenderAsynchronously\")) {\r\n            this._asyncScrollTimeout = setTimeout(this._scrollToSelectedItem.bind(this))\r\n        } else {\r\n            this._scrollToSelectedItem()\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this.callBase();\r\n        clearTimeout(this._asyncScrollTimeout)\r\n    },\r\n    _updateValue: function() {\r\n        if (!this._widget) {\r\n            return\r\n        }\r\n        this._refreshItems();\r\n        this._setSelectedItemsByValue();\r\n        this._scrollToSelectedItem()\r\n    },\r\n    _setSelectedItemsByValue: function() {\r\n        var value = this.dateBoxValue();\r\n        var dateIndex = this._getDateIndex(value);\r\n        if (-1 === dateIndex) {\r\n            this._widget.option(\"selectedItems\", [])\r\n        } else {\r\n            this._widget.option(\"selectedIndex\", dateIndex)\r\n        }\r\n    },\r\n    _scrollToSelectedItem: function() {\r\n        this._widget.scrollToItem(this._widget.option(\"selectedIndex\"))\r\n    },\r\n    _getDateIndex: function(date) {\r\n        var result = -1;\r\n        for (var i = 0, n = this._widgetItems.length; i < n; i++) {\r\n            if (this._areDatesEqual(date, this._widgetItems[i])) {\r\n                result = i;\r\n                break\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _areDatesEqual: function(first, second) {\r\n        return isDate(first) && isDate(second) && first.getHours() === second.getHours() && first.getMinutes() === second.getMinutes()\r\n    },\r\n    _getTimeListItems: function() {\r\n        var min = this.dateBox.dateOption(\"min\") || this._getBoundaryDate(\"min\");\r\n        var max = this.dateBox.dateOption(\"max\") || this._getBoundaryDate(\"max\");\r\n        var value = this.dateBox.dateOption(\"value\") || null;\r\n        var delta = max - min;\r\n        var minutes = min.getMinutes() % this.dateBox.option(\"interval\");\r\n        if (delta < 0) {\r\n            return []\r\n        }\r\n        if (delta > dateUtils.ONE_DAY) {\r\n            delta = dateUtils.ONE_DAY\r\n        }\r\n        if (value - min < dateUtils.ONE_DAY) {\r\n            return this._getRangeItems(min, new Date(min), delta)\r\n        }\r\n        min = this._getBoundaryDate(\"min\");\r\n        min.setMinutes(minutes);\r\n        if (value && Math.abs(value - max) < dateUtils.ONE_DAY) {\r\n            delta = (60 * max.getHours() + Math.abs(max.getMinutes() - minutes)) * dateUtils.ONE_MINUTE\r\n        }\r\n        return this._getRangeItems(min, new Date(min), delta)\r\n    },\r\n    _getRangeItems: function(startValue, currentValue, rangeDuration) {\r\n        var rangeItems = [];\r\n        var interval = this.dateBox.option(\"interval\");\r\n        while (currentValue - startValue <= rangeDuration) {\r\n            rangeItems.push(new Date(currentValue));\r\n            currentValue.setMinutes(currentValue.getMinutes() + interval)\r\n        }\r\n        return rangeItems\r\n    },\r\n    _getBoundaryDate: function(boundary) {\r\n        var boundaryValue = BOUNDARY_VALUES[boundary];\r\n        var currentValue = new Date(ensureDefined(this.dateBox.dateOption(\"value\"), 0));\r\n        return new Date(currentValue.getFullYear(), currentValue.getMonth(), currentValue.getDate(), boundaryValue.getHours(), boundaryValue.getMinutes())\r\n    },\r\n    _timeListItemTemplate: function(itemData) {\r\n        var displayFormat = this.dateBox.option(\"displayFormat\");\r\n        return dateLocalization.format(itemData, this.getDisplayFormat(displayFormat))\r\n    },\r\n    _listItemClickHandler: function(e) {\r\n        if (\"useButtons\" === this.dateBox.option(\"applyValueMode\")) {\r\n            return\r\n        }\r\n        var date = this._getDateByItemData(e.itemData);\r\n        this.dateBox.option(\"opened\", false);\r\n        this.dateBoxValue(date, e.event)\r\n    },\r\n    _getDateByItemData: function(itemData) {\r\n        var date = this.dateBox.option(\"value\");\r\n        var hours = itemData.getHours();\r\n        var minutes = itemData.getMinutes();\r\n        var seconds = itemData.getSeconds();\r\n        var year = itemData.getFullYear();\r\n        var month = itemData.getMonth();\r\n        var day = itemData.getDate();\r\n        if (date) {\r\n            if (this.dateBox.option(\"dateSerializationFormat\")) {\r\n                date = dateSerialization.deserializeDate(date)\r\n            } else {\r\n                date = new Date(date)\r\n            }\r\n            date.setHours(hours);\r\n            date.setMinutes(minutes);\r\n            date.setSeconds(seconds);\r\n            date.setFullYear(year);\r\n            date.setMonth(month);\r\n            date.setDate(day)\r\n        } else {\r\n            date = new Date(year, month, day, hours, minutes, 0, 0)\r\n        }\r\n        return date\r\n    },\r\n    getKeyboardListener: function() {\r\n        return this._widget\r\n    },\r\n    _updatePopupHeight: function() {\r\n        var dropDownOptionsHeight = getSizeValue(this.dateBox.option(\"dropDownOptions.height\"));\r\n        if (void 0 === dropDownOptionsHeight || \"auto\" === dropDownOptionsHeight) {\r\n            this.dateBox._setPopupOption(\"height\", \"auto\");\r\n            var popupHeight = getOuterHeight(this._widget.$element());\r\n            var maxHeight = .45 * getHeight(window);\r\n            this.dateBox._setPopupOption(\"height\", Math.min(popupHeight, maxHeight))\r\n        }\r\n        this.dateBox._timeList && this.dateBox._timeList.updateDimensions()\r\n    },\r\n    getParsedText: function(text, format) {\r\n        var value = this.callBase(text, format);\r\n        if (value) {\r\n            value = dateUtils.mergeDates(value, new Date(null), DATE_FORMAT)\r\n        }\r\n        return value\r\n    }\r\n});\r\nexport default ListStrategy;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_box.base.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWindow,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    isDate as isDateType,\r\n    isString,\r\n    isNumeric\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    createTextElementHiddenCopy\r\n} from \"../../core/utils/dom\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    compare as compareVersions\r\n} from \"../../core/utils/version\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    inputType\r\n} from \"../../core/utils/support\";\r\nimport devices from \"../../core/devices\";\r\nimport config from \"../../core/config\";\r\nimport dateUtils from \"../../core/utils/date\";\r\nimport uiDateUtils from \"./ui.date_utils\";\r\nimport dateSerialization from \"../../core/utils/date_serialization\";\r\nimport DropDownEditor from \"../drop_down_editor/ui.drop_down_editor\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport Calendar from \"./ui.date_box.strategy.calendar\";\r\nimport DateView from \"./ui.date_box.strategy.date_view\";\r\nimport Native from \"./ui.date_box.strategy.native\";\r\nimport CalendarWithTime from \"./ui.date_box.strategy.calendar_with_time\";\r\nimport List from \"./ui.date_box.strategy.list\";\r\nvar DATEBOX_CLASS = \"dx-datebox\";\r\nvar DX_AUTO_WIDTH_CLASS = \"dx-auto-width\";\r\nvar DX_INVALID_BADGE_CLASS = \"dx-show-invalid-badge\";\r\nvar DX_CLEAR_BUTTON_CLASS = \"dx-clear-button-area\";\r\nvar DATEBOX_WRAPPER_CLASS = \"dx-datebox-wrapper\";\r\nvar DROPDOWNEDITOR_OVERLAY_CLASS = \"dx-dropdowneditor-overlay\";\r\nvar PICKER_TYPE = {\r\n    calendar: \"calendar\",\r\n    rollers: \"rollers\",\r\n    list: \"list\",\r\n    native: \"native\"\r\n};\r\nvar TYPE = {\r\n    date: \"date\",\r\n    datetime: \"datetime\",\r\n    time: \"time\"\r\n};\r\nvar STRATEGY_NAME = {\r\n    calendar: \"Calendar\",\r\n    dateView: \"DateView\",\r\n    native: \"Native\",\r\n    calendarWithTime: \"CalendarWithTime\",\r\n    list: \"List\"\r\n};\r\nvar STRATEGY_CLASSES = {\r\n    Calendar: Calendar,\r\n    DateView: DateView,\r\n    Native: Native,\r\n    CalendarWithTime: CalendarWithTime,\r\n    List: List\r\n};\r\nvar DateBox = DropDownEditor.inherit({\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), this._strategy.supportedKeys())\r\n    },\r\n    _renderButtonContainers: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._strategy.customizeButtons()\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            type: \"date\",\r\n            showAnalogClock: true,\r\n            value: null,\r\n            dateSerializationFormat: void 0,\r\n            min: void 0,\r\n            max: void 0,\r\n            displayFormat: null,\r\n            interval: 30,\r\n            disabledDates: null,\r\n            pickerType: PICKER_TYPE.calendar,\r\n            invalidDateMessage: messageLocalization.format(\"dxDateBox-validation-datetime\"),\r\n            dateOutOfRangeMessage: messageLocalization.format(\"validation-range\"),\r\n            applyButtonText: messageLocalization.format(\"OK\"),\r\n            adaptivityEnabled: false,\r\n            calendarOptions: {},\r\n            useHiddenSubmitElement: true\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                \"dropDownOptions.showTitle\": true\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"android\"\r\n            },\r\n            options: {\r\n                buttonsLocation: \"bottom after\"\r\n            }\r\n        }, {\r\n            device: function() {\r\n                var realDevice = devices.real();\r\n                var platform = realDevice.platform;\r\n                return \"ios\" === platform || \"android\" === platform\r\n            },\r\n            options: {\r\n                pickerType: PICKER_TYPE.native\r\n            }\r\n        }, {\r\n            device: function(currentDevice) {\r\n                var realDevice = devices.real();\r\n                var platform = realDevice.platform;\r\n                var version = realDevice.version;\r\n                return \"generic\" === platform && \"desktop\" !== currentDevice.deviceType || \"android\" === platform && compareVersions(version, [4, 4]) < 0\r\n            },\r\n            options: {\r\n                pickerType: PICKER_TYPE.rollers\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\",\r\n                deviceType: \"desktop\"\r\n            },\r\n            options: {\r\n                buttonsLocation: \"bottom after\"\r\n            }\r\n        }])\r\n    },\r\n    _initOptions: function(options) {\r\n        this._userOptions = extend({}, options);\r\n        this.callBase(options);\r\n        this._updatePickerOptions()\r\n    },\r\n    _updatePickerOptions: function() {\r\n        var pickerType = this.option(\"pickerType\");\r\n        var type = this.option(\"type\");\r\n        if (pickerType === PICKER_TYPE.list && (type === TYPE.datetime || type === TYPE.date)) {\r\n            pickerType = PICKER_TYPE.calendar\r\n        }\r\n        if (type === TYPE.time && pickerType === PICKER_TYPE.calendar) {\r\n            pickerType = PICKER_TYPE.list\r\n        }\r\n        this.option(\"showDropDownButton\", \"generic\" !== devices.real().platform || pickerType !== PICKER_TYPE.native);\r\n        this._pickerType = pickerType\r\n    },\r\n    _init: function() {\r\n        this._initStrategy();\r\n        this.option(extend({}, this._strategy.getDefaultOptions(), this._userOptions));\r\n        delete this._userOptions;\r\n        this.callBase()\r\n    },\r\n    _toLowerCaseFirstLetter: function(string) {\r\n        return string.charAt(0).toLowerCase() + string.substr(1)\r\n    },\r\n    _initStrategy: function() {\r\n        var strategyName = this._getStrategyName(this._getFormatType());\r\n        var strategy = STRATEGY_CLASSES[strategyName];\r\n        if (!(this._strategy && this._strategy.NAME === strategyName)) {\r\n            this._strategy = new strategy(this)\r\n        }\r\n    },\r\n    _getFormatType: function() {\r\n        var currentType = this.option(\"type\");\r\n        var isTime = /h|m|s/g.test(currentType);\r\n        var isDate = /d|M|Y/g.test(currentType);\r\n        var type = \"\";\r\n        if (isDate) {\r\n            type += TYPE.date\r\n        }\r\n        if (isTime) {\r\n            type += TYPE.time\r\n        }\r\n        return type\r\n    },\r\n    _getStrategyName: function(type) {\r\n        var pickerType = this._pickerType;\r\n        if (pickerType === PICKER_TYPE.rollers) {\r\n            return STRATEGY_NAME.dateView\r\n        } else if (pickerType === PICKER_TYPE.native) {\r\n            return STRATEGY_NAME.native\r\n        }\r\n        if (type === TYPE.date) {\r\n            return STRATEGY_NAME.calendar\r\n        }\r\n        if (type === TYPE.datetime) {\r\n            return STRATEGY_NAME.calendarWithTime\r\n        }\r\n        return STRATEGY_NAME.list\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(DATEBOX_CLASS);\r\n        this.callBase();\r\n        this._refreshFormatClass();\r\n        this._refreshPickerTypeClass();\r\n        this._strategy.renderInputMinMax(this._input())\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._formatValidationIcon()\r\n    },\r\n    _renderDimensions: function() {\r\n        this.callBase();\r\n        this.$element().toggleClass(DX_AUTO_WIDTH_CLASS, !this.option(\"width\"));\r\n        this._dimensionChanged()\r\n    },\r\n    _dimensionChanged: function() {\r\n        this.callBase(arguments);\r\n        if (this._popup) {\r\n            var _this$_strategy$_upda, _this$_strategy;\r\n            null === (_this$_strategy$_upda = (_this$_strategy = this._strategy)._updatePopupHeight) || void 0 === _this$_strategy$_upda ? void 0 : _this$_strategy$_upda.call(_this$_strategy)\r\n        }\r\n    },\r\n    _refreshFormatClass: function() {\r\n        var $element = this.$element();\r\n        each(TYPE, (function(_, item) {\r\n            $element.removeClass(DATEBOX_CLASS + \"-\" + item)\r\n        }));\r\n        $element.addClass(DATEBOX_CLASS + \"-\" + this.option(\"type\"))\r\n    },\r\n    _refreshPickerTypeClass: function() {\r\n        var $element = this.$element();\r\n        each(PICKER_TYPE, (function(_, item) {\r\n            $element.removeClass(DATEBOX_CLASS + \"-\" + item)\r\n        }));\r\n        $element.addClass(DATEBOX_CLASS + \"-\" + this._pickerType)\r\n    },\r\n    _formatValidationIcon: function() {\r\n        if (!hasWindow()) {\r\n            return\r\n        }\r\n        var inputElement = this._input().get(0);\r\n        var isRtlEnabled = this.option(\"rtlEnabled\");\r\n        var clearButtonWidth = this._getClearButtonWidth();\r\n        var longestElementDimensions = this._getLongestElementDimensions();\r\n        var curWidth = parseFloat(window.getComputedStyle(inputElement).width) - clearButtonWidth;\r\n        var shouldHideValidationIcon = longestElementDimensions.width > curWidth;\r\n        var style = inputElement.style;\r\n        this.$element().toggleClass(DX_INVALID_BADGE_CLASS, !shouldHideValidationIcon);\r\n        if (shouldHideValidationIcon) {\r\n            if (void 0 === this._storedPadding) {\r\n                this._storedPadding = isRtlEnabled ? longestElementDimensions.leftPadding : longestElementDimensions.rightPadding\r\n            }\r\n            isRtlEnabled ? style.paddingLeft = 0 : style.paddingRight = 0\r\n        } else {\r\n            isRtlEnabled ? style.paddingLeft = this._storedPadding + \"px\" : style.paddingRight = this._storedPadding + \"px\"\r\n        }\r\n    },\r\n    _getClearButtonWidth: function() {\r\n        var clearButtonWidth = 0;\r\n        if (this._isClearButtonVisible() && \"\" === this._input().val()) {\r\n            var clearButtonElement = this.$element().find(\".\" + DX_CLEAR_BUTTON_CLASS).get(0);\r\n            clearButtonWidth = parseFloat(window.getComputedStyle(clearButtonElement).width)\r\n        }\r\n        return clearButtonWidth\r\n    },\r\n    _getLongestElementDimensions: function() {\r\n        var format = this._strategy.getDisplayFormat(this.option(\"displayFormat\"));\r\n        var longestValue = dateLocalization.format(uiDateUtils.getLongestDate(format, dateLocalization.getMonthNames(), dateLocalization.getDayNames()), format);\r\n        var $input = this._input();\r\n        var inputElement = $input.get(0);\r\n        var $longestValueElement = createTextElementHiddenCopy($input, longestValue);\r\n        var isPaddingStored = void 0 !== this._storedPadding;\r\n        var storedPadding = !isPaddingStored ? 0 : this._storedPadding;\r\n        $longestValueElement.appendTo(this.$element());\r\n        var elementWidth = parseFloat(window.getComputedStyle($longestValueElement.get(0)).width);\r\n        var rightPadding = parseFloat(window.getComputedStyle(inputElement).paddingRight);\r\n        var leftPadding = parseFloat(window.getComputedStyle(inputElement).paddingLeft);\r\n        var necessaryWidth = elementWidth + leftPadding + rightPadding + storedPadding;\r\n        $longestValueElement.remove();\r\n        return {\r\n            width: necessaryWidth,\r\n            leftPadding: leftPadding,\r\n            rightPadding: rightPadding\r\n        }\r\n    },\r\n    _getKeyboardListeners() {\r\n        return this.callBase().concat([this._strategy && this._strategy.getKeyboardListener()])\r\n    },\r\n    _renderPopup: function() {\r\n        this.callBase();\r\n        this._popup.$wrapper().addClass(DATEBOX_WRAPPER_CLASS);\r\n        this._renderPopupWrapper()\r\n    },\r\n    _popupConfig: function() {\r\n        var popupConfig = this.callBase();\r\n        return extend(this._strategy.popupConfig(popupConfig), {\r\n            title: this._getPopupTitle(),\r\n            dragEnabled: false\r\n        })\r\n    },\r\n    _renderPopupWrapper: function() {\r\n        if (!this._popup) {\r\n            return\r\n        }\r\n        var $element = this.$element();\r\n        var classPostfixes = extend({}, TYPE, PICKER_TYPE);\r\n        each(classPostfixes, function(_, item) {\r\n            $element.removeClass(DATEBOX_WRAPPER_CLASS + \"-\" + item)\r\n        }.bind(this));\r\n        this._popup.$wrapper().addClass(DATEBOX_WRAPPER_CLASS + \"-\" + this.option(\"type\")).addClass(DATEBOX_WRAPPER_CLASS + \"-\" + this._pickerType).addClass(DROPDOWNEDITOR_OVERLAY_CLASS)\r\n    },\r\n    _renderPopupContent: function() {\r\n        this.callBase();\r\n        this._strategy.renderPopupContent()\r\n    },\r\n    _getFirstPopupElement: function() {\r\n        return this._strategy.getFirstPopupElement() || this.callBase()\r\n    },\r\n    _getLastPopupElement: function() {\r\n        return this._strategy.getLastPopupElement() || this.callBase()\r\n    },\r\n    _popupShowingHandler: function() {\r\n        this.callBase();\r\n        this._strategy.popupShowingHandler()\r\n    },\r\n    _popupShownHandler: function() {\r\n        this.callBase();\r\n        this._strategy.renderOpenedState()\r\n    },\r\n    _popupHiddenHandler: function() {\r\n        this.callBase();\r\n        this._strategy.renderOpenedState();\r\n        this._strategy.popupHiddenHandler()\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._formatValidationIcon()\r\n        }\r\n    },\r\n    _clearValueHandler: function(e) {\r\n        this.option(\"text\", \"\");\r\n        this.callBase(e)\r\n    },\r\n    _readOnlyPropValue: function() {\r\n        if (this._pickerType === PICKER_TYPE.rollers) {\r\n            return true\r\n        }\r\n        var platform = devices.real().platform;\r\n        var isCustomValueDisabled = this._isNativeType() && (\"ios\" === platform || \"android\" === platform);\r\n        if (isCustomValueDisabled) {\r\n            return this.option(\"readOnly\")\r\n        }\r\n        return this.callBase()\r\n    },\r\n    _isClearButtonVisible: function() {\r\n        return this.callBase() && !this._isNativeType()\r\n    },\r\n    _renderValue: function() {\r\n        var value = this.dateOption(\"value\");\r\n        this.option(\"text\", this._getDisplayedText(value));\r\n        this._strategy.renderValue();\r\n        return this.callBase()\r\n    },\r\n    _setSubmitValue: function() {\r\n        var value = this.dateOption(\"value\");\r\n        var dateSerializationFormat = this.option(\"dateSerializationFormat\");\r\n        var submitFormat = uiDateUtils.SUBMIT_FORMATS_MAP[this.option(\"type\")];\r\n        var submitValue = dateSerializationFormat ? dateSerialization.serializeDate(value, dateSerializationFormat) : uiDateUtils.toStandardDateFormat(value, submitFormat);\r\n        this._getSubmitElement().val(submitValue)\r\n    },\r\n    _getDisplayedText: function(value) {\r\n        var mode = this.option(\"mode\");\r\n        var displayedText;\r\n        if (\"text\" === mode) {\r\n            var displayFormat = this._strategy.getDisplayFormat(this.option(\"displayFormat\"));\r\n            displayedText = dateLocalization.format(value, displayFormat)\r\n        } else {\r\n            var format = this._getFormatByMode(mode);\r\n            if (format) {\r\n                displayedText = dateLocalization.format(value, format)\r\n            } else {\r\n                displayedText = uiDateUtils.toStandardDateFormat(value, mode)\r\n            }\r\n        }\r\n        return displayedText\r\n    },\r\n    _getFormatByMode: function(mode) {\r\n        return inputType(mode) ? null : uiDateUtils.FORMATS_MAP[mode]\r\n    },\r\n    _valueChangeEventHandler: function(e) {\r\n        var {\r\n            text: text,\r\n            type: type,\r\n            validationError: validationError\r\n        } = this.option();\r\n        var currentValue = this.dateOption(\"value\");\r\n        if (text === this._getDisplayedText(currentValue)) {\r\n            if (!validationError || validationError.editorSpecific) {\r\n                this._applyInternalValidation(currentValue);\r\n                this._applyCustomValidation(currentValue)\r\n            }\r\n            return\r\n        }\r\n        var parsedDate = this._getParsedDate(text);\r\n        var value = null !== currentValue && void 0 !== currentValue ? currentValue : this._getDateByDefault();\r\n        var newValue = uiDateUtils.mergeDates(value, parsedDate, type);\r\n        var date = parsedDate && \"time\" === type ? newValue : parsedDate;\r\n        if (this._applyInternalValidation(date).isValid) {\r\n            var displayedText = this._getDisplayedText(newValue);\r\n            if (value && newValue && value.getTime() === newValue.getTime() && displayedText !== text) {\r\n                this._renderValue()\r\n            } else {\r\n                this.dateValue(newValue, e)\r\n            }\r\n        }\r\n    },\r\n    _getDateByDefault: function() {\r\n        return this._strategy.useCurrentDateByDefault() && this._strategy.getDefaultDate()\r\n    },\r\n    _getParsedDate: function(text) {\r\n        var displayFormat = this._strategy.getDisplayFormat(this.option(\"displayFormat\"));\r\n        var parsedText = this._strategy.getParsedText(text, displayFormat);\r\n        return null !== parsedText && void 0 !== parsedText ? parsedText : void 0\r\n    },\r\n    _applyInternalValidation(value) {\r\n        var text = this.option(\"text\");\r\n        var hasText = !!text && null !== value;\r\n        var isDate = !!value && isDateType(value) && !isNaN(value.getTime());\r\n        var isDateInRange = isDate && dateUtils.dateInRange(value, this.dateOption(\"min\"), this.dateOption(\"max\"), this.option(\"type\"));\r\n        var isValid = !hasText && !value || isDateInRange;\r\n        var validationMessage = \"\";\r\n        if (!isDate) {\r\n            validationMessage = this.option(\"invalidDateMessage\")\r\n        } else if (!isDateInRange) {\r\n            validationMessage = this.option(\"dateOutOfRangeMessage\")\r\n        }\r\n        this.option({\r\n            isValid: isValid,\r\n            validationError: isValid ? null : {\r\n                editorSpecific: true,\r\n                message: validationMessage\r\n            }\r\n        });\r\n        return {\r\n            isValid: isValid,\r\n            isDate: isDate\r\n        }\r\n    },\r\n    _applyCustomValidation: function(value) {\r\n        this.validationRequest.fire({\r\n            editor: this,\r\n            value: this._serializeDate(value)\r\n        })\r\n    },\r\n    _isValueChanged: function(newValue) {\r\n        var oldValue = this.dateOption(\"value\");\r\n        var oldTime = oldValue && oldValue.getTime();\r\n        var newTime = newValue && newValue.getTime();\r\n        return oldTime !== newTime\r\n    },\r\n    _isTextChanged: function(newValue) {\r\n        var oldText = this.option(\"text\");\r\n        var newText = newValue && this._getDisplayedText(newValue) || \"\";\r\n        return oldText !== newText\r\n    },\r\n    _renderProps: function() {\r\n        this.callBase();\r\n        this._input().attr(\"autocomplete\", \"off\")\r\n    },\r\n    _renderOpenedState: function() {\r\n        if (!this._isNativeType()) {\r\n            this.callBase()\r\n        }\r\n        if (this._strategy.isAdaptivityChanged()) {\r\n            this._refreshStrategy()\r\n        }\r\n    },\r\n    _getPopupTitle: function() {\r\n        var placeholder = this.option(\"placeholder\");\r\n        if (placeholder) {\r\n            return placeholder\r\n        }\r\n        var type = this.option(\"type\");\r\n        if (type === TYPE.time) {\r\n            return messageLocalization.format(\"dxDateBox-simulatedDataPickerTitleTime\")\r\n        }\r\n        if (type === TYPE.date || type === TYPE.datetime) {\r\n            return messageLocalization.format(\"dxDateBox-simulatedDataPickerTitleDate\")\r\n        }\r\n        return \"\"\r\n    },\r\n    _refreshStrategy: function() {\r\n        this._strategy.dispose();\r\n        this._initStrategy();\r\n        this.option(this._strategy.getDefaultOptions());\r\n        this._refresh()\r\n    },\r\n    _applyButtonHandler: function(e) {\r\n        var value = this._strategy.getValue();\r\n        var {\r\n            isValid: isValid,\r\n            isDate: isDate\r\n        } = this._applyInternalValidation(value);\r\n        if (isValid) {\r\n            this.dateValue(value, e.event)\r\n        } else if (isDate) {\r\n            var displayedText = this._getDisplayedText(value);\r\n            this.option(\"text\", displayedText);\r\n            this._renderDisplayText(displayedText)\r\n        }\r\n        this.callBase()\r\n    },\r\n    _dispose: function() {\r\n        var _this$_strategy2;\r\n        this.callBase();\r\n        null === (_this$_strategy2 = this._strategy) || void 0 === _this$_strategy2 ? void 0 : _this$_strategy2.dispose()\r\n    },\r\n    _isNativeType: function() {\r\n        return this._pickerType === PICKER_TYPE.native\r\n    },\r\n    _updatePopupTitle: function() {\r\n        var _this$_popup;\r\n        null === (_this$_popup = this._popup) || void 0 === _this$_popup ? void 0 : _this$_popup.option(\"title\", this._getPopupTitle())\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"showClearButton\":\r\n            case \"buttons\":\r\n                this.callBase.apply(this, arguments);\r\n                this._formatValidationIcon();\r\n                break;\r\n            case \"pickerType\":\r\n                this._updatePickerOptions({\r\n                    pickerType: args.value\r\n                });\r\n                this._refreshStrategy();\r\n                this._refreshPickerTypeClass();\r\n                this._invalidate();\r\n                break;\r\n            case \"type\":\r\n                this._updatePickerOptions({\r\n                    format: args.value\r\n                });\r\n                this._refreshStrategy();\r\n                this._refreshFormatClass();\r\n                this._renderPopupWrapper();\r\n                this._formatValidationIcon();\r\n                this._updateValue();\r\n                break;\r\n            case \"placeholder\":\r\n                this.callBase.apply(this, arguments);\r\n                this._updatePopupTitle();\r\n                break;\r\n            case \"min\":\r\n            case \"max\":\r\n                var isValid = this.option(\"isValid\");\r\n                this._applyInternalValidation(this.dateOption(\"value\"));\r\n                if (!isValid) {\r\n                    this._applyCustomValidation(this.dateOption(\"value\"))\r\n                }\r\n                this._invalidate();\r\n                break;\r\n            case \"dateSerializationFormat\":\r\n            case \"interval\":\r\n            case \"disabledDates\":\r\n            case \"calendarOptions\":\r\n                this._invalidate();\r\n                break;\r\n            case \"displayFormat\":\r\n                this.option(\"text\", this._getDisplayedText(this.dateOption(\"value\")));\r\n                this._renderInputValue();\r\n                break;\r\n            case \"text\":\r\n                this._strategy.textChangedHandler(args.value);\r\n                this.callBase.apply(this, arguments);\r\n                break;\r\n            case \"isValid\":\r\n                this.callBase.apply(this, arguments);\r\n                this._formatValidationIcon();\r\n                break;\r\n            case \"showDropDownButton\":\r\n                this._formatValidationIcon();\r\n                this.callBase.apply(this, arguments);\r\n                break;\r\n            case \"readOnly\":\r\n                this.callBase.apply(this, arguments);\r\n                this._formatValidationIcon();\r\n                break;\r\n            case \"invalidDateMessage\":\r\n            case \"dateOutOfRangeMessage\":\r\n            case \"adaptivityEnabled\":\r\n            case \"showAnalogClock\":\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    _getSerializationFormat: function() {\r\n        var value = this.option(\"value\");\r\n        if (this.option(\"dateSerializationFormat\") && config().forceIsoDateParsing) {\r\n            return this.option(\"dateSerializationFormat\")\r\n        }\r\n        if (isNumeric(value)) {\r\n            return \"number\"\r\n        }\r\n        if (!isString(value)) {\r\n            return\r\n        }\r\n        return dateSerialization.getDateSerializationFormat(value)\r\n    },\r\n    _updateValue: function(value) {\r\n        this.callBase();\r\n        this._applyInternalValidation(null !== value && void 0 !== value ? value : this.dateOption(\"value\"))\r\n    },\r\n    dateValue: function(value, dxEvent) {\r\n        var isValueChanged = this._isValueChanged(value);\r\n        if (isValueChanged && dxEvent) {\r\n            this._saveValueChangeEvent(dxEvent)\r\n        }\r\n        if (!isValueChanged) {\r\n            if (this._isTextChanged(value)) {\r\n                this._updateValue(value)\r\n            } else if (\"\" === this.option(\"text\")) {\r\n                this._applyCustomValidation(value)\r\n            }\r\n        }\r\n        return this.dateOption(\"value\", value)\r\n    },\r\n    dateOption: function(optionName, value) {\r\n        if (1 === arguments.length) {\r\n            return dateSerialization.deserializeDate(this.option(optionName))\r\n        }\r\n        this.option(optionName, this._serializeDate(value))\r\n    },\r\n    _serializeDate: function(date) {\r\n        var serializationFormat = this._getSerializationFormat();\r\n        return dateSerialization.serializeDate(date, serializationFormat)\r\n    },\r\n    _clearValue: function() {\r\n        var value = this.option(\"value\");\r\n        this.callBase();\r\n        if (null === value) {\r\n            this._applyCustomValidation(null)\r\n        }\r\n    },\r\n    reset: function() {\r\n        var value = this.option(\"value\");\r\n        this.callBase();\r\n        if (null === value) {\r\n            this._applyInternalValidation(null)\r\n        }\r\n    }\r\n});\r\nexport default DateBox;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_box.mask.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    addNamespace,\r\n    normalizeKeyName,\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    isFunction,\r\n    isString,\r\n    isDate,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    clipboardText\r\n} from \"../../core/utils/dom\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    fitIntoRange,\r\n    inRange,\r\n    sign\r\n} from \"../../core/utils/math\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    getDatePartIndexByPosition,\r\n    renderDateParts\r\n} from \"./ui.date_box.mask.parts\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport {\r\n    getRegExpInfo\r\n} from \"../../localization/ldml/date.parser\";\r\nimport {\r\n    getFormat\r\n} from \"../../localization/ldml/date.format\";\r\nimport DateBoxBase from \"./ui.date_box.base\";\r\nimport numberLocalization from \"../../localization/number\";\r\nimport devices from \"../../core/devices\";\r\nimport browser from \"../../core/utils/browser\";\r\nvar MASK_EVENT_NAMESPACE = \"dateBoxMask\";\r\nvar FORWARD = 1;\r\nvar BACKWARD = -1;\r\nvar DateBoxMask = DateBoxBase.inherit({\r\n    _supportedKeys(e) {\r\n        var originalHandlers = this.callBase(e);\r\n        var callOriginalHandler = e => {\r\n            var originalHandler = originalHandlers[normalizeKeyName(e)];\r\n            return originalHandler && originalHandler.apply(this, [e])\r\n        };\r\n        var applyHandler = (e, maskHandler) => {\r\n            if (this._shouldUseOriginalHandler(e)) {\r\n                return callOriginalHandler.apply(this, [e])\r\n            } else {\r\n                return maskHandler.apply(this, [e])\r\n            }\r\n        };\r\n        return extend({}, originalHandlers, {\r\n            del: e => applyHandler(e, event => {\r\n                this._revertPart(FORWARD);\r\n                this._isAllSelected() || event.preventDefault()\r\n            }),\r\n            backspace: e => applyHandler(e, event => {\r\n                this._revertPart(BACKWARD);\r\n                this._isAllSelected() || event.preventDefault()\r\n            }),\r\n            home: e => applyHandler(e, event => {\r\n                this._selectFirstPart();\r\n                event.preventDefault()\r\n            }),\r\n            end: e => applyHandler(e, event => {\r\n                this._selectLastPart();\r\n                event.preventDefault()\r\n            }),\r\n            escape: e => applyHandler(e, event => {\r\n                this._revertChanges(event)\r\n            }),\r\n            enter: e => applyHandler(e, event => {\r\n                this._enterHandler(event)\r\n            }),\r\n            leftArrow: e => applyHandler(e, event => {\r\n                this._selectNextPart(BACKWARD);\r\n                event.preventDefault()\r\n            }),\r\n            rightArrow: e => applyHandler(e, event => {\r\n                this._selectNextPart(FORWARD);\r\n                event.preventDefault()\r\n            }),\r\n            upArrow: e => applyHandler(e, event => {\r\n                this._upDownArrowHandler(FORWARD);\r\n                event.preventDefault()\r\n            }),\r\n            downArrow: e => applyHandler(e, event => {\r\n                this._upDownArrowHandler(BACKWARD);\r\n                event.preventDefault()\r\n            })\r\n        })\r\n    },\r\n    _shouldUseOriginalHandler(e) {\r\n        var isNotDeletingInCalendar = this.option(\"opened\") && e && -1 === [\"backspace\", \"del\"].indexOf(normalizeKeyName(e));\r\n        return !this._useMaskBehavior() || isNotDeletingInCalendar || e && e.altKey\r\n    },\r\n    _upDownArrowHandler(step) {\r\n        this._setNewDateIfEmpty();\r\n        var originalValue = this._getActivePartValue(this._initialMaskValue);\r\n        var currentValue = this._getActivePartValue();\r\n        var delta = currentValue - originalValue;\r\n        this._loadMaskValue(this._initialMaskValue);\r\n        this._partIncrease(delta + step, true)\r\n    },\r\n    _getDefaultOptions() {\r\n        return extend(this.callBase(), {\r\n            useMaskBehavior: false,\r\n            emptyDateValue: new Date(2e3, 0, 1, 0, 0, 0)\r\n        })\r\n    },\r\n    _isSingleCharKey(_ref) {\r\n        var {\r\n            originalEvent: originalEvent,\r\n            alt: alt\r\n        } = _ref;\r\n        var key = originalEvent.data || originalEvent.key;\r\n        return \"string\" === typeof key && 1 === key.length && !alt && !isCommandKeyPressed(originalEvent)\r\n    },\r\n    _isSingleDigitKey(e) {\r\n        var _e$originalEvent;\r\n        var data = null === (_e$originalEvent = e.originalEvent) || void 0 === _e$originalEvent ? void 0 : _e$originalEvent.data;\r\n        return 1 === (null === data || void 0 === data ? void 0 : data.length) && parseInt(data, 10)\r\n    },\r\n    _useBeforeInputEvent: function() {\r\n        var device = devices.real();\r\n        return device.android && device.version[0] > 4\r\n    },\r\n    _keyInputHandler(e, key) {\r\n        var oldInputValue = this._input().val();\r\n        this._processInputKey(key);\r\n        e.preventDefault();\r\n        var isValueChanged = oldInputValue !== this._input().val();\r\n        isValueChanged && eventsEngine.trigger(this._input(), \"input\")\r\n    },\r\n    _keyboardHandler(e) {\r\n        var key = e.originalEvent.key;\r\n        var result = this.callBase(e);\r\n        if (!this._useMaskBehavior() || this._useBeforeInputEvent()) {\r\n            return result\r\n        }\r\n        if (browser.chrome && \"Process\" === e.key && 0 === e.code.indexOf(\"Digit\")) {\r\n            key = e.code.replace(\"Digit\", \"\");\r\n            this._processInputKey(key);\r\n            this._maskInputHandler = () => {\r\n                this._renderSelectedPart()\r\n            }\r\n        } else if (this._isSingleCharKey(e)) {\r\n            this._keyInputHandler(e.originalEvent, key)\r\n        }\r\n        return result\r\n    },\r\n    _maskBeforeInputHandler(e) {\r\n        this._maskInputHandler = null;\r\n        var {\r\n            inputType: inputType\r\n        } = e.originalEvent;\r\n        if (\"insertCompositionText\" === inputType) {\r\n            this._maskInputHandler = () => {\r\n                this._renderSelectedPart()\r\n            }\r\n        }\r\n        var isBackwardDeletion = \"deleteContentBackward\" === inputType;\r\n        var isForwardDeletion = \"deleteContentForward\" === inputType;\r\n        if (isBackwardDeletion || isForwardDeletion) {\r\n            var direction = isBackwardDeletion ? BACKWARD : FORWARD;\r\n            this._maskInputHandler = () => {\r\n                this._revertPart();\r\n                this._selectNextPart(direction)\r\n            }\r\n        }\r\n        if (!this._useMaskBehavior() || !this._isSingleCharKey(e)) {\r\n            return\r\n        }\r\n        var key = e.originalEvent.data;\r\n        this._keyInputHandler(e, key);\r\n        return true\r\n    },\r\n    _keyPressHandler(e) {\r\n        var {\r\n            originalEvent: event\r\n        } = e;\r\n        if (\"insertCompositionText\" === (null === event || void 0 === event ? void 0 : event.inputType) && this._isSingleDigitKey(e)) {\r\n            this._processInputKey(event.data);\r\n            this._renderDisplayText(this._getDisplayedText(this._maskValue));\r\n            this._selectNextPart()\r\n        }\r\n        this.callBase(e);\r\n        if (this._maskInputHandler) {\r\n            this._maskInputHandler();\r\n            this._maskInputHandler = null\r\n        }\r\n    },\r\n    _processInputKey(key) {\r\n        if (this._isAllSelected()) {\r\n            this._activePartIndex = 0\r\n        }\r\n        this._setNewDateIfEmpty();\r\n        if (isNaN(parseInt(key))) {\r\n            this._searchString(key)\r\n        } else {\r\n            this._searchNumber(key)\r\n        }\r\n    },\r\n    _isAllSelected() {\r\n        var caret = this._caret();\r\n        return caret.end - caret.start === this.option(\"text\").length\r\n    },\r\n    _getFormatPattern() {\r\n        if (this._formatPattern) {\r\n            return this._formatPattern\r\n        }\r\n        var format = this._strategy.getDisplayFormat(this.option(\"displayFormat\"));\r\n        var isLDMLPattern = isString(format) && !dateLocalization._getPatternByFormat(format);\r\n        if (isLDMLPattern) {\r\n            this._formatPattern = format\r\n        } else {\r\n            this._formatPattern = getFormat((function(value) {\r\n                return dateLocalization.format(value, format)\r\n            }))\r\n        }\r\n        return this._formatPattern\r\n    },\r\n    _setNewDateIfEmpty() {\r\n        if (!this._maskValue) {\r\n            var value = \"time\" === this.option(\"type\") ? new Date(null) : new Date;\r\n            this._maskValue = value;\r\n            this._initialMaskValue = value;\r\n            this._renderDateParts()\r\n        }\r\n    },\r\n    _partLimitsReached(max) {\r\n        var maxLimitLength = String(max).length;\r\n        var formatLength = this._getActivePartProp(\"pattern\").length;\r\n        var isShortFormat = 1 === formatLength;\r\n        var maxSearchLength = isShortFormat ? maxLimitLength : Math.min(formatLength, maxLimitLength);\r\n        var isLengthExceeded = this._searchValue.length === maxSearchLength;\r\n        var isValueOverflowed = parseInt(this._searchValue + \"0\") > max;\r\n        return isLengthExceeded || isValueOverflowed\r\n    },\r\n    _searchNumber(char) {\r\n        var {\r\n            max: max\r\n        } = this._getActivePartLimits();\r\n        var maxLimitLength = String(max).length;\r\n        this._searchValue = (this._searchValue + char).substr(-maxLimitLength);\r\n        if (isNaN(this._searchValue)) {\r\n            this._searchValue = char\r\n        }\r\n        this._setActivePartValue(this._searchValue);\r\n        if (this._partLimitsReached(max)) {\r\n            this._selectNextPart(FORWARD)\r\n        }\r\n    },\r\n    _searchString(char) {\r\n        if (!isNaN(parseInt(this._getActivePartProp(\"text\")))) {\r\n            return\r\n        }\r\n        var limits = this._getActivePartProp(\"limits\")(this._maskValue);\r\n        var startString = this._searchValue + char.toLowerCase();\r\n        var endLimit = limits.max - limits.min;\r\n        for (var i = 0; i <= endLimit; i++) {\r\n            this._loadMaskValue(this._initialMaskValue);\r\n            this._partIncrease(i + 1);\r\n            if (0 === this._getActivePartProp(\"text\").toLowerCase().indexOf(startString)) {\r\n                this._searchValue = startString;\r\n                return\r\n            }\r\n        }\r\n        this._setNewDateIfEmpty();\r\n        if (this._searchValue) {\r\n            this._clearSearchValue();\r\n            this._searchString(char)\r\n        }\r\n    },\r\n    _clearSearchValue() {\r\n        this._searchValue = \"\"\r\n    },\r\n    _revertPart: function(direction) {\r\n        if (!this._isAllSelected()) {\r\n            var actual = this._getActivePartValue(this.option(\"emptyDateValue\"));\r\n            this._setActivePartValue(actual);\r\n            this._selectNextPart(direction)\r\n        }\r\n        this._clearSearchValue()\r\n    },\r\n    _useMaskBehavior() {\r\n        return this.option(\"useMaskBehavior\") && \"text\" === this.option(\"mode\")\r\n    },\r\n    _prepareRegExpInfo() {\r\n        this._regExpInfo = getRegExpInfo(this._getFormatPattern(), dateLocalization);\r\n        var regexp = this._regExpInfo.regexp;\r\n        var source = regexp.source;\r\n        var flags = regexp.flags;\r\n        var quantifierRegexp = new RegExp(/(\\{[0-9]+,?[0-9]*\\})/);\r\n        var convertedSource = source.split(quantifierRegexp).map(sourcePart => quantifierRegexp.test(sourcePart) ? sourcePart : numberLocalization.convertDigits(sourcePart, false)).join(\"\");\r\n        this._regExpInfo.regexp = new RegExp(convertedSource, flags)\r\n    },\r\n    _initMaskState() {\r\n        this._activePartIndex = 0;\r\n        this._formatPattern = null;\r\n        this._prepareRegExpInfo();\r\n        this._loadMaskValue()\r\n    },\r\n    _renderMask() {\r\n        this.callBase();\r\n        this._detachMaskEvents();\r\n        this._clearMaskState();\r\n        if (this._useMaskBehavior()) {\r\n            this._attachMaskEvents();\r\n            this._initMaskState();\r\n            this._renderDateParts()\r\n        }\r\n    },\r\n    _renderDateParts() {\r\n        if (!this._useMaskBehavior()) {\r\n            return\r\n        }\r\n        var text = this.option(\"text\") || this._getDisplayedText(this._maskValue);\r\n        if (text) {\r\n            this._dateParts = renderDateParts(text, this._regExpInfo);\r\n            if (!this._input().is(\":hidden\")) {\r\n                this._selectNextPart()\r\n            }\r\n        }\r\n    },\r\n    _detachMaskEvents() {\r\n        eventsEngine.off(this._input(), \".\" + MASK_EVENT_NAMESPACE)\r\n    },\r\n    _attachMaskEvents() {\r\n        eventsEngine.on(this._input(), addNamespace(\"dxclick\", MASK_EVENT_NAMESPACE), this._maskClickHandler.bind(this));\r\n        eventsEngine.on(this._input(), addNamespace(\"paste\", MASK_EVENT_NAMESPACE), this._maskPasteHandler.bind(this));\r\n        eventsEngine.on(this._input(), addNamespace(\"drop\", MASK_EVENT_NAMESPACE), () => {\r\n            this._renderSelectedPart()\r\n        });\r\n        eventsEngine.on(this._input(), addNamespace(\"compositionend\", MASK_EVENT_NAMESPACE), this._maskCompositionEndHandler.bind(this));\r\n        if (this._useBeforeInputEvent()) {\r\n            eventsEngine.on(this._input(), addNamespace(\"beforeinput\", MASK_EVENT_NAMESPACE), this._maskBeforeInputHandler.bind(this))\r\n        }\r\n    },\r\n    _renderSelectedPart() {\r\n        this._renderDisplayText(this._getDisplayedText(this._maskValue));\r\n        this._selectNextPart()\r\n    },\r\n    _selectLastPart() {\r\n        if (this.option(\"text\")) {\r\n            this._activePartIndex = this._dateParts.length;\r\n            this._selectNextPart(BACKWARD)\r\n        }\r\n    },\r\n    _selectFirstPart() {\r\n        if (this.option(\"text\")) {\r\n            this._activePartIndex = -1;\r\n            this._selectNextPart(FORWARD)\r\n        }\r\n    },\r\n    _onMouseWheel(e) {\r\n        if (this._useMaskBehavior()) {\r\n            this._partIncrease(e.delta > 0 ? FORWARD : BACKWARD, e)\r\n        }\r\n    },\r\n    _selectNextPart() {\r\n        var step = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;\r\n        if (!this.option(\"text\") || this._disposed) {\r\n            return\r\n        }\r\n        if (step) {\r\n            this._initialMaskValue = new Date(this._maskValue)\r\n        }\r\n        var index = fitIntoRange(this._activePartIndex + step, 0, this._dateParts.length - 1);\r\n        if (this._dateParts[index].isStub) {\r\n            var isBoundaryIndex = 0 === index && step < 0 || index === this._dateParts.length - 1 && step > 0;\r\n            if (!isBoundaryIndex) {\r\n                this._selectNextPart(step >= 0 ? step + 1 : step - 1);\r\n                return\r\n            } else {\r\n                index = this._activePartIndex\r\n            }\r\n        }\r\n        if (this._activePartIndex !== index) {\r\n            this._clearSearchValue()\r\n        }\r\n        this._activePartIndex = index;\r\n        this._caret(this._getActivePartProp(\"caret\"))\r\n    },\r\n    _getRealLimitsPattern() {\r\n        if (\"d\" === this._getActivePartProp(\"pattern\")[0]) {\r\n            return \"dM\"\r\n        }\r\n    },\r\n    _getActivePartLimits(lockOtherParts) {\r\n        var limitFunction = this._getActivePartProp(\"limits\");\r\n        return limitFunction(this._maskValue, lockOtherParts && this._getRealLimitsPattern())\r\n    },\r\n    _getActivePartValue(dateValue) {\r\n        dateValue = dateValue || this._maskValue;\r\n        var getter = this._getActivePartProp(\"getter\");\r\n        return isFunction(getter) ? getter(dateValue) : dateValue[getter]()\r\n    },\r\n    _addLeadingZeroes(value) {\r\n        var zeroes = this._searchValue.match(/^0+/);\r\n        var limits = this._getActivePartLimits();\r\n        var maxLimitLength = String(limits.max).length;\r\n        return ((zeroes && zeroes[0] || \"\") + String(value)).substr(-maxLimitLength)\r\n    },\r\n    _setActivePartValue(value, dateValue) {\r\n        dateValue = dateValue || this._maskValue;\r\n        var setter = this._getActivePartProp(\"setter\");\r\n        var limits = this._getActivePartLimits();\r\n        value = inRange(value, limits.min, limits.max) ? value : value % 10;\r\n        value = this._addLeadingZeroes(fitIntoRange(value, limits.min, limits.max));\r\n        isFunction(setter) ? setter(dateValue, value) : dateValue[setter](value);\r\n        this._renderDisplayText(this._getDisplayedText(dateValue));\r\n        this._renderDateParts()\r\n    },\r\n    _getActivePartProp(property) {\r\n        if (!this._dateParts || !this._dateParts[this._activePartIndex]) {\r\n            return\r\n        }\r\n        return this._dateParts[this._activePartIndex][property]\r\n    },\r\n    _loadMaskValue() {\r\n        var value = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.dateOption(\"value\");\r\n        this._maskValue = value && new Date(value);\r\n        this._initialMaskValue = value && new Date(value)\r\n    },\r\n    _saveMaskValue() {\r\n        var value = this._maskValue && new Date(this._maskValue);\r\n        if (value && \"date\" === this.option(\"type\")) {\r\n            value.setHours(0, 0, 0, 0)\r\n        }\r\n        this._initialMaskValue = new Date(value);\r\n        this.dateOption(\"value\", value)\r\n    },\r\n    _revertChanges() {\r\n        this._loadMaskValue();\r\n        this._renderDisplayText(this._getDisplayedText(this._maskValue));\r\n        this._renderDateParts()\r\n    },\r\n    _renderDisplayText(text) {\r\n        this.callBase(text);\r\n        if (this._useMaskBehavior()) {\r\n            this.option(\"text\", text)\r\n        }\r\n    },\r\n    _partIncrease(step, lockOtherParts) {\r\n        this._setNewDateIfEmpty();\r\n        var {\r\n            max: max,\r\n            min: min\r\n        } = this._getActivePartLimits(lockOtherParts);\r\n        var limitDelta = max - min;\r\n        if (1 === limitDelta) {\r\n            limitDelta++\r\n        }\r\n        var newValue = step + this._getActivePartValue();\r\n        if (newValue > max) {\r\n            newValue = this._applyLimits(newValue, {\r\n                limitBase: min,\r\n                limitClosest: max,\r\n                limitDelta: limitDelta\r\n            })\r\n        } else if (newValue < min) {\r\n            newValue = this._applyLimits(newValue, {\r\n                limitBase: max,\r\n                limitClosest: min,\r\n                limitDelta: limitDelta\r\n            })\r\n        }\r\n        this._setActivePartValue(newValue)\r\n    },\r\n    _applyLimits(newValue, _ref2) {\r\n        var {\r\n            limitBase: limitBase,\r\n            limitClosest: limitClosest,\r\n            limitDelta: limitDelta\r\n        } = _ref2;\r\n        var delta = (newValue - limitClosest) % limitDelta;\r\n        return delta ? limitBase + delta - 1 * sign(delta) : limitClosest\r\n    },\r\n    _maskClickHandler() {\r\n        if (this.option(\"text\")) {\r\n            this._activePartIndex = getDatePartIndexByPosition(this._dateParts, this._caret().start);\r\n            if (!this._isAllSelected()) {\r\n                if (isDefined(this._activePartIndex)) {\r\n                    this._caret(this._getActivePartProp(\"caret\"))\r\n                } else {\r\n                    this._selectLastPart()\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _maskCompositionEndHandler(e) {\r\n        this._input().val(this._getDisplayedText(this._maskValue));\r\n        this._selectNextPart();\r\n        this._maskInputHandler = () => {\r\n            this._renderSelectedPart()\r\n        }\r\n    },\r\n    _maskPasteHandler(e) {\r\n        var newText = this._replaceSelectedText(this.option(\"text\"), this._caret(), clipboardText(e));\r\n        var date = dateLocalization.parse(newText, this._getFormatPattern());\r\n        if (date && this._isDateValid(date)) {\r\n            this._maskValue = date;\r\n            this._renderDisplayText(this._getDisplayedText(this._maskValue));\r\n            this._renderDateParts();\r\n            this._selectNextPart()\r\n        }\r\n        e.preventDefault()\r\n    },\r\n    _isDateValid: date => isDate(date) && !isNaN(date),\r\n    _isValueDirty() {\r\n        var value = this.dateOption(\"value\");\r\n        return (this._maskValue && this._maskValue.getTime()) !== (value && value.getTime())\r\n    },\r\n    _fireChangeEvent() {\r\n        this._clearSearchValue();\r\n        if (this._isValueDirty()) {\r\n            eventsEngine.trigger(this._input(), \"change\")\r\n        }\r\n    },\r\n    _enterHandler(e) {\r\n        this._fireChangeEvent();\r\n        this._selectNextPart(FORWARD);\r\n        e.preventDefault()\r\n    },\r\n    _focusOutHandler(e) {\r\n        var shouldFireChangeEvent = this._useMaskBehavior() && !e.isDefaultPrevented();\r\n        if (shouldFireChangeEvent) {\r\n            this._fireChangeEvent();\r\n            this.callBase(e);\r\n            this._selectFirstPart(e)\r\n        } else {\r\n            this.callBase(e)\r\n        }\r\n    },\r\n    _valueChangeEventHandler(e) {\r\n        var text = this.option(\"text\");\r\n        if (this._useMaskBehavior()) {\r\n            this._saveValueChangeEvent(e);\r\n            if (!text) {\r\n                this._maskValue = null\r\n            } else if (null === this._maskValue) {\r\n                this._loadMaskValue(text)\r\n            }\r\n            this._saveMaskValue()\r\n        } else {\r\n            this.callBase(e)\r\n        }\r\n    },\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"useMaskBehavior\":\r\n                this._renderMask();\r\n                break;\r\n            case \"displayFormat\":\r\n            case \"mode\":\r\n                this.callBase(args);\r\n                this._renderMask();\r\n                break;\r\n            case \"value\":\r\n                this._loadMaskValue();\r\n                this.callBase(args);\r\n                this._renderDateParts();\r\n                break;\r\n            case \"emptyDateValue\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _clearMaskState() {\r\n        this._clearSearchValue();\r\n        delete this._dateParts;\r\n        delete this._activePartIndex;\r\n        delete this._maskValue\r\n    },\r\n    reset() {\r\n        this.callBase();\r\n        this._clearMaskState();\r\n        this._activePartIndex = 0\r\n    },\r\n    _clean() {\r\n        this.callBase();\r\n        this._detachMaskEvents();\r\n        this._clearMaskState()\r\n    }\r\n});\r\nexport default DateBoxMask;\r\n","/**\r\n * DevExtreme (esm/ui/date_box/ui.date_box.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport DateBoxMask from \"./ui.date_box.mask\";\r\nregisterComponent(\"dxDateBox\", DateBoxMask);\r\nexport default DateBoxMask;\r\n","/**\r\n * DevExtreme (esm/ui/drop_down_editor/ui.drop_down_button.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport TextEditorButton from \"../text_box/texteditor_button_collection/button\";\r\nimport Button from \"../button\";\r\nvar DROP_DOWN_EDITOR_BUTTON_CLASS = \"dx-dropdowneditor-button\";\r\nvar DROP_DOWN_EDITOR_BUTTON_VISIBLE = \"dx-dropdowneditor-button-visible\";\r\nvar BUTTON_MESSAGE = \"dxDropDownEditor-selectLabel\";\r\nexport default class DropDownButton extends TextEditorButton {\r\n    constructor(name, editor, options) {\r\n        super(name, editor, options);\r\n        this.currentTemplate = null\r\n    }\r\n    _attachEvents(instance) {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        instance.option(\"onClick\", e => {\r\n            !editor.option(\"openOnFieldClick\") && editor._openHandler(e)\r\n        });\r\n        eventsEngine.on(instance.$element(), \"mousedown\", e => {\r\n            if (editor.$element().is(\".dx-state-focused\")) {\r\n                e.preventDefault()\r\n            }\r\n        })\r\n    }\r\n    _create() {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        var $element = $(\"<div>\");\r\n        var options = this._getOptions();\r\n        this._addToContainer($element);\r\n        var instance = editor._createComponent($element, Button, extend({}, options, {\r\n            elementAttr: {\r\n                \"aria-label\": messageLocalization.format(BUTTON_MESSAGE)\r\n            }\r\n        }));\r\n        this._legacyRender(editor.$element(), $element, options.visible);\r\n        return {\r\n            $element: $element,\r\n            instance: instance\r\n        }\r\n    }\r\n    _getOptions() {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        var visible = this._isVisible();\r\n        var isReadOnly = editor.option(\"readOnly\");\r\n        var options = {\r\n            focusStateEnabled: false,\r\n            hoverStateEnabled: false,\r\n            activeStateEnabled: false,\r\n            useInkRipple: false,\r\n            disabled: isReadOnly,\r\n            visible: visible\r\n        };\r\n        this._addTemplate(options);\r\n        return options\r\n    }\r\n    _isVisible() {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        return super._isVisible() && editor.option(\"showDropDownButton\")\r\n    }\r\n    _legacyRender($editor, $element, isVisible) {\r\n        $editor.toggleClass(DROP_DOWN_EDITOR_BUTTON_VISIBLE, isVisible);\r\n        if ($element) {\r\n            $element.removeClass(\"dx-button\").addClass(DROP_DOWN_EDITOR_BUTTON_CLASS)\r\n        }\r\n    }\r\n    _isSameTemplate() {\r\n        return this.editor.option(\"dropDownButtonTemplate\") === this.currentTemplate\r\n    }\r\n    _addTemplate(options) {\r\n        if (!this._isSameTemplate()) {\r\n            options.template = this.editor._getTemplateByOption(\"dropDownButtonTemplate\");\r\n            this.currentTemplate = this.editor.option(\"dropDownButtonTemplate\")\r\n        }\r\n    }\r\n    update() {\r\n        var shouldUpdate = super.update();\r\n        if (shouldUpdate) {\r\n            var {\r\n                editor: editor,\r\n                instance: instance\r\n            } = this;\r\n            var $editor = editor.$element();\r\n            var options = this._getOptions();\r\n            null === instance || void 0 === instance ? void 0 : instance.option(options);\r\n            this._legacyRender($editor, null === instance || void 0 === instance ? void 0 : instance.$element(), options.visible)\r\n        }\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/drop_down_editor/ui.drop_down_editor.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Guid from \"../../core/guid\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    noop,\r\n    splitPair\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    focused\r\n} from \"../widget/selectors\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport animationPosition from \"../../animation/position\";\r\nimport {\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport DropDownButton from \"./ui.drop_down_button\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    addNamespace,\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nimport TextBox from \"../text_box\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    FunctionTemplate\r\n} from \"../../core/templates/function_template\";\r\nimport Popup from \"../popup\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    getElementWidth,\r\n    getSizeValue\r\n} from \"./utils\";\r\nimport {\r\n    locate,\r\n    move\r\n} from \"../../animation/translator\";\r\nvar DROP_DOWN_EDITOR_CLASS = \"dx-dropdowneditor\";\r\nvar DROP_DOWN_EDITOR_INPUT_WRAPPER = \"dx-dropdowneditor-input-wrapper\";\r\nvar DROP_DOWN_EDITOR_BUTTON_ICON = \"dx-dropdowneditor-icon\";\r\nvar DROP_DOWN_EDITOR_OVERLAY = \"dx-dropdowneditor-overlay\";\r\nvar DROP_DOWN_EDITOR_OVERLAY_FLIPPED = \"dx-dropdowneditor-overlay-flipped\";\r\nvar DROP_DOWN_EDITOR_ACTIVE = \"dx-dropdowneditor-active\";\r\nvar DROP_DOWN_EDITOR_FIELD_CLICKABLE = \"dx-dropdowneditor-field-clickable\";\r\nvar DROP_DOWN_EDITOR_FIELD_TEMPLATE_WRAPPER = \"dx-dropdowneditor-field-template-wrapper\";\r\nvar isIOs = \"ios\" === devices.current().platform;\r\nvar DropDownEditor = TextBox.inherit({\r\n    _supportedKeys: function() {\r\n        return extend({}, this.callBase(), {\r\n            tab: function(e) {\r\n                if (!this.option(\"opened\")) {\r\n                    return\r\n                }\r\n                if (\"instantly\" === this.option(\"applyValueMode\")) {\r\n                    this.close();\r\n                    return\r\n                }\r\n                var $focusableElement = e.shiftKey ? this._getLastPopupElement() : this._getFirstPopupElement();\r\n                $focusableElement && eventsEngine.trigger($focusableElement, \"focus\");\r\n                e.preventDefault()\r\n            },\r\n            escape: function(e) {\r\n                if (this.option(\"opened\")) {\r\n                    e.preventDefault()\r\n                }\r\n                this.close();\r\n                return true\r\n            },\r\n            upArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    if (e.altKey) {\r\n                        this.close();\r\n                        return false\r\n                    }\r\n                }\r\n                return true\r\n            },\r\n            downArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    if (e.altKey) {\r\n                        this._validatedOpening();\r\n                        return false\r\n                    }\r\n                }\r\n                return true\r\n            },\r\n            enter: function(e) {\r\n                if (this.option(\"opened\")) {\r\n                    e.preventDefault();\r\n                    this._valueChangeEventHandler(e)\r\n                }\r\n                return true\r\n            }\r\n        })\r\n    },\r\n    _getDefaultButtons: function() {\r\n        return this.callBase().concat([{\r\n            name: \"dropDown\",\r\n            Ctor: DropDownButton\r\n        }])\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            value: null,\r\n            onOpened: null,\r\n            onClosed: null,\r\n            opened: false,\r\n            acceptCustomValue: true,\r\n            applyValueMode: \"instantly\",\r\n            deferRendering: true,\r\n            activeStateEnabled: true,\r\n            dropDownButtonTemplate: \"dropDownButton\",\r\n            fieldTemplate: null,\r\n            openOnFieldClick: false,\r\n            showDropDownButton: true,\r\n            buttons: void 0,\r\n            dropDownOptions: {\r\n                showTitle: false\r\n            },\r\n            popupPosition: this._getDefaultPopupPosition(),\r\n            onPopupInitialized: null,\r\n            applyButtonText: messageLocalization.format(\"OK\"),\r\n            cancelButtonText: messageLocalization.format(\"Cancel\"),\r\n            buttonsLocation: \"default\",\r\n            useHiddenSubmitElement: false\r\n        })\r\n    },\r\n    _useTemplates: function() {\r\n        return true\r\n    },\r\n    _getDefaultPopupPosition: function(isRtlEnabled) {\r\n        var position = getDefaultAlignment(isRtlEnabled);\r\n        return {\r\n            offset: {\r\n                h: 0,\r\n                v: -1\r\n            },\r\n            my: position + \" top\",\r\n            at: position + \" bottom\",\r\n            collision: \"flip flip\"\r\n        }\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function(_device) {\r\n                var isGeneric = \"generic\" === _device.platform;\r\n                return isGeneric\r\n            },\r\n            options: {\r\n                popupPosition: {\r\n                    offset: {\r\n                        v: 0\r\n                    }\r\n                }\r\n            }\r\n        }])\r\n    },\r\n    _inputWrapper: function() {\r\n        return this.$element().find(\".\" + DROP_DOWN_EDITOR_INPUT_WRAPPER).first()\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initVisibilityActions();\r\n        this._initPopupInitializedAction();\r\n        this._updatePopupPosition(this.option(\"rtlEnabled\"));\r\n        this._options.cache(\"dropDownOptions\", this.option(\"dropDownOptions\"))\r\n    },\r\n    _updatePopupPosition: function(isRtlEnabled) {\r\n        var {\r\n            my: my,\r\n            at: at\r\n        } = this._getDefaultPopupPosition(isRtlEnabled);\r\n        var currentPosition = this.option(\"popupPosition\");\r\n        this.option(\"popupPosition\", extend({}, currentPosition, {\r\n            my: my,\r\n            at: at\r\n        }))\r\n    },\r\n    _initVisibilityActions: function() {\r\n        this._openAction = this._createActionByOption(\"onOpened\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        this._closeAction = this._createActionByOption(\"onClosed\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initPopupInitializedAction: function() {\r\n        this._popupInitializedAction = this._createActionByOption(\"onPopupInitialized\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderSubmitElement();\r\n        this.callBase();\r\n        this.$element().addClass(DROP_DOWN_EDITOR_CLASS);\r\n        this.setAria(\"role\", \"combobox\")\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._renderOpenHandler();\r\n        this._attachFocusOutHandler();\r\n        this._renderOpenedState()\r\n    },\r\n    _renderContentImpl: function() {\r\n        if (!this.option(\"deferRendering\")) {\r\n            this._createPopup()\r\n        }\r\n    },\r\n    _renderInput: function() {\r\n        this.callBase();\r\n        this._wrapInput();\r\n        this._setDefaultAria()\r\n    },\r\n    _wrapInput: function() {\r\n        this._$container = this.$element().wrapInner($(\"<div>\").addClass(DROP_DOWN_EDITOR_INPUT_WRAPPER)).children().eq(0)\r\n    },\r\n    _setDefaultAria: function() {\r\n        this.setAria({\r\n            haspopup: \"true\",\r\n            autocomplete: \"list\"\r\n        })\r\n    },\r\n    _readOnlyPropValue: function() {\r\n        return !this._isEditable() || this.callBase()\r\n    },\r\n    _cleanFocusState: function() {\r\n        this.callBase();\r\n        if (this.option(\"fieldTemplate\")) {\r\n            this._detachFocusEvents()\r\n        }\r\n    },\r\n    _getFieldTemplate: function() {\r\n        return this.option(\"fieldTemplate\") && this._getTemplateByOption(\"fieldTemplate\")\r\n    },\r\n    _renderMask: function() {\r\n        if (this.option(\"fieldTemplate\")) {\r\n            return\r\n        }\r\n        this.callBase()\r\n    },\r\n    _renderField: function() {\r\n        var fieldTemplate = this._getFieldTemplate();\r\n        fieldTemplate && this._renderTemplatedField(fieldTemplate, this._fieldRenderData())\r\n    },\r\n    _renderPlaceholder: function() {\r\n        var hasFieldTemplate = !!this._getFieldTemplate();\r\n        if (!hasFieldTemplate) {\r\n            this.callBase()\r\n        }\r\n    },\r\n    _renderValue: function() {\r\n        if (this.option(\"useHiddenSubmitElement\")) {\r\n            this._setSubmitValue()\r\n        }\r\n        var promise = this.callBase();\r\n        promise.always(this._renderField.bind(this))\r\n    },\r\n    _renderTemplatedField: function(fieldTemplate, data) {\r\n        var isFocused = focused(this._input());\r\n        var $container = this._$container;\r\n        this._detachKeyboardEvents();\r\n        this._refreshButtonsContainer();\r\n        this._detachWrapperContent();\r\n        this._detachFocusEvents();\r\n        $container.empty();\r\n        var $templateWrapper = $(\"<div>\").addClass(DROP_DOWN_EDITOR_FIELD_TEMPLATE_WRAPPER).appendTo($container);\r\n        fieldTemplate.render({\r\n            model: data,\r\n            container: getPublicElement($templateWrapper),\r\n            onRendered: () => {\r\n                var $input = this._input();\r\n                if (!$input.length) {\r\n                    throw errors.Error(\"E1010\")\r\n                }\r\n                this._integrateInput();\r\n                isFocused && eventsEngine.trigger($input, \"focus\")\r\n            }\r\n        });\r\n        this._attachWrapperContent($container)\r\n    },\r\n    _detachWrapperContent() {\r\n        var _this$_$submitElement, _this$_$beforeButtons, _this$_$afterButtonsC;\r\n        var useHiddenSubmitElement = this.option(\"useHiddenSubmitElement\");\r\n        useHiddenSubmitElement && (null === (_this$_$submitElement = this._$submitElement) || void 0 === _this$_$submitElement ? void 0 : _this$_$submitElement.detach());\r\n        var beforeButtonsContainerParent = null === (_this$_$beforeButtons = this._$beforeButtonsContainer) || void 0 === _this$_$beforeButtons ? void 0 : _this$_$beforeButtons[0].parentNode;\r\n        var afterButtonsContainerParent = null === (_this$_$afterButtonsC = this._$afterButtonsContainer) || void 0 === _this$_$afterButtonsC ? void 0 : _this$_$afterButtonsC[0].parentNode;\r\n        null === beforeButtonsContainerParent || void 0 === beforeButtonsContainerParent ? void 0 : beforeButtonsContainerParent.removeChild(this._$beforeButtonsContainer[0]);\r\n        null === afterButtonsContainerParent || void 0 === afterButtonsContainerParent ? void 0 : afterButtonsContainerParent.removeChild(this._$afterButtonsContainer[0])\r\n    },\r\n    _attachWrapperContent($container) {\r\n        var _this$_$submitElement2;\r\n        var useHiddenSubmitElement = this.option(\"useHiddenSubmitElement\");\r\n        $container.prepend(this._$beforeButtonsContainer);\r\n        useHiddenSubmitElement && (null === (_this$_$submitElement2 = this._$submitElement) || void 0 === _this$_$submitElement2 ? void 0 : _this$_$submitElement2.appendTo($container));\r\n        $container.append(this._$afterButtonsContainer)\r\n    },\r\n    _refreshButtonsContainer() {\r\n        this._$buttonsContainer = this.$element().children().eq(0)\r\n    },\r\n    _integrateInput: function() {\r\n        this._renderFocusState();\r\n        this._refreshValueChangeEvent();\r\n        this._refreshEvents();\r\n        this._refreshEmptinessEvent()\r\n    },\r\n    _refreshEmptinessEvent: function() {\r\n        eventsEngine.off(this._input(), \"input blur\", this._toggleEmptinessEventHandler);\r\n        this._renderEmptinessEvent()\r\n    },\r\n    _fieldRenderData: function() {\r\n        return this.option(\"value\")\r\n    },\r\n    _initTemplates: function() {\r\n        this._templateManager.addDefaultTemplates({\r\n            dropDownButton: new FunctionTemplate((function(options) {\r\n                var $icon = $(\"<div>\").addClass(DROP_DOWN_EDITOR_BUTTON_ICON);\r\n                $(options.container).append($icon)\r\n            }))\r\n        });\r\n        this.callBase()\r\n    },\r\n    _renderOpenHandler: function() {\r\n        var $inputWrapper = this._inputWrapper();\r\n        var eventName = addNamespace(clickEventName, this.NAME);\r\n        var openOnFieldClick = this.option(\"openOnFieldClick\");\r\n        eventsEngine.off($inputWrapper, eventName);\r\n        eventsEngine.on($inputWrapper, eventName, this._getInputClickHandler(openOnFieldClick));\r\n        this.$element().toggleClass(DROP_DOWN_EDITOR_FIELD_CLICKABLE, openOnFieldClick);\r\n        if (openOnFieldClick) {\r\n            this._openOnFieldClickAction = this._createAction(this._openHandler.bind(this))\r\n        }\r\n    },\r\n    _attachFocusOutHandler: function() {\r\n        if (isIOs) {\r\n            this._detachFocusOutEvents();\r\n            eventsEngine.on(this._inputWrapper(), addNamespace(\"focusout\", this.NAME), event => {\r\n                var newTarget = event.relatedTarget;\r\n                var popupWrapper = this.content ? $(this.content()).closest(\".\" + DROP_DOWN_EDITOR_OVERLAY) : this._$popup;\r\n                if (newTarget && this.option(\"opened\")) {\r\n                    var isNewTargetOutside = 0 === $(newTarget).closest(\".\" + DROP_DOWN_EDITOR_OVERLAY, popupWrapper).length;\r\n                    if (isNewTargetOutside) {\r\n                        this.close()\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _detachFocusOutEvents: function() {\r\n        isIOs && eventsEngine.off(this._inputWrapper(), addNamespace(\"focusout\", this.NAME))\r\n    },\r\n    _getInputClickHandler: function(openOnFieldClick) {\r\n        return openOnFieldClick ? e => {\r\n            this._executeOpenAction(e)\r\n        } : e => {\r\n            this._focusInput()\r\n        }\r\n    },\r\n    _openHandler: function() {\r\n        this._toggleOpenState()\r\n    },\r\n    _executeOpenAction: function(e) {\r\n        this._openOnFieldClickAction({\r\n            event: e\r\n        })\r\n    },\r\n    _keyboardEventBindingTarget: function() {\r\n        return this._input()\r\n    },\r\n    _focusInput: function() {\r\n        if (this.option(\"disabled\")) {\r\n            return false\r\n        }\r\n        if (this.option(\"focusStateEnabled\") && !focused(this._input())) {\r\n            this._resetCaretPosition();\r\n            eventsEngine.trigger(this._input(), \"focus\")\r\n        }\r\n        return true\r\n    },\r\n    _resetCaretPosition: function() {\r\n        var ignoreEditable = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : false;\r\n        var inputElement = this._input().get(0);\r\n        if (inputElement) {\r\n            var {\r\n                value: value\r\n            } = inputElement;\r\n            var caretPosition = isDefined(value) && (ignoreEditable || this._isEditable()) ? value.length : 0;\r\n            this._caret({\r\n                start: caretPosition,\r\n                end: caretPosition\r\n            }, true)\r\n        }\r\n    },\r\n    _isEditable: function() {\r\n        return this.option(\"acceptCustomValue\")\r\n    },\r\n    _toggleOpenState: function(isVisible) {\r\n        if (!this._focusInput()) {\r\n            return\r\n        }\r\n        if (!this.option(\"readOnly\")) {\r\n            isVisible = arguments.length ? isVisible : !this.option(\"opened\");\r\n            this.option(\"opened\", isVisible)\r\n        }\r\n    },\r\n    _renderOpenedState: function() {\r\n        var opened = this.option(\"opened\");\r\n        if (opened) {\r\n            this._createPopup()\r\n        }\r\n        this.$element().toggleClass(DROP_DOWN_EDITOR_ACTIVE, opened);\r\n        this._setPopupOption(\"visible\", opened);\r\n        this.setAria({\r\n            expanded: opened\r\n        });\r\n        this.setAria(\"owns\", opened ? this._popupContentId : void 0, this.$element())\r\n    },\r\n    _createPopup: function() {\r\n        if (this._$popup) {\r\n            return\r\n        }\r\n        this._$popup = $(\"<div>\").addClass(DROP_DOWN_EDITOR_OVERLAY).appendTo(this.$element());\r\n        this._renderPopup();\r\n        this._renderPopupContent()\r\n    },\r\n    _renderPopupContent: noop,\r\n    _renderPopup: function() {\r\n        var popupConfig = extend(this._popupConfig(), this._options.cache(\"dropDownOptions\"));\r\n        this._popup = this._createComponent(this._$popup, Popup, popupConfig);\r\n        this._popup.on({\r\n            showing: this._popupShowingHandler.bind(this),\r\n            shown: this._popupShownHandler.bind(this),\r\n            hiding: this._popupHidingHandler.bind(this),\r\n            hidden: this._popupHiddenHandler.bind(this),\r\n            contentReady: this._contentReadyHandler.bind(this)\r\n        });\r\n        this._contentReadyHandler();\r\n        this._setPopupContentId(this._popup.$content());\r\n        this._bindInnerWidgetOptions(this._popup, \"dropDownOptions\")\r\n    },\r\n    _setPopupContentId($popupContent) {\r\n        this._popupContentId = \"dx-\" + new Guid;\r\n        this.setAria(\"id\", this._popupContentId, $popupContent)\r\n    },\r\n    _contentReadyHandler: noop,\r\n    _popupConfig: function() {\r\n        return {\r\n            onInitialized: this._popupInitializedHandler(),\r\n            position: extend(this.option(\"popupPosition\"), {\r\n                of: this.$element()\r\n            }),\r\n            showTitle: this.option(\"dropDownOptions.showTitle\"),\r\n            _ignoreFunctionValueDeprecation: true,\r\n            width: () => getElementWidth(this.$element()),\r\n            height: \"auto\",\r\n            shading: false,\r\n            wrapperAttr: {\r\n                class: DROP_DOWN_EDITOR_OVERLAY\r\n            },\r\n            hideOnParentScroll: true,\r\n            closeOnOutsideClick: this._closeOutsideDropDownHandler.bind(this),\r\n            animation: {\r\n                show: {\r\n                    type: \"fade\",\r\n                    duration: 0,\r\n                    from: 0,\r\n                    to: 1\r\n                },\r\n                hide: {\r\n                    type: \"fade\",\r\n                    duration: 400,\r\n                    from: 1,\r\n                    to: 0\r\n                }\r\n            },\r\n            deferRendering: false,\r\n            focusStateEnabled: false,\r\n            showCloseButton: false,\r\n            dragEnabled: false,\r\n            toolbarItems: this._getPopupToolbarItems(),\r\n            onPositioned: this._popupPositionedHandler.bind(this),\r\n            fullScreen: false,\r\n            contentTemplate: null\r\n        }\r\n    },\r\n    _popupInitializedHandler: function() {\r\n        if (!this.option(\"onPopupInitialized\")) {\r\n            return null\r\n        }\r\n        return e => {\r\n            this._popupInitializedAction({\r\n                popup: e.component\r\n            })\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        var popupWidth = getSizeValue(this.option(\"dropDownOptions.width\"));\r\n        if (void 0 === popupWidth) {\r\n            this._setPopupOption(\"width\", () => getElementWidth(this.$element()))\r\n        }\r\n    },\r\n    _popupPositionedHandler: function(e) {\r\n        e.position && this._popup.$overlayContent().toggleClass(DROP_DOWN_EDITOR_OVERLAY_FLIPPED, e.position.v.flip)\r\n    },\r\n    _popupShowingHandler: noop,\r\n    _popupHidingHandler: function() {\r\n        this.option(\"opened\", false)\r\n    },\r\n    _popupShownHandler: function() {\r\n        var _this$_validationMess;\r\n        this._openAction();\r\n        var $popupOverlayContent = this._popup.$overlayContent();\r\n        var position = locate($popupOverlayContent);\r\n        if (this._label.isVisible() && $popupOverlayContent.hasClass(DROP_DOWN_EDITOR_OVERLAY_FLIPPED)) {\r\n            var $label = this._label.$element();\r\n            move($popupOverlayContent, {\r\n                top: position.top - parseInt($label.css(\"fontSize\"))\r\n            })\r\n        }\r\n        null === (_this$_validationMess = this._validationMessage) || void 0 === _this$_validationMess ? void 0 : _this$_validationMess.option(\"positionRequest\", this._getValidationMessagePositionRequest())\r\n    },\r\n    _popupHiddenHandler: function() {\r\n        var _this$_validationMess2;\r\n        this._closeAction();\r\n        null === (_this$_validationMess2 = this._validationMessage) || void 0 === _this$_validationMess2 ? void 0 : _this$_validationMess2.option(\"positionRequest\", this._getValidationMessagePositionRequest())\r\n    },\r\n    _getValidationMessagePositionRequest: function() {\r\n        var positionRequest = \"below\";\r\n        if (this._popup && this._popup.option(\"visible\")) {\r\n            var {\r\n                top: myTop\r\n            } = animationPosition.setup(this.$element());\r\n            var {\r\n                top: popupTop\r\n            } = animationPosition.setup(this._popup.$content());\r\n            positionRequest = myTop + this.option(\"popupPosition\").offset.v > popupTop ? \"below\" : \"above\"\r\n        }\r\n        return positionRequest\r\n    },\r\n    _closeOutsideDropDownHandler: function(_ref) {\r\n        var {\r\n            target: target\r\n        } = _ref;\r\n        var $target = $(target);\r\n        var dropDownButton = this.getButton(\"dropDown\");\r\n        var $dropDownButton = dropDownButton && dropDownButton.$element();\r\n        var isInputClicked = !!$target.closest(this.$element()).length;\r\n        var isDropDownButtonClicked = !!$target.closest($dropDownButton).length;\r\n        var isOutsideClick = !isInputClicked && !isDropDownButtonClicked;\r\n        return isOutsideClick\r\n    },\r\n    _clean: function() {\r\n        delete this._openOnFieldClickAction;\r\n        if (this._$popup) {\r\n            this._$popup.remove();\r\n            delete this._$popup;\r\n            delete this._popup\r\n        }\r\n        this.callBase()\r\n    },\r\n    _setPopupOption: function(optionName, value) {\r\n        this._setWidgetOption(\"_popup\", arguments)\r\n    },\r\n    _validatedOpening: function() {\r\n        if (!this.option(\"readOnly\")) {\r\n            this._toggleOpenState(true)\r\n        }\r\n    },\r\n    _getPopupToolbarItems: function() {\r\n        return \"useButtons\" === this.option(\"applyValueMode\") ? this._popupToolbarItemsConfig() : []\r\n    },\r\n    _getFirstPopupElement: function() {\r\n        return this._popup.$wrapper().find(\".dx-popup-done.dx-button\")\r\n    },\r\n    _getLastPopupElement: function() {\r\n        return this._popup.$wrapper().find(\".dx-popup-cancel.dx-button\")\r\n    },\r\n    _popupElementTabHandler: function(e) {\r\n        var $element = $(e.currentTarget);\r\n        if (e.shiftKey && $element.is(this._getFirstPopupElement()) || !e.shiftKey && $element.is(this._getLastPopupElement())) {\r\n            eventsEngine.trigger(this._input(), \"focus\");\r\n            e.preventDefault()\r\n        }\r\n    },\r\n    _popupElementEscHandler: function() {\r\n        eventsEngine.trigger(this._input(), \"focus\");\r\n        this.close()\r\n    },\r\n    _popupButtonInitializedHandler: function(e) {\r\n        e.component.registerKeyHandler(\"tab\", this._popupElementTabHandler.bind(this));\r\n        e.component.registerKeyHandler(\"escape\", this._popupElementEscHandler.bind(this))\r\n    },\r\n    _popupToolbarItemsConfig: function() {\r\n        var buttonsConfig = [{\r\n            shortcut: \"done\",\r\n            options: {\r\n                onClick: this._applyButtonHandler.bind(this),\r\n                text: this.option(\"applyButtonText\"),\r\n                onInitialized: this._popupButtonInitializedHandler.bind(this)\r\n            }\r\n        }, {\r\n            shortcut: \"cancel\",\r\n            options: {\r\n                onClick: this._cancelButtonHandler.bind(this),\r\n                text: this.option(\"cancelButtonText\"),\r\n                onInitialized: this._popupButtonInitializedHandler.bind(this)\r\n            }\r\n        }];\r\n        return this._applyButtonsLocation(buttonsConfig)\r\n    },\r\n    _applyButtonsLocation: function(buttonsConfig) {\r\n        var buttonsLocation = this.option(\"buttonsLocation\");\r\n        var resultConfig = buttonsConfig;\r\n        if (\"default\" !== buttonsLocation) {\r\n            var position = splitPair(buttonsLocation);\r\n            each(resultConfig, (function(_, element) {\r\n                extend(element, {\r\n                    toolbar: position[0],\r\n                    location: position[1]\r\n                })\r\n            }))\r\n        }\r\n        return resultConfig\r\n    },\r\n    _applyButtonHandler: function() {\r\n        this.close();\r\n        this.option(\"focusStateEnabled\") && this.focus()\r\n    },\r\n    _cancelButtonHandler: function() {\r\n        this.close();\r\n        this.option(\"focusStateEnabled\") && this.focus()\r\n    },\r\n    _popupOptionChanged: function(args) {\r\n        var options = Widget.getOptionsFromContainer(args);\r\n        this._setPopupOption(options);\r\n        var optionsKeys = Object.keys(options);\r\n        if (-1 !== optionsKeys.indexOf(\"width\") || -1 !== optionsKeys.indexOf(\"height\")) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _renderSubmitElement: function() {\r\n        if (this.option(\"useHiddenSubmitElement\")) {\r\n            this._$submitElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this.$element())\r\n        }\r\n    },\r\n    _setSubmitValue: function() {\r\n        this._getSubmitElement().val(this.option(\"value\"))\r\n    },\r\n    _getSubmitElement: function() {\r\n        if (this.option(\"useHiddenSubmitElement\")) {\r\n            return this._$submitElement\r\n        } else {\r\n            return this.callBase()\r\n        }\r\n    },\r\n    _dispose: function() {\r\n        this._detachFocusOutEvents();\r\n        this.callBase()\r\n    },\r\n    _optionChanged: function(args) {\r\n        var _this$_popup;\r\n        switch (args.name) {\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                null === (_this$_popup = this._popup) || void 0 === _this$_popup ? void 0 : _this$_popup.repaint();\r\n                break;\r\n            case \"opened\":\r\n                this._renderOpenedState();\r\n                break;\r\n            case \"onOpened\":\r\n            case \"onClosed\":\r\n                this._initVisibilityActions();\r\n                break;\r\n            case \"onPopupInitialized\":\r\n                this._initPopupInitializedAction();\r\n                break;\r\n            case \"fieldTemplate\":\r\n                if (isDefined(args.value)) {\r\n                    this._renderField()\r\n                } else {\r\n                    this._invalidate()\r\n                }\r\n                break;\r\n            case \"acceptCustomValue\":\r\n            case \"openOnFieldClick\":\r\n                this._invalidate();\r\n                break;\r\n            case \"dropDownButtonTemplate\":\r\n            case \"showDropDownButton\":\r\n                this._updateButtons([\"dropDown\"]);\r\n                break;\r\n            case \"dropDownOptions\":\r\n                this._popupOptionChanged(args);\r\n                this._options.cache(\"dropDownOptions\", this.option(\"dropDownOptions\"));\r\n                break;\r\n            case \"popupPosition\":\r\n                break;\r\n            case \"deferRendering\":\r\n                if (hasWindow()) {\r\n                    this._createPopup()\r\n                }\r\n                break;\r\n            case \"applyValueMode\":\r\n            case \"applyButtonText\":\r\n            case \"cancelButtonText\":\r\n            case \"buttonsLocation\":\r\n                this._setPopupOption(\"toolbarItems\", this._getPopupToolbarItems());\r\n                break;\r\n            case \"useHiddenSubmitElement\":\r\n                if (this._$submitElement) {\r\n                    this._$submitElement.remove();\r\n                    this._$submitElement = void 0\r\n                }\r\n                this._renderSubmitElement();\r\n                break;\r\n            case \"rtlEnabled\":\r\n                this._updatePopupPosition(args.value);\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    open: function() {\r\n        this.option(\"opened\", true)\r\n    },\r\n    close: function() {\r\n        this.option(\"opened\", false)\r\n    },\r\n    field: function() {\r\n        return getPublicElement(this._input())\r\n    },\r\n    content: function() {\r\n        return this._popup ? this._popup.content() : null\r\n    }\r\n});\r\nregisterComponent(\"dxDropDownEditor\", DropDownEditor);\r\nexport default DropDownEditor;\r\n","/**\r\n * DevExtreme (esm/ui/drop_down_editor/utils.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nvar getElementWidth = function($element) {\r\n    if (hasWindow()) {\r\n        return getOuterWidth($element)\r\n    }\r\n};\r\nvar getSizeValue = function(size) {\r\n    if (null === size) {\r\n        size = void 0\r\n    }\r\n    if (\"function\" === typeof size) {\r\n        size = size()\r\n    }\r\n    return size\r\n};\r\nexport {\r\n    getElementWidth,\r\n    getSizeValue\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.items_runtime_info.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isString\r\n} from \"../../core/utils/type\";\r\nexport default class FormItemsRunTimeInfo {\r\n    constructor() {\r\n        this._map = {}\r\n    }\r\n    _findWidgetInstance(condition) {\r\n        var result;\r\n        each(this._map, (function(guid, _ref) {\r\n            var {\r\n                widgetInstance: widgetInstance,\r\n                item: item\r\n            } = _ref;\r\n            if (condition(item)) {\r\n                result = widgetInstance;\r\n                return false\r\n            }\r\n        }));\r\n        return result\r\n    }\r\n    _findFieldByCondition(callback, valueExpr) {\r\n        var result;\r\n        each(this._map, (function(key, value) {\r\n            if (callback(value)) {\r\n                result = \"guid\" === valueExpr ? key : value[valueExpr];\r\n                return false\r\n            }\r\n        }));\r\n        return result\r\n    }\r\n    clear() {\r\n        this._map = {}\r\n    }\r\n    removeItemsByItems(itemsRunTimeInfo) {\r\n        each(itemsRunTimeInfo.getItems(), guid => this.removeItemByKey(guid))\r\n    }\r\n    removeItemByKey(key) {\r\n        delete this._map[key]\r\n    }\r\n    add(options) {\r\n        var key = options.guid || new Guid;\r\n        this._map[key] = options;\r\n        return key\r\n    }\r\n    addItemsOrExtendFrom(itemsRunTimeInfo) {\r\n        itemsRunTimeInfo.each((key, itemRunTimeInfo) => {\r\n            if (this._map[key]) {\r\n                if (itemRunTimeInfo.widgetInstance) {\r\n                    this._map[key].widgetInstance = itemRunTimeInfo.widgetInstance\r\n                }\r\n                this._map[key].$itemContainer = itemRunTimeInfo.$itemContainer\r\n            } else {\r\n                this.add({\r\n                    item: itemRunTimeInfo.item,\r\n                    widgetInstance: itemRunTimeInfo.widgetInstance,\r\n                    guid: key,\r\n                    $itemContainer: itemRunTimeInfo.$itemContainer\r\n                })\r\n            }\r\n        })\r\n    }\r\n    extendRunTimeItemInfoByKey(key, options) {\r\n        if (this._map[key]) {\r\n            this._map[key] = extend(this._map[key], options)\r\n        }\r\n    }\r\n    findWidgetInstanceByItem(item) {\r\n        return this._findWidgetInstance(storedItem => storedItem === item)\r\n    }\r\n    findGroupOrTabLayoutManagerByPath(targetPath) {\r\n        return this._findFieldByCondition(_ref2 => {\r\n            var {\r\n                path: path\r\n            } = _ref2;\r\n            return path === targetPath\r\n        }, \"layoutManager\")\r\n    }\r\n    findKeyByPath(targetPath) {\r\n        return this._findFieldByCondition(_ref3 => {\r\n            var {\r\n                path: path\r\n            } = _ref3;\r\n            return path === targetPath\r\n        }, \"guid\")\r\n    }\r\n    findWidgetInstanceByName(name) {\r\n        return this._findWidgetInstance(item => name === item.name)\r\n    }\r\n    findWidgetInstanceByDataField(dataField) {\r\n        return this._findWidgetInstance(item => dataField === (isString(item) ? item : item.dataField))\r\n    }\r\n    findItemContainerByItem(item) {\r\n        for (var key in this._map) {\r\n            if (this._map[key].item === item) {\r\n                return this._map[key].$itemContainer\r\n            }\r\n        }\r\n        return null\r\n    }\r\n    findItemIndexByItem(targetItem) {\r\n        return this._findFieldByCondition(_ref4 => {\r\n            var {\r\n                item: item\r\n            } = _ref4;\r\n            return item === targetItem\r\n        }, \"itemIndex\")\r\n    }\r\n    findPreparedItemByItem(item) {\r\n        return this._findFieldByCondition(_ref5 => {\r\n            var {\r\n                item: currentItem\r\n            } = _ref5;\r\n            return currentItem === item\r\n        }, \"preparedItem\")\r\n    }\r\n    getItems() {\r\n        return this._map\r\n    }\r\n    each(handler) {\r\n        each(this._map, (function(key, itemRunTimeInfo) {\r\n            handler(key, itemRunTimeInfo)\r\n        }))\r\n    }\r\n    removeItemsByPathStartWith(path) {\r\n        var keys = Object.keys(this._map);\r\n        var filteredKeys = keys.filter(key => {\r\n            if (this._map[key].path) {\r\n                return this._map[key].path.indexOf(path, 0) > -1\r\n            }\r\n            return false\r\n        });\r\n        filteredKeys.forEach(key => this.removeItemByKey(key))\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/multi_view/ui.multi_view.animation.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport fx from \"../../animation/fx\";\r\nimport {\r\n    move\r\n} from \"../../animation/translator\";\r\nexport var _translator = {\r\n    move($element, position) {\r\n        move($element, {\r\n            left: position\r\n        })\r\n    }\r\n};\r\nexport var animation = {\r\n    moveTo($element, position, duration, completeAction) {\r\n        fx.animate($element, {\r\n            type: \"slide\",\r\n            to: {\r\n                left: position\r\n            },\r\n            duration: duration,\r\n            complete: completeAction\r\n        })\r\n    },\r\n    complete($element) {\r\n        fx.stop($element, true)\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/multi_view.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    locate\r\n} from \"../animation/translator\";\r\nimport {\r\n    _translator,\r\n    animation\r\n} from \"./multi_view/ui.multi_view.animation\";\r\nimport {\r\n    sign\r\n} from \"../core/utils/math\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    noop,\r\n    deferRender\r\n} from \"../core/utils/common\";\r\nimport {\r\n    triggerResizeEvent\r\n} from \"../events/visibility_change\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.live_update\";\r\nimport Swipeable from \"../events/gesture/swipeable\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nvar MULTIVIEW_CLASS = \"dx-multiview\";\r\nvar MULTIVIEW_WRAPPER_CLASS = \"dx-multiview-wrapper\";\r\nvar MULTIVIEW_ITEM_CONTAINER_CLASS = \"dx-multiview-item-container\";\r\nvar MULTIVIEW_ITEM_CLASS = \"dx-multiview-item\";\r\nvar MULTIVIEW_ITEM_HIDDEN_CLASS = \"dx-multiview-item-hidden\";\r\nvar MULTIVIEW_ITEM_DATA_KEY = \"dxMultiViewItemData\";\r\nvar MULTIVIEW_ANIMATION_DURATION = 200;\r\nvar toNumber = value => +value;\r\nvar position = $element => locate($element).left;\r\nvar MultiView = CollectionWidget.inherit({\r\n    _activeStateUnit: \".\" + MULTIVIEW_ITEM_CLASS,\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), {\r\n            pageUp: noop,\r\n            pageDown: noop\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            selectedIndex: 0,\r\n            swipeEnabled: true,\r\n            animationEnabled: true,\r\n            loop: false,\r\n            deferRendering: true,\r\n            _itemAttributes: {\r\n                role: \"tabpanel\"\r\n            },\r\n            loopItemFocus: false,\r\n            selectOnFocus: true,\r\n            selectionMode: \"single\",\r\n            selectionRequired: true,\r\n            selectionByClick: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _itemClass: function() {\r\n        return MULTIVIEW_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return MULTIVIEW_ITEM_DATA_KEY\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$itemContainer\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemContainer().children(this._itemSelector())\r\n    },\r\n    _itemWidth: function() {\r\n        if (!this._itemWidthValue) {\r\n            this._itemWidthValue = getWidth(this._$wrapper)\r\n        }\r\n        return this._itemWidthValue\r\n    },\r\n    _clearItemWidthCache: function() {\r\n        delete this._itemWidthValue\r\n    },\r\n    _itemsCount: function() {\r\n        return this.option(\"items\").length\r\n    },\r\n    _normalizeIndex: function(index) {\r\n        var count = this._itemsCount();\r\n        if (index < 0) {\r\n            index += count\r\n        }\r\n        if (index >= count) {\r\n            index -= count\r\n        }\r\n        return index\r\n    },\r\n    _getRTLSignCorrection: function() {\r\n        return this.option(\"rtlEnabled\") ? -1 : 1\r\n    },\r\n    _init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var $element = this.$element();\r\n        $element.addClass(MULTIVIEW_CLASS);\r\n        this._$wrapper = $(\"<div>\").addClass(MULTIVIEW_WRAPPER_CLASS);\r\n        this._$wrapper.appendTo($element);\r\n        this._$itemContainer = $(\"<div>\").addClass(MULTIVIEW_ITEM_CONTAINER_CLASS);\r\n        this._$itemContainer.appendTo(this._$wrapper);\r\n        this.option(\"loopItemFocus\", this.option(\"loop\"));\r\n        this._initSwipeable()\r\n    },\r\n    _initMarkup: function() {\r\n        this._deferredItems = [];\r\n        this.callBase();\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _afterItemElementDeleted: function($item, deletedActionArgs) {\r\n        this.callBase($item, deletedActionArgs);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(deletedActionArgs.itemIndex, 1)\r\n        }\r\n    },\r\n    _beforeItemElementInserted: function(change) {\r\n        this.callBase.apply(this, arguments);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(change.index, 0, null)\r\n        }\r\n    },\r\n    _executeItemRenderAction: function(index, itemData, itemElement) {\r\n        index = (this.option(\"items\") || []).indexOf(itemData);\r\n        this.callBase(index, itemData, itemElement)\r\n    },\r\n    _renderItemContent: function(args) {\r\n        var renderContentDeferred = new Deferred;\r\n        var that = this;\r\n        var callBase = this.callBase;\r\n        var deferred = new Deferred;\r\n        deferred.done((function() {\r\n            var $itemContent = callBase.call(that, args);\r\n            renderContentDeferred.resolve($itemContent)\r\n        }));\r\n        this._deferredItems[args.index] = deferred;\r\n        this.option(\"deferRendering\") || deferred.resolve();\r\n        return renderContentDeferred.promise()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        deferRender(() => {\r\n            var selectedItemIndices = this._getSelectedItemIndices();\r\n            this._updateItems(selectedItemIndices[0])\r\n        })\r\n    },\r\n    _updateItems: function(selectedIndex, newIndex) {\r\n        this._updateItemsPosition(selectedIndex, newIndex);\r\n        this._updateItemsVisibility(selectedIndex, newIndex)\r\n    },\r\n    _modifyByChanges: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _updateItemsPosition: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        var positionSign = isDefined(newIndex) ? -this._animationDirection(newIndex, selectedIndex) : void 0;\r\n        var $selectedItem = $itemElements.eq(selectedIndex);\r\n        _translator.move($selectedItem, 0);\r\n        if (isDefined(newIndex)) {\r\n            _translator.move($itemElements.eq(newIndex), 100 * positionSign + \"%\")\r\n        }\r\n    },\r\n    _updateItemsVisibility: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        $itemElements.each(function(itemIndex, item) {\r\n            var $item = $(item);\r\n            var isHidden = itemIndex !== selectedIndex && itemIndex !== newIndex;\r\n            if (!isHidden) {\r\n                this._renderSpecificItem(itemIndex)\r\n            }\r\n            $item.toggleClass(MULTIVIEW_ITEM_HIDDEN_CLASS, isHidden);\r\n            this.setAria(\"hidden\", isHidden || void 0, $item)\r\n        }.bind(this))\r\n    },\r\n    _renderSpecificItem: function(index) {\r\n        var $item = this._itemElements().eq(index);\r\n        var hasItemContent = $item.find(this._itemContentClass()).length > 0;\r\n        if (isDefined(index) && !hasItemContent) {\r\n            this._deferredItems[index].resolve();\r\n            triggerResizeEvent($item)\r\n        }\r\n    },\r\n    _refreshItem: function($item, item) {\r\n        this.callBase($item, item);\r\n        this._updateItemsVisibility(this.option(\"selectedIndex\"))\r\n    },\r\n    _setAriaSelected: noop,\r\n    _updateSelection: function(addedSelection, removedSelection) {\r\n        var newIndex = addedSelection[0];\r\n        var prevIndex = removedSelection[0];\r\n        animation.complete(this._$itemContainer);\r\n        this._updateItems(prevIndex, newIndex);\r\n        var animationDirection = this._animationDirection(newIndex, prevIndex);\r\n        this._animateItemContainer(animationDirection * this._itemWidth(), function() {\r\n            _translator.move(this._$itemContainer, 0);\r\n            this._updateItems(newIndex);\r\n            getWidth(this._$itemContainer)\r\n        }.bind(this))\r\n    },\r\n    _animateItemContainer: function(position, completeCallback) {\r\n        var duration = this.option(\"animationEnabled\") ? MULTIVIEW_ANIMATION_DURATION : 0;\r\n        animation.moveTo(this._$itemContainer, position, duration, completeCallback)\r\n    },\r\n    _animationDirection: function(newIndex, prevIndex) {\r\n        var containerPosition = position(this._$itemContainer);\r\n        var indexDifference = (prevIndex - newIndex) * this._getRTLSignCorrection() * this._getItemFocusLoopSignCorrection();\r\n        var isSwipePresent = 0 !== containerPosition;\r\n        var directionSignVariable = isSwipePresent ? containerPosition : indexDifference;\r\n        return sign(directionSignVariable)\r\n    },\r\n    _getSwipeDisabledState() {\r\n        return !this.option(\"swipeEnabled\") || this._itemsCount() <= 1\r\n    },\r\n    _initSwipeable() {\r\n        this._createComponent(this.$element(), Swipeable, {\r\n            disabled: this._getSwipeDisabledState(),\r\n            elastic: false,\r\n            itemSizeFunc: this._itemWidth.bind(this),\r\n            onStart: args => this._swipeStartHandler(args.event),\r\n            onUpdated: args => this._swipeUpdateHandler(args.event),\r\n            onEnd: args => this._swipeEndHandler(args.event)\r\n        })\r\n    },\r\n    _swipeStartHandler: function(e) {\r\n        animation.complete(this._$itemContainer);\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        var loop = this.option(\"loop\");\r\n        var lastIndex = this._itemsCount() - 1;\r\n        var rtl = this.option(\"rtlEnabled\");\r\n        e.maxLeftOffset = toNumber(loop || (rtl ? selectedIndex > 0 : selectedIndex < lastIndex));\r\n        e.maxRightOffset = toNumber(loop || (rtl ? selectedIndex < lastIndex : selectedIndex > 0));\r\n        this._swipeDirection = null\r\n    },\r\n    _swipeUpdateHandler: function(e) {\r\n        var offset = e.offset;\r\n        var swipeDirection = sign(offset) * this._getRTLSignCorrection();\r\n        _translator.move(this._$itemContainer, offset * this._itemWidth());\r\n        if (swipeDirection !== this._swipeDirection) {\r\n            this._swipeDirection = swipeDirection;\r\n            var selectedIndex = this.option(\"selectedIndex\");\r\n            var newIndex = this._normalizeIndex(selectedIndex - swipeDirection);\r\n            this._updateItems(selectedIndex, newIndex)\r\n        }\r\n    },\r\n    _swipeEndHandler: function(e) {\r\n        var targetOffset = e.targetOffset * this._getRTLSignCorrection();\r\n        if (targetOffset) {\r\n            this.option(\"selectedIndex\", this._normalizeIndex(this.option(\"selectedIndex\") - targetOffset));\r\n            var $selectedElement = this.itemElements().filter(\".dx-item-selected\");\r\n            this.option(\"focusStateEnabled\") && this.option(\"focusedElement\", getPublicElement($selectedElement))\r\n        } else {\r\n            this._animateItemContainer(0, noop)\r\n        }\r\n    },\r\n    _getItemFocusLoopSignCorrection: function() {\r\n        return this._itemFocusLooped ? -1 : 1\r\n    },\r\n    _moveFocus: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = false\r\n    },\r\n    _prevItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.last());\r\n        return $result\r\n    },\r\n    _nextItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.first());\r\n        return $result\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._clearItemWidthCache()\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _updateSwipeDisabledState() {\r\n        var disabled = this._getSwipeDisabledState();\r\n        Swipeable.getInstance(this.$element()).option(\"disabled\", disabled)\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        switch (args.name) {\r\n            case \"loop\":\r\n                this.option(\"loopItemFocus\", value);\r\n                break;\r\n            case \"animationEnabled\":\r\n                break;\r\n            case \"swipeEnabled\":\r\n                this._updateSwipeDisabledState();\r\n                break;\r\n            case \"deferRendering\":\r\n                this._invalidate();\r\n                break;\r\n            case \"items\":\r\n                this._updateSwipeDisabledState();\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxMultiView\", MultiView);\r\nexport default MultiView;\r\n","/**\r\n * DevExtreme (esm/ui/tabs/item.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport CollectionWidgetItem from \"../collection/item\";\r\nvar TABS_ITEM_BADGE_CLASS = \"dx-tabs-item-badge\";\r\nvar BADGE_CLASS = \"dx-badge\";\r\nvar TabsItem = CollectionWidgetItem.inherit({\r\n    _renderWatchers: function() {\r\n        this.callBase();\r\n        this._startWatcher(\"badge\", this._renderBadge.bind(this))\r\n    },\r\n    _renderBadge: function(badge) {\r\n        this._$element.children(\".\" + BADGE_CLASS).remove();\r\n        if (!badge) {\r\n            return\r\n        }\r\n        var $badge = $(\"<div>\").addClass(TABS_ITEM_BADGE_CLASS).addClass(BADGE_CLASS).text(badge);\r\n        this._$element.append($badge)\r\n    }\r\n});\r\nexport default TabsItem;\r\n","/**\r\n * DevExtreme (esm/ui/tabs/constants.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var TABS_EXPANDED_CLASS = \"dx-tabs-expanded\";\r\n","/**\r\n * DevExtreme (esm/renovation/ui/scroll_view/utils/get_scroll_left_max.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport function getScrollLeftMax(element) {\r\n    return element.scrollWidth - element.clientWidth\r\n}\r\n","/**\r\n * DevExtreme (esm/renovation/ui/scroll_view/utils/get_boundary_props.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getScrollLeftMax\r\n} from \"./get_scroll_left_max\";\r\nimport {\r\n    getScrollTopMax\r\n} from \"./get_scroll_top_max\";\r\nimport {\r\n    ScrollDirection\r\n} from \"./scroll_direction\";\r\nexport function isReachedLeft(scrollOffsetLeft, epsilon) {\r\n    return Math.round(scrollOffsetLeft) <= epsilon\r\n}\r\nexport function isReachedRight(element, scrollOffsetLeft, epsilon) {\r\n    return Math.round(getScrollLeftMax(element) - scrollOffsetLeft) <= epsilon\r\n}\r\nexport function isReachedTop(scrollOffsetTop, epsilon) {\r\n    return Math.round(scrollOffsetTop) <= epsilon\r\n}\r\nexport function isReachedBottom(element, scrollOffsetTop, pocketHeight, epsilon) {\r\n    return Math.round(getScrollTopMax(element) - scrollOffsetTop - pocketHeight) <= epsilon\r\n}\r\nexport function getBoundaryProps(direction, scrollOffset, element) {\r\n    var pocketHeight = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;\r\n    var {\r\n        left: left,\r\n        top: top\r\n    } = scrollOffset;\r\n    var boundaryProps = {};\r\n    var {\r\n        isHorizontal: isHorizontal,\r\n        isVertical: isVertical\r\n    } = new ScrollDirection(direction);\r\n    if (isHorizontal) {\r\n        boundaryProps.reachedLeft = isReachedLeft(left, 0);\r\n        boundaryProps.reachedRight = isReachedRight(element, left, 0)\r\n    }\r\n    if (isVertical) {\r\n        boundaryProps.reachedTop = isReachedTop(top, 0);\r\n        boundaryProps.reachedBottom = isReachedBottom(element, top, pocketHeight, 0)\r\n    }\r\n    return boundaryProps\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/tabs.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport Button from \"./button\";\r\nimport {\r\n    render\r\n} from \"./widget/utils.ink_ripple\";\r\nimport {\r\n    addNamespace\r\n} from \"../events/utils/index\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    isPlainObject\r\n} from \"../core/utils/type\";\r\nimport pointerEvents from \"../events/pointer\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport TabsItem from \"./tabs/item\";\r\nimport {\r\n    TABS_EXPANDED_CLASS\r\n} from \"./tabs/constants\";\r\nimport {\r\n    isMaterial,\r\n    current as currentTheme\r\n} from \"./themes\";\r\nimport holdEvent from \"../events/hold\";\r\nimport Scrollable from \"./scroll_view/ui.scrollable\";\r\nimport {\r\n    default as CollectionWidget\r\n} from \"./collection/ui.collection_widget.live_update\";\r\nimport {\r\n    getImageContainer\r\n} from \"../core/utils/icon\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../core/templates/bindable_template\";\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    isReachedLeft,\r\n    isReachedRight\r\n} from \"../renovation/ui/scroll_view/utils/get_boundary_props\";\r\nimport {\r\n    getScrollLeftMax\r\n} from \"../renovation/ui/scroll_view/utils/get_scroll_left_max\";\r\nvar TABS_CLASS = \"dx-tabs\";\r\nvar TABS_WRAPPER_CLASS = \"dx-tabs-wrapper\";\r\nvar TABS_STRETCHED_CLASS = \"dx-tabs-stretched\";\r\nvar TABS_SCROLLABLE_CLASS = \"dx-tabs-scrollable\";\r\nvar TABS_NAV_BUTTONS_CLASS = \"dx-tabs-nav-buttons\";\r\nvar OVERFLOW_HIDDEN_CLASS = \"dx-overflow-hidden\";\r\nvar TABS_ITEM_CLASS = \"dx-tab\";\r\nvar TABS_ITEM_SELECTED_CLASS = \"dx-tab-selected\";\r\nvar TABS_NAV_BUTTON_CLASS = \"dx-tabs-nav-button\";\r\nvar TABS_LEFT_NAV_BUTTON_CLASS = \"dx-tabs-nav-button-left\";\r\nvar TABS_RIGHT_NAV_BUTTON_CLASS = \"dx-tabs-nav-button-right\";\r\nvar TABS_ITEM_TEXT_CLASS = \"dx-tab-text\";\r\nvar TABS_ITEM_DATA_KEY = \"dxTabData\";\r\nvar BUTTON_NEXT_ICON = \"chevronnext\";\r\nvar BUTTON_PREV_ICON = \"chevronprev\";\r\nvar FEEDBACK_HIDE_TIMEOUT = 100;\r\nvar FEEDBACK_DURATION_INTERVAL = 5;\r\nvar FEEDBACK_SCROLL_TIMEOUT = 300;\r\nvar TAB_OFFSET = 30;\r\nvar Tabs = CollectionWidget.inherit({\r\n    _activeStateUnit: \".\" + TABS_ITEM_CLASS,\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            showNavButtons: true,\r\n            scrollByContent: true,\r\n            scrollingEnabled: true,\r\n            selectionMode: \"single\",\r\n            activeStateEnabled: true,\r\n            selectionRequired: false,\r\n            selectOnFocus: true,\r\n            loopItemFocus: false,\r\n            useInkRipple: false,\r\n            badgeExpr: function(data) {\r\n                return data ? data.badge : void 0\r\n            },\r\n            _itemAttributes: {\r\n                role: \"tab\"\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = currentTheme();\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" !== devices.real().deviceType\r\n            },\r\n            options: {\r\n                showNavButtons: false\r\n            }\r\n        }, {\r\n            device: {\r\n                deviceType: \"desktop\"\r\n            },\r\n            options: {\r\n                scrollByContent: false\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial(themeName)\r\n            },\r\n            options: {\r\n                useInkRipple: true,\r\n                selectOnFocus: false\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.setAria(\"role\", \"tablist\");\r\n        this.$element().addClass(TABS_CLASS);\r\n        this._renderWrapper();\r\n        this._renderMultiple();\r\n        this._feedbackHideTimeout = FEEDBACK_HIDE_TIMEOUT\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new BindableTemplate(function($container, data) {\r\n                if (isPlainObject(data)) {\r\n                    this._prepareDefaultItemTemplate(data, $container)\r\n                } else {\r\n                    $container.text(String(data))\r\n                }\r\n                var $iconElement = getImageContainer(data.icon);\r\n                $iconElement && $iconElement.prependTo($container);\r\n                $container.wrapInner($(\"<span>\").addClass(TABS_ITEM_TEXT_CLASS))\r\n            }.bind(this), [\"text\", \"html\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\r\n        })\r\n    },\r\n    _createItemByTemplate: function(itemTemplate, renderArgs) {\r\n        var {\r\n            itemData: itemData,\r\n            container: container,\r\n            index: index\r\n        } = renderArgs;\r\n        this._deferredTemplates[index] = new Deferred;\r\n        return itemTemplate.render({\r\n            model: itemData,\r\n            container: container,\r\n            index: index,\r\n            onRendered: () => this._deferredTemplates[index].resolve()\r\n        })\r\n    },\r\n    _itemClass: function() {\r\n        return TABS_ITEM_CLASS\r\n    },\r\n    _selectedItemClass: function() {\r\n        return TABS_ITEM_SELECTED_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return TABS_ITEM_DATA_KEY\r\n    },\r\n    _initMarkup: function() {\r\n        this._deferredTemplates = [];\r\n        this.callBase();\r\n        this.option(\"useInkRipple\") && this._renderInkRipple();\r\n        this.$element().addClass(OVERFLOW_HIDDEN_CLASS)\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._deferRenderScrolling()\r\n    },\r\n    _deferRenderScrolling() {\r\n        when.apply(this, this._deferredTemplates).done(() => this._renderScrolling())\r\n    },\r\n    _renderScrolling: function() {\r\n        var removeClasses = [TABS_STRETCHED_CLASS, TABS_EXPANDED_CLASS, OVERFLOW_HIDDEN_CLASS];\r\n        this.$element().removeClass(removeClasses.join(\" \"));\r\n        if (this.option(\"scrollingEnabled\") && this._isItemsWidthExceeded()) {\r\n            if (!this._scrollable) {\r\n                this._renderScrollable();\r\n                this._renderNavButtons()\r\n            }\r\n            var scrollable = this.getScrollable();\r\n            scrollable.update();\r\n            if (this.option(\"rtlEnabled\")) {\r\n                var maxLeftOffset = getScrollLeftMax($(this.getScrollable().container()).get(0));\r\n                scrollable.scrollTo({\r\n                    left: maxLeftOffset\r\n                })\r\n            }\r\n            this._updateNavButtonsVisibility();\r\n            this._scrollToItem(this.option(\"selectedItem\"))\r\n        }\r\n        if (!(this.option(\"scrollingEnabled\") && this._isItemsWidthExceeded())) {\r\n            this._cleanScrolling();\r\n            if (this._needStretchItems() && !this._isItemsWidthExceeded()) {\r\n                this.$element().addClass(TABS_STRETCHED_CLASS)\r\n            }\r\n            this.$element().removeClass(TABS_NAV_BUTTONS_CLASS).addClass(TABS_EXPANDED_CLASS)\r\n        }\r\n    },\r\n    _isItemsWidthExceeded: function() {\r\n        var tabItemsWidth = this._getSummaryItemsWidth(this._getVisibleItems(), true);\r\n        return tabItemsWidth - 1 > getWidth(this.$element())\r\n    },\r\n    _needStretchItems: function() {\r\n        var $visibleItems = this._getVisibleItems();\r\n        var elementWidth = getWidth(this.$element());\r\n        var itemsWidth = [];\r\n        each($visibleItems, (_, item) => {\r\n            itemsWidth.push(getOuterWidth(item, true))\r\n        });\r\n        var maxTabWidth = Math.max.apply(null, itemsWidth);\r\n        return maxTabWidth > elementWidth / $visibleItems.length\r\n    },\r\n    _cleanNavButtons: function() {\r\n        if (!this._leftButton || !this._rightButton) {\r\n            return\r\n        }\r\n        this._leftButton.$element().remove();\r\n        this._rightButton.$element().remove();\r\n        this._leftButton = null;\r\n        this._rightButton = null\r\n    },\r\n    _cleanScrolling: function() {\r\n        if (!this._scrollable) {\r\n            return\r\n        }\r\n        this._$wrapper.appendTo(this.$element());\r\n        this._scrollable.$element().remove();\r\n        this._scrollable = null;\r\n        this._cleanNavButtons()\r\n    },\r\n    _renderInkRipple: function() {\r\n        this._inkRipple = render()\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this.callBase.apply(this, arguments);\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: $element,\r\n            event: e\r\n        };\r\n        if (value) {\r\n            this._inkRipple.showWave(config)\r\n        } else {\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    },\r\n    _renderMultiple: function() {\r\n        if (\"multiple\" === this.option(\"selectionMode\")) {\r\n            this.option(\"selectOnFocus\", false)\r\n        }\r\n    },\r\n    _renderWrapper: function() {\r\n        this._$wrapper = $(\"<div>\").addClass(TABS_WRAPPER_CLASS);\r\n        this.$element().append(this._$wrapper)\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$wrapper\r\n    },\r\n    _renderScrollable: function() {\r\n        var $itemContainer = this.$element().wrapInner($(\"<div>\").addClass(TABS_SCROLLABLE_CLASS)).children();\r\n        this._scrollable = this._createComponent($itemContainer, Scrollable, {\r\n            direction: \"horizontal\",\r\n            showScrollbar: \"never\",\r\n            useKeyboard: false,\r\n            useNative: false,\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            onScroll: () => {\r\n                this._updateNavButtonsVisibility()\r\n            }\r\n        });\r\n        this.$element().append(this._scrollable.$element())\r\n    },\r\n    _scrollToItem: function(itemData) {\r\n        if (!this._scrollable) {\r\n            return\r\n        }\r\n        var $item = this._editStrategy.getItemElement(itemData);\r\n        this._scrollable.scrollToElement($item)\r\n    },\r\n    _renderNavButtons: function() {\r\n        this.$element().toggleClass(TABS_NAV_BUTTONS_CLASS, this.option(\"showNavButtons\"));\r\n        if (!this.option(\"showNavButtons\")) {\r\n            return\r\n        }\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        this._leftButton = this._createNavButton(-TAB_OFFSET, rtlEnabled ? BUTTON_NEXT_ICON : BUTTON_PREV_ICON);\r\n        var $leftButton = this._leftButton.$element();\r\n        $leftButton.addClass(TABS_LEFT_NAV_BUTTON_CLASS);\r\n        this.$element().prepend($leftButton);\r\n        this._rightButton = this._createNavButton(TAB_OFFSET, rtlEnabled ? BUTTON_PREV_ICON : BUTTON_NEXT_ICON);\r\n        var $rightButton = this._rightButton.$element();\r\n        $rightButton.addClass(TABS_RIGHT_NAV_BUTTON_CLASS);\r\n        this.$element().append($rightButton)\r\n    },\r\n    _updateNavButtonsVisibility: function() {\r\n        var scrollable = this.getScrollable();\r\n        this._leftButton && this._leftButton.option(\"disabled\", isReachedLeft(scrollable.scrollLeft(), 1));\r\n        this._rightButton && this._rightButton.option(\"disabled\", isReachedRight($(scrollable.container()).get(0), scrollable.scrollLeft(), 1))\r\n    },\r\n    _updateScrollPosition: function(offset, duration) {\r\n        this._scrollable.update();\r\n        this._scrollable.scrollBy(offset / duration)\r\n    },\r\n    _createNavButton: function(offset, icon) {\r\n        var that = this;\r\n        var holdAction = that._createAction((function() {\r\n            that._holdInterval = setInterval((function() {\r\n                that._updateScrollPosition(offset, FEEDBACK_DURATION_INTERVAL)\r\n            }), FEEDBACK_DURATION_INTERVAL)\r\n        }));\r\n        var holdEventName = addNamespace(holdEvent.name, \"dxNavButton\");\r\n        var pointerUpEventName = addNamespace(pointerEvents.up, \"dxNavButton\");\r\n        var pointerOutEventName = addNamespace(pointerEvents.out, \"dxNavButton\");\r\n        var navButton = this._createComponent($(\"<div>\").addClass(TABS_NAV_BUTTON_CLASS), Button, {\r\n            focusStateEnabled: false,\r\n            icon: icon,\r\n            onClick: function() {\r\n                that._updateScrollPosition(offset, 1)\r\n            },\r\n            integrationOptions: {}\r\n        });\r\n        var $navButton = navButton.$element();\r\n        eventsEngine.on($navButton, holdEventName, {\r\n            timeout: FEEDBACK_SCROLL_TIMEOUT\r\n        }, function(e) {\r\n            holdAction({\r\n                event: e\r\n            })\r\n        }.bind(this));\r\n        eventsEngine.on($navButton, pointerUpEventName, (function() {\r\n            that._clearInterval()\r\n        }));\r\n        eventsEngine.on($navButton, pointerOutEventName, (function() {\r\n            that._clearInterval()\r\n        }));\r\n        return navButton\r\n    },\r\n    _clearInterval: function() {\r\n        if (this._holdInterval) {\r\n            clearInterval(this._holdInterval)\r\n        }\r\n    },\r\n    _updateSelection: function(addedSelection) {\r\n        this._scrollable && this._scrollable.scrollToElement(this.itemElements().eq(addedSelection[0]), {\r\n            left: 1,\r\n            right: 1\r\n        })\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._renderScrolling()\r\n    },\r\n    _itemSelectHandler: function(e) {\r\n        if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _clean: function() {\r\n        this._deferredTemplates = [];\r\n        this._cleanScrolling();\r\n        this.callBase()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"useInkRipple\":\r\n            case \"scrollingEnabled\":\r\n            case \"showNavButtons\":\r\n                this._invalidate();\r\n                break;\r\n            case \"scrollByContent\":\r\n                this._scrollable && this._scrollable.option(args.name, args.value);\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._dimensionChanged();\r\n                break;\r\n            case \"selectionMode\":\r\n                this._renderMultiple();\r\n                this.callBase(args);\r\n                break;\r\n            case \"badgeExpr\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _afterItemElementInserted() {\r\n        this.callBase();\r\n        this._deferRenderScrolling()\r\n    },\r\n    _afterItemElementDeleted($item, deletedActionArgs) {\r\n        this.callBase($item, deletedActionArgs);\r\n        this._renderScrolling()\r\n    },\r\n    getScrollable() {\r\n        return this._scrollable\r\n    }\r\n});\r\nTabs.ItemClass = TabsItem;\r\nregisterComponent(\"dxTabs\", Tabs);\r\nexport default Tabs;\r\n","/**\r\n * DevExtreme (esm/ui/tab_panel/item.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport CollectionWidgetItem from \"../collection/item\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nexport default class TabPanelItem extends CollectionWidgetItem {\r\n    _renderWatchers() {\r\n        this._startWatcher(\"badge\", noop);\r\n        return super._renderWatchers()\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/tab_panel.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterHeight\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    touch\r\n} from \"../core/utils/support\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport devices from \"../core/devices\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport MultiView from \"./multi_view\";\r\nimport Tabs from \"./tabs\";\r\nimport {\r\n    default as TabPanelItem\r\n} from \"./tab_panel/item\";\r\nimport {\r\n    getImageContainer\r\n} from \"../core/utils/icon\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    isPlainObject,\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../core/templates/bindable_template\";\r\nimport {\r\n    hasWindow\r\n} from \"../core/utils/window\";\r\nvar TABPANEL_CLASS = \"dx-tabpanel\";\r\nvar TABPANEL_TABS_CLASS = \"dx-tabpanel-tabs\";\r\nvar TABPANEL_CONTAINER_CLASS = \"dx-tabpanel-container\";\r\nvar TABS_ITEM_TEXT_CLASS = \"dx-tab-text\";\r\nvar TabPanel = MultiView.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            itemTitleTemplate: \"title\",\r\n            hoverStateEnabled: true,\r\n            showNavButtons: false,\r\n            scrollByContent: true,\r\n            scrollingEnabled: true,\r\n            onTitleClick: null,\r\n            onTitleHold: null,\r\n            onTitleRendered: null,\r\n            badgeExpr: function(data) {\r\n                return data ? data.badge : void 0\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return !touch\r\n            },\r\n            options: {\r\n                swipeEnabled: false\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                animationEnabled: false\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(TABPANEL_CLASS);\r\n        this.setAria(\"role\", \"tabpanel\")\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._createTitleActions();\r\n        this._renderLayout()\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            title: new BindableTemplate((function($container, data) {\r\n                if (isPlainObject(data)) {\r\n                    var $iconElement = getImageContainer(data.icon);\r\n                    if ($iconElement) {\r\n                        $container.append($iconElement)\r\n                    }\r\n                    if (isDefined(data.title) && !isPlainObject(data.title)) {\r\n                        $container.append(domAdapter.createTextNode(data.title))\r\n                    }\r\n                } else if (isDefined(data)) {\r\n                    $container.text(String(data))\r\n                }\r\n                $container.wrapInner($(\"<span>\").addClass(TABS_ITEM_TEXT_CLASS))\r\n            }), [\"title\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\r\n        })\r\n    },\r\n    _createTitleActions: function() {\r\n        this._createTitleClickAction();\r\n        this._createTitleHoldAction();\r\n        this._createTitleRenderedAction()\r\n    },\r\n    _createTitleClickAction: function() {\r\n        this._titleClickAction = this._createActionByOption(\"onTitleClick\")\r\n    },\r\n    _createTitleHoldAction: function() {\r\n        this._titleHoldAction = this._createActionByOption(\"onTitleHold\")\r\n    },\r\n    _createTitleRenderedAction: function() {\r\n        this._titleRenderedAction = this._createActionByOption(\"onTitleRendered\")\r\n    },\r\n    _renderContent: function() {\r\n        var that = this;\r\n        this.callBase();\r\n        if (this.option(\"templatesRenderAsynchronously\")) {\r\n            this._resizeEventTimer = setTimeout((function() {\r\n                that._updateLayout()\r\n            }), 0)\r\n        }\r\n    },\r\n    _renderLayout: function() {\r\n        if (this._tabs) {\r\n            this._updateLayout();\r\n            return\r\n        }\r\n        var $element = this.$element();\r\n        this._$tabContainer = $(\"<div>\").addClass(TABPANEL_TABS_CLASS).appendTo($element);\r\n        var $tabs = $(\"<div>\").appendTo(this._$tabContainer);\r\n        this._tabs = this._createComponent($tabs, Tabs, this._tabConfig());\r\n        this._$container = $(\"<div>\").addClass(TABPANEL_CONTAINER_CLASS).appendTo($element);\r\n        this._$container.append(this._$wrapper);\r\n        this._updateLayout()\r\n    },\r\n    _updateLayout: function() {\r\n        if (hasWindow()) {\r\n            var tabsHeight = getOuterHeight(this._$tabContainer);\r\n            this._$container.css({\r\n                marginTop: -tabsHeight,\r\n                paddingTop: tabsHeight\r\n            })\r\n        }\r\n    },\r\n    _refreshActiveDescendant: function() {\r\n        if (!this._tabs) {\r\n            return\r\n        }\r\n        var tabs = this._tabs;\r\n        var tabItems = tabs.itemElements();\r\n        var $activeTab = $(tabItems[tabs.option(\"selectedIndex\")]);\r\n        var id = this.getFocusedItemId();\r\n        this.setAria(\"controls\", void 0, $(tabItems));\r\n        this.setAria(\"controls\", id, $activeTab)\r\n    },\r\n    _tabConfig: function() {\r\n        return {\r\n            selectOnFocus: true,\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            repaintChangesOnly: this.option(\"repaintChangesOnly\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            selectedIndex: this.option(\"selectedIndex\"),\r\n            badgeExpr: this.option(\"badgeExpr\"),\r\n            onItemClick: this._titleClickAction.bind(this),\r\n            onItemHold: this._titleHoldAction.bind(this),\r\n            itemHoldTimeout: this.option(\"itemHoldTimeout\"),\r\n            onSelectionChanged: function(e) {\r\n                this.option(\"selectedIndex\", e.component.option(\"selectedIndex\"));\r\n                this._refreshActiveDescendant()\r\n            }.bind(this),\r\n            onItemRendered: this._titleRenderedAction.bind(this),\r\n            itemTemplate: this._getTemplateByOption(\"itemTitleTemplate\"),\r\n            items: this.option(\"items\"),\r\n            noDataText: null,\r\n            scrollingEnabled: this.option(\"scrollingEnabled\"),\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            showNavButtons: this.option(\"showNavButtons\"),\r\n            itemTemplateProperty: \"tabTemplate\",\r\n            loopItemFocus: this.option(\"loop\"),\r\n            selectionRequired: true,\r\n            onOptionChanged: function(args) {\r\n                if (\"focusedElement\" === args.name) {\r\n                    if (args.value) {\r\n                        var $value = $(args.value);\r\n                        var $newItem = this._itemElements().eq($value.index());\r\n                        this.option(\"focusedElement\", getPublicElement($newItem))\r\n                    } else {\r\n                        this.option(\"focusedElement\", args.value)\r\n                    }\r\n                }\r\n            }.bind(this),\r\n            onFocusIn: function(args) {\r\n                this._focusInHandler(args.event)\r\n            }.bind(this),\r\n            onFocusOut: function(args) {\r\n                if (!this._isFocusOutHandlerExecuting) {\r\n                    this._focusOutHandler(args.event)\r\n                }\r\n            }.bind(this)\r\n        }\r\n    },\r\n    _renderFocusTarget: function() {\r\n        this._focusTarget().attr(\"tabIndex\", -1)\r\n    },\r\n    _updateFocusState: function(e, isFocused) {\r\n        this.callBase(e, isFocused);\r\n        if (e.target === this._tabs._focusTarget().get(0)) {\r\n            this._toggleFocusClass(isFocused, this._focusTarget())\r\n        }\r\n    },\r\n    _focusOutHandler: function(e) {\r\n        this._isFocusOutHandlerExecuting = true;\r\n        this.callBase.apply(this, arguments);\r\n        this._tabs._focusOutHandler(e);\r\n        this._isFocusOutHandlerExecuting = false\r\n    },\r\n    _setTabsOption: function(name, value) {\r\n        if (this._tabs) {\r\n            this._tabs.option(name, value)\r\n        }\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._tabs._dimensionChanged();\r\n            this._updateLayout()\r\n        }\r\n    },\r\n    registerKeyHandler: function(key, handler) {\r\n        this.callBase(key, handler);\r\n        if (this._tabs) {\r\n            this._tabs.registerKeyHandler(key, handler)\r\n        }\r\n    },\r\n    repaint: function() {\r\n        this.callBase();\r\n        this._tabs.repaint()\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        var value = args.value;\r\n        var fullName = args.fullName;\r\n        switch (name) {\r\n            case \"dataSource\":\r\n                this.callBase(args);\r\n                break;\r\n            case \"items\":\r\n                this._setTabsOption(name, this.option(name));\r\n                this._updateLayout();\r\n                if (!this.option(\"repaintChangesOnly\")) {\r\n                    this._tabs.repaint()\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._tabs.repaint();\r\n                break;\r\n            case \"selectedIndex\":\r\n            case \"selectedItem\":\r\n                this._setTabsOption(fullName, value);\r\n                this.callBase(args);\r\n                if (true === this.option(\"focusStateEnabled\")) {\r\n                    var selectedIndex = this.option(\"selectedIndex\");\r\n                    var selectedTabContent = this._itemElements().eq(selectedIndex);\r\n                    this.option(\"focusedElement\", getPublicElement(selectedTabContent))\r\n                }\r\n                break;\r\n            case \"itemHoldTimeout\":\r\n            case \"focusStateEnabled\":\r\n            case \"hoverStateEnabled\":\r\n                this._setTabsOption(fullName, value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"scrollingEnabled\":\r\n            case \"scrollByContent\":\r\n            case \"showNavButtons\":\r\n                this._setTabsOption(fullName, value);\r\n                break;\r\n            case \"focusedElement\":\r\n                var id = value ? $(value).index() : value;\r\n                var newItem = value ? this._tabs._itemElements().eq(id) : value;\r\n                this._setTabsOption(\"focusedElement\", getPublicElement(newItem));\r\n                this.callBase(args);\r\n                break;\r\n            case \"itemTitleTemplate\":\r\n                this._setTabsOption(\"itemTemplate\", this._getTemplateByOption(\"itemTitleTemplate\"));\r\n                break;\r\n            case \"onTitleClick\":\r\n                this._createTitleClickAction();\r\n                this._setTabsOption(\"onItemClick\", this._titleClickAction.bind(this));\r\n                break;\r\n            case \"onTitleHold\":\r\n                this._createTitleHoldAction();\r\n                this._setTabsOption(\"onItemHold\", this._titleHoldAction.bind(this));\r\n                break;\r\n            case \"onTitleRendered\":\r\n                this._createTitleRenderedAction();\r\n                this._setTabsOption(\"onItemRendered\", this._titleRenderedAction.bind(this));\r\n                break;\r\n            case \"loop\":\r\n                this._setTabsOption(\"loopItemFocus\", value);\r\n                break;\r\n            case \"badgeExpr\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _clean: function() {\r\n        clearTimeout(this._resizeEventTimer);\r\n        this.callBase()\r\n    }\r\n});\r\nTabPanel.ItemClass = TabPanelItem;\r\nregisterComponent(\"dxTabPanel\", TabPanel);\r\nexport default TabPanel;\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.item_option_action.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nexport default class ItemOptionAction {\r\n    constructor(options) {\r\n        this._options = options;\r\n        this._itemsRunTimeInfo = this._options.itemsRunTimeInfo\r\n    }\r\n    findInstance() {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)\r\n    }\r\n    findItemContainer() {\r\n        return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)\r\n    }\r\n    findPreparedItem() {\r\n        return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)\r\n    }\r\n    tryExecute() {\r\n        Class.abstract()\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.utils.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nexport var createItemPathByIndex = (index, isTabs) => \"\".concat(isTabs ? \"tabs\" : \"items\", \"[\").concat(index, \"]\");\r\nexport var concatPaths = (path1, path2) => {\r\n    if (isDefined(path1) && isDefined(path2)) {\r\n        return \"\".concat(path1, \".\").concat(path2)\r\n    }\r\n    return path1 || path2\r\n};\r\nexport var getTextWithoutSpaces = text => text ? text.replace(/\\s/g, \"\") : void 0;\r\nexport var isEqualToDataFieldOrNameOrTitleOrCaption = (item, fieldName) => {\r\n    if (item) {\r\n        return item.dataField === fieldName || item.name === fieldName || getTextWithoutSpaces(item.title) === fieldName || \"group\" === item.itemType && getTextWithoutSpaces(item.caption) === fieldName\r\n    }\r\n    return false\r\n};\r\nexport var getFullOptionName = (path, optionName) => \"\".concat(path, \".\").concat(optionName);\r\nexport var getOptionNameFromFullName = fullName => {\r\n    var parts = fullName.split(\".\");\r\n    return parts[parts.length - 1].replace(/\\[\\d+]/, \"\")\r\n};\r\nexport var tryGetTabPath = fullPath => {\r\n    var pathParts = fullPath.split(\".\");\r\n    var resultPathParts = [...pathParts];\r\n    for (var i = pathParts.length - 1; i >= 0; i--) {\r\n        if (isFullPathContainsTabs(pathParts[i])) {\r\n            return resultPathParts.join(\".\")\r\n        }\r\n        resultPathParts.splice(i, 1)\r\n    }\r\n    return \"\"\r\n};\r\nexport var isFullPathContainsTabs = fullPath => fullPath.indexOf(\"tabs\") > -1;\r\nexport var getItemPath = (items, item, isTabs) => {\r\n    var index = items.indexOf(item);\r\n    if (index > -1) {\r\n        return createItemPathByIndex(index, isTabs)\r\n    }\r\n    for (var i = 0; i < items.length; i++) {\r\n        var targetItem = items[i];\r\n        var tabOrGroupItems = targetItem.tabs || targetItem.items;\r\n        if (tabOrGroupItems) {\r\n            var itemPath = getItemPath(tabOrGroupItems, item, targetItem.tabs);\r\n            if (itemPath) {\r\n                return concatPaths(createItemPathByIndex(i, isTabs), itemPath)\r\n            }\r\n        }\r\n    }\r\n};\r\nexport function convertToLayoutManagerOptions(_ref) {\r\n    var {\r\n        form: form,\r\n        $formElement: $formElement,\r\n        formOptions: formOptions,\r\n        items: items,\r\n        validationGroup: validationGroup,\r\n        extendedLayoutManagerOptions: extendedLayoutManagerOptions,\r\n        onFieldDataChanged: onFieldDataChanged,\r\n        onContentReady: onContentReady,\r\n        onDisposing: onDisposing,\r\n        onFieldItemRendered: onFieldItemRendered\r\n    } = _ref;\r\n    var baseOptions = {\r\n        form: form,\r\n        items: items,\r\n        $formElement: $formElement,\r\n        validationGroup: validationGroup,\r\n        onFieldDataChanged: onFieldDataChanged,\r\n        onContentReady: onContentReady,\r\n        onDisposing: onDisposing,\r\n        onFieldItemRendered: onFieldItemRendered,\r\n        validationBoundary: formOptions.scrollingEnabled ? $formElement : void 0,\r\n        scrollingEnabled: formOptions.scrollingEnabled,\r\n        showRequiredMark: formOptions.showRequiredMark,\r\n        showOptionalMark: formOptions.showOptionalMark,\r\n        requiredMark: formOptions.requiredMark,\r\n        optionalMark: formOptions.optionalMark,\r\n        requiredMessage: formOptions.requiredMessage,\r\n        screenByWidth: formOptions.screenByWidth,\r\n        layoutData: formOptions.formData,\r\n        labelLocation: formOptions.labelLocation,\r\n        customizeItem: formOptions.customizeItem,\r\n        minColWidth: formOptions.minColWidth,\r\n        showColonAfterLabel: formOptions.showColonAfterLabel,\r\n        onEditorEnterKey: formOptions.onEditorEnterKey,\r\n        labelMode: formOptions.labelMode\r\n    };\r\n    var result = extend(baseOptions, {\r\n        isRoot: extendedLayoutManagerOptions.isRoot,\r\n        colCount: extendedLayoutManagerOptions.colCount,\r\n        alignItemLabels: extendedLayoutManagerOptions.alignItemLabels,\r\n        cssItemClass: extendedLayoutManagerOptions.cssItemClass,\r\n        colCountByScreen: extendedLayoutManagerOptions.colCountByScreen,\r\n        onLayoutChanged: extendedLayoutManagerOptions.onLayoutChanged,\r\n        width: extendedLayoutManagerOptions.width\r\n    });\r\n    return result\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.item_options_actions.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport ItemOptionAction from \"./ui.form.item_option_action\";\r\nimport {\r\n    data\r\n} from \"../../core/element_data\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getFullOptionName\r\n} from \"./ui.form.utils\";\r\nclass WidgetOptionItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var {\r\n            value: value\r\n        } = this._options;\r\n        var instance = this.findInstance();\r\n        if (instance) {\r\n            instance.option(value);\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass TabOptionItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var tabPanel = this.findInstance();\r\n        if (tabPanel) {\r\n            var {\r\n                optionName: optionName,\r\n                item: item,\r\n                value: value\r\n            } = this._options;\r\n            var itemIndex = this._itemsRunTimeInfo.findItemIndexByItem(item);\r\n            if (itemIndex >= 0) {\r\n                tabPanel.option(getFullOptionName(\"items[\".concat(itemIndex, \"]\"), optionName), value);\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass GroupItemTemplateChangedAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var preparedItem = this.findPreparedItem();\r\n        if (null != preparedItem && preparedItem._prepareGroupItemTemplate && preparedItem._renderGroupContentTemplate) {\r\n            preparedItem._prepareGroupItemTemplate(this._options.item.template);\r\n            preparedItem._renderGroupContentTemplate();\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass TabsOptionItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var tabPanel = this.findInstance();\r\n        if (tabPanel) {\r\n            var {\r\n                value: value\r\n            } = this._options;\r\n            tabPanel.option(\"dataSource\", value);\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass ValidationRulesItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var {\r\n            item: item\r\n        } = this._options;\r\n        var instance = this.findInstance();\r\n        var validator = instance && data(instance.$element()[0], \"dxValidator\");\r\n        if (validator && item) {\r\n            var filterRequired = item => \"required\" === item.type;\r\n            var oldContainsRequired = (validator.option(\"validationRules\") || []).some(filterRequired);\r\n            var newContainsRequired = (item.validationRules || []).some(filterRequired);\r\n            if (!oldContainsRequired && !newContainsRequired || oldContainsRequired && newContainsRequired) {\r\n                validator.option(\"validationRules\", item.validationRules);\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass CssClassItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var $itemContainer = this.findItemContainer();\r\n        var {\r\n            previousValue: previousValue,\r\n            value: value\r\n        } = this._options;\r\n        if ($itemContainer) {\r\n            $itemContainer.removeClass(previousValue).addClass(value);\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nvar tryCreateItemOptionAction = (optionName, itemActionOptions) => {\r\n    var _itemActionOptions$it;\r\n    switch (optionName) {\r\n        case \"editorOptions\":\r\n        case \"buttonOptions\":\r\n            return new WidgetOptionItemOptionAction(itemActionOptions);\r\n        case \"validationRules\":\r\n            return new ValidationRulesItemOptionAction(itemActionOptions);\r\n        case \"cssClass\":\r\n            return new CssClassItemOptionAction(itemActionOptions);\r\n        case \"badge\":\r\n        case \"disabled\":\r\n        case \"icon\":\r\n        case \"tabTemplate\":\r\n        case \"title\":\r\n            return new TabOptionItemOptionAction(extend(itemActionOptions, {\r\n                optionName: optionName\r\n            }));\r\n        case \"tabs\":\r\n            return new TabsOptionItemOptionAction(itemActionOptions);\r\n        case \"template\":\r\n            if (\"group\" === (null === (_itemActionOptions$it = itemActionOptions.item) || void 0 === _itemActionOptions$it ? void 0 : _itemActionOptions$it.itemType)) {\r\n                return new GroupItemTemplateChangedAction(itemActionOptions)\r\n            } else {\r\n                return new TabOptionItemOptionAction(extend(itemActionOptions, {\r\n                    optionName: optionName\r\n                }))\r\n            }\r\n            default:\r\n                return null\r\n    }\r\n};\r\nexport default tryCreateItemOptionAction;\r\n","/**\r\n * DevExtreme (esm/ui/responsive_box.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    grep,\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject,\r\n    isEmptyObject\r\n} from \"../core/utils/type\";\r\nimport errors from \"./widget/ui.errors\";\r\nimport {\r\n    getWindow,\r\n    defaultScreenFactorFunc,\r\n    hasWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    each,\r\n    map\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport Box from \"./box\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nvar RESPONSIVE_BOX_CLASS = \"dx-responsivebox\";\r\nvar SCREEN_SIZE_CLASS_PREFIX = RESPONSIVE_BOX_CLASS + \"-screen-\";\r\nvar BOX_ITEM_CLASS = \"dx-box-item\";\r\nvar BOX_ITEM_DATA_KEY = \"dxBoxItemData\";\r\nvar HD_SCREEN_WIDTH = 1920;\r\nvar ResponsiveBox = CollectionWidget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            rows: [],\r\n            cols: [],\r\n            screenByWidth: null,\r\n            singleColumnScreen: \"\",\r\n            height: \"100%\",\r\n            width: \"100%\",\r\n            activeStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            onItemStateChanged: void 0,\r\n            onLayoutChanged: null,\r\n            currentScreenFactor: void 0,\r\n            _layoutStrategy: void 0\r\n        })\r\n    },\r\n    _init: function() {\r\n        if (!this.option(\"screenByWidth\")) {\r\n            this._options.silent(\"screenByWidth\", defaultScreenFactorFunc)\r\n        }\r\n        this.callBase();\r\n        this._initLayoutChangedAction()\r\n    },\r\n    _initLayoutChangedAction: function() {\r\n        this._layoutChangedAction = this._createActionByOption(\"onLayoutChanged\", {\r\n            excludeValidators: [\"disabled\", \"readonly\"]\r\n        })\r\n    },\r\n    _itemClass: function() {\r\n        return BOX_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return BOX_ITEM_DATA_KEY\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(RESPONSIVE_BOX_CLASS);\r\n        this._updateRootBox()\r\n    },\r\n    _updateRootBox: function() {\r\n        clearTimeout(this._updateTimer);\r\n        this._updateTimer = setTimeout(function() {\r\n            if (this._$root) {\r\n                eventsEngine.triggerHandler(this._$root, \"dxupdate\")\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _renderItems: function() {\r\n        this._setScreenSize();\r\n        this._screenItems = this._itemsByScreen();\r\n        this._prepareGrid();\r\n        this._spreadItems();\r\n        this._layoutItems();\r\n        this._linkNodeToItem()\r\n    },\r\n    _itemOptionChanged: function(item) {\r\n        var $item = this._findItemElementByItem(item);\r\n        if (!$item.length) {\r\n            return\r\n        }\r\n        this._refreshItem($item, item);\r\n        this._clearItemNodeTemplates();\r\n        this._update(true)\r\n    },\r\n    _setScreenSize: function() {\r\n        var currentScreen = this._getCurrentScreen();\r\n        this._removeScreenSizeClass();\r\n        this.$element().addClass(SCREEN_SIZE_CLASS_PREFIX + currentScreen);\r\n        this.option(\"currentScreenFactor\", currentScreen)\r\n    },\r\n    _removeScreenSizeClass: function() {\r\n        var currentScreenFactor = this.option(\"currentScreenFactor\");\r\n        currentScreenFactor && this.$element().removeClass(SCREEN_SIZE_CLASS_PREFIX + currentScreenFactor)\r\n    },\r\n    _prepareGrid: function() {\r\n        var grid = this._grid = [];\r\n        this._prepareRowsAndCols();\r\n        each(this._rows, function() {\r\n            var row = [];\r\n            grid.push(row);\r\n            each(this._cols, function() {\r\n                row.push(this._createEmptyCell())\r\n            }.bind(this))\r\n        }.bind(this))\r\n    },\r\n    getSingleColumnRows: function() {\r\n        var rows = this.option(\"rows\");\r\n        var screenItemsLength = this._screenItems.length;\r\n        if (rows.length) {\r\n            var filteredRows = this._filterByScreen(rows);\r\n            var result = [];\r\n            for (var i = 0; i < screenItemsLength; i++) {\r\n                var sizeConfig = this._defaultSizeConfig();\r\n                if (i < filteredRows.length && isDefined(filteredRows[i].shrink)) {\r\n                    sizeConfig.shrink = filteredRows[i].shrink\r\n                }\r\n                result.push(sizeConfig)\r\n            }\r\n            return result\r\n        } else {\r\n            return this._defaultSizeConfig(screenItemsLength)\r\n        }\r\n    },\r\n    _prepareRowsAndCols: function() {\r\n        if (this._isSingleColumnScreen()) {\r\n            this._prepareSingleColumnScreenItems();\r\n            this._rows = this.getSingleColumnRows();\r\n            this._cols = this._defaultSizeConfig(1)\r\n        } else {\r\n            this._rows = this._sizesByScreen(this.option(\"rows\"));\r\n            this._cols = this._sizesByScreen(this.option(\"cols\"))\r\n        }\r\n    },\r\n    _isSingleColumnScreen: function() {\r\n        return this._screenRegExp().test(this.option(\"singleColumnScreen\")) || !this.option(\"rows\").length || !this.option(\"cols\").length\r\n    },\r\n    _prepareSingleColumnScreenItems: function() {\r\n        this._screenItems.sort((function(item1, item2) {\r\n            return item1.location.row - item2.location.row || item1.location.col - item2.location.col\r\n        }));\r\n        each(this._screenItems, (function(index, item) {\r\n            extend(item.location, {\r\n                row: index,\r\n                col: 0,\r\n                rowspan: 1,\r\n                colspan: 1\r\n            })\r\n        }))\r\n    },\r\n    _sizesByScreen: function(sizeConfigs) {\r\n        return map(this._filterByScreen(sizeConfigs), function(sizeConfig) {\r\n            return extend(this._defaultSizeConfig(), sizeConfig)\r\n        }.bind(this))\r\n    },\r\n    _createDefaultSizeConfig: function() {\r\n        return {\r\n            ratio: 1,\r\n            baseSize: 0,\r\n            minSize: 0,\r\n            maxSize: 0\r\n        }\r\n    },\r\n    _defaultSizeConfig: function(size) {\r\n        var defaultSizeConfig = this._createDefaultSizeConfig();\r\n        if (!arguments.length) {\r\n            return defaultSizeConfig\r\n        }\r\n        var result = [];\r\n        for (var i = 0; i < size; i++) {\r\n            result.push(defaultSizeConfig)\r\n        }\r\n        return result\r\n    },\r\n    _filterByScreen: function(items) {\r\n        var screenRegExp = this._screenRegExp();\r\n        return grep(items, (function(item) {\r\n            return !item.screen || screenRegExp.test(item.screen)\r\n        }))\r\n    },\r\n    _screenRegExp: function() {\r\n        var screen = this._getCurrentScreen();\r\n        return new RegExp(\"(^|\\\\s)\" + screen + \"($|\\\\s)\", \"i\")\r\n    },\r\n    _getCurrentScreen: function() {\r\n        var width = this._screenWidth();\r\n        return this.option(\"screenByWidth\")(width)\r\n    },\r\n    _screenWidth: function() {\r\n        return hasWindow() ? getWidth(window) : HD_SCREEN_WIDTH\r\n    },\r\n    _createEmptyCell: function() {\r\n        return {\r\n            item: {},\r\n            location: {\r\n                colspan: 1,\r\n                rowspan: 1\r\n            }\r\n        }\r\n    },\r\n    _spreadItems: function() {\r\n        each(this._screenItems, function(_, itemInfo) {\r\n            var location = itemInfo.location || {};\r\n            var itemCol = location.col;\r\n            var itemRow = location.row;\r\n            var row = this._grid[itemRow];\r\n            var itemCell = row && row[itemCol];\r\n            this._occupyCells(itemCell, itemInfo)\r\n        }.bind(this))\r\n    },\r\n    _itemsByScreen: function() {\r\n        return this.option(\"items\").reduce((result, item) => {\r\n            var locations = item.location || {};\r\n            locations = isPlainObject(locations) ? [locations] : locations;\r\n            this._filterByScreen(locations).forEach(location => {\r\n                result.push({\r\n                    item: item,\r\n                    location: extend({\r\n                        rowspan: 1,\r\n                        colspan: 1\r\n                    }, location)\r\n                })\r\n            });\r\n            return result\r\n        }, [])\r\n    },\r\n    _occupyCells: function(itemCell, itemInfo) {\r\n        if (!itemCell || this._isItemCellOccupied(itemCell, itemInfo)) {\r\n            return\r\n        }\r\n        extend(itemCell, itemInfo);\r\n        this._markSpanningCell(itemCell)\r\n    },\r\n    _isItemCellOccupied: function(itemCell, itemInfo) {\r\n        if (!isEmptyObject(itemCell.item)) {\r\n            return true\r\n        }\r\n        var result = false;\r\n        this._loopOverSpanning(itemInfo.location, (function(cell) {\r\n            result = result || !isEmptyObject(cell.item)\r\n        }));\r\n        return result\r\n    },\r\n    _loopOverSpanning: function(location, callback) {\r\n        var rowEnd = location.row + location.rowspan - 1;\r\n        var colEnd = location.col + location.colspan - 1;\r\n        var boundRowEnd = Math.min(rowEnd, this._rows.length - 1);\r\n        var boundColEnd = Math.min(colEnd, this._cols.length - 1);\r\n        location.rowspan -= rowEnd - boundRowEnd;\r\n        location.colspan -= colEnd - boundColEnd;\r\n        for (var rowIndex = location.row; rowIndex <= boundRowEnd; rowIndex++) {\r\n            for (var colIndex = location.col; colIndex <= boundColEnd; colIndex++) {\r\n                if (rowIndex !== location.row || colIndex !== location.col) {\r\n                    callback(this._grid[rowIndex][colIndex])\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _markSpanningCell: function(itemCell) {\r\n        this._loopOverSpanning(itemCell.location, (function(cell) {\r\n            extend(cell, {\r\n                item: itemCell.item,\r\n                spanningCell: itemCell\r\n            })\r\n        }))\r\n    },\r\n    _linkNodeToItem: function() {\r\n        each(this._itemElements(), (function(_, itemNode) {\r\n            var $item = $(itemNode);\r\n            var item = $item.data(BOX_ITEM_DATA_KEY);\r\n            if (!item.box) {\r\n                item.node = $item.children()\r\n            }\r\n        }))\r\n    },\r\n    _layoutItems: function() {\r\n        var rowsCount = this._grid.length;\r\n        var colsCount = rowsCount && this._grid[0].length;\r\n        if (!rowsCount && !colsCount) {\r\n            return\r\n        }\r\n        var result = this._layoutBlock({\r\n            direction: \"col\",\r\n            row: {\r\n                start: 0,\r\n                end: rowsCount - 1\r\n            },\r\n            col: {\r\n                start: 0,\r\n                end: colsCount - 1\r\n            }\r\n        });\r\n        var rootBox = this._prepareBoxConfig(result.box || {\r\n            direction: \"row\",\r\n            items: [extend(result, {\r\n                ratio: 1\r\n            })]\r\n        });\r\n        extend(rootBox, this._rootBoxConfig(rootBox.items));\r\n        this._$root = $(\"<div>\").appendTo(this._itemContainer());\r\n        this._createComponent(this._$root, Box, rootBox)\r\n    },\r\n    _rootBoxConfig: function(items) {\r\n        var rootItems = each(items, function(index, item) {\r\n            this._needApplyAutoBaseSize(item) && extend(item, {\r\n                baseSize: \"auto\"\r\n            })\r\n        }.bind(this));\r\n        return extend({\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            items: rootItems,\r\n            itemTemplate: this._getTemplateByOption(\"itemTemplate\"),\r\n            itemHoldTimeout: this.option(\"itemHoldTimeout\"),\r\n            onItemHold: this._createActionByOption(\"onItemHold\"),\r\n            onItemClick: this._createActionByOption(\"onItemClick\"),\r\n            onItemContextMenu: this._createActionByOption(\"onItemContextMenu\"),\r\n            onItemRendered: this._createActionByOption(\"onItemRendered\")\r\n        }, {\r\n            _layoutStrategy: this.option(\"_layoutStrategy\")\r\n        })\r\n    },\r\n    _needApplyAutoBaseSize: function(item) {\r\n        return !item.baseSize && (!item.minSize || \"auto\" === item.minSize) && (!item.maxSize || \"auto\" === item.maxSize)\r\n    },\r\n    _prepareBoxConfig: function(config) {\r\n        return extend(config || {}, {\r\n            crossAlign: \"stretch\",\r\n            onItemStateChanged: this.option(\"onItemStateChanged\")\r\n        })\r\n    },\r\n    _layoutBlock: function(options) {\r\n        if (this._isSingleItem(options)) {\r\n            return this._itemByCell(options.row.start, options.col.start)\r\n        }\r\n        return this._layoutDirection(options)\r\n    },\r\n    _isSingleItem: function(options) {\r\n        var firstCellLocation = this._grid[options.row.start][options.col.start].location;\r\n        var isItemRowSpanned = options.row.end - options.row.start === firstCellLocation.rowspan - 1;\r\n        var isItemColSpanned = options.col.end - options.col.start === firstCellLocation.colspan - 1;\r\n        return isItemRowSpanned && isItemColSpanned\r\n    },\r\n    _itemByCell: function(rowIndex, colIndex) {\r\n        var itemCell = this._grid[rowIndex][colIndex];\r\n        return itemCell.spanningCell ? null : itemCell.item\r\n    },\r\n    _layoutDirection: function(options) {\r\n        var items = [];\r\n        var direction = options.direction;\r\n        var crossDirection = this._crossDirection(direction);\r\n        var block;\r\n        while (block = this._nextBlock(options)) {\r\n            if (this._isBlockIndivisible(options.prevBlockOptions, block)) {\r\n                throw errors.Error(\"E1025\")\r\n            }\r\n            var item = this._layoutBlock({\r\n                direction: crossDirection,\r\n                row: block.row,\r\n                col: block.col,\r\n                prevBlockOptions: options\r\n            });\r\n            if (item) {\r\n                extend(item, this._blockSize(block, crossDirection));\r\n                items.push(item)\r\n            }\r\n            options[crossDirection].start = block[crossDirection].end + 1\r\n        }\r\n        return {\r\n            box: this._prepareBoxConfig({\r\n                direction: direction,\r\n                items: items\r\n            })\r\n        }\r\n    },\r\n    _isBlockIndivisible: function(options, block) {\r\n        return options && options.col.start === block.col.start && options.col.end === block.col.end && options.row.start === block.row.start && options.row.end === block.row.end\r\n    },\r\n    _crossDirection: function(direction) {\r\n        return \"col\" === direction ? \"row\" : \"col\"\r\n    },\r\n    _nextBlock: function(options) {\r\n        var direction = options.direction;\r\n        var crossDirection = this._crossDirection(direction);\r\n        var startIndex = options[direction].start;\r\n        var endIndex = options[direction].end;\r\n        var crossStartIndex = options[crossDirection].start;\r\n        if (crossStartIndex > options[crossDirection].end) {\r\n            return null\r\n        }\r\n        var crossSpan = 1;\r\n        for (var crossIndex = crossStartIndex; crossIndex < crossStartIndex + crossSpan; crossIndex++) {\r\n            var lineCrossSpan = 1;\r\n            for (var index = startIndex; index <= endIndex; index++) {\r\n                var cell = this._cellByDirection(direction, index, crossIndex);\r\n                lineCrossSpan = Math.max(lineCrossSpan, cell.location[crossDirection + \"span\"])\r\n            }\r\n            var lineCrossEndIndex = crossIndex + lineCrossSpan;\r\n            var crossEndIndex = crossStartIndex + crossSpan;\r\n            if (lineCrossEndIndex > crossEndIndex) {\r\n                crossSpan += lineCrossEndIndex - crossEndIndex\r\n            }\r\n        }\r\n        var result = {};\r\n        result[direction] = {\r\n            start: startIndex,\r\n            end: endIndex\r\n        };\r\n        result[crossDirection] = {\r\n            start: crossStartIndex,\r\n            end: crossStartIndex + crossSpan - 1\r\n        };\r\n        return result\r\n    },\r\n    _cellByDirection: function(direction, index, crossIndex) {\r\n        return \"col\" === direction ? this._grid[crossIndex][index] : this._grid[index][crossIndex]\r\n    },\r\n    _blockSize: function(block, direction) {\r\n        var defaultMinSize = \"row\" === direction ? \"auto\" : 0;\r\n        var sizeConfigs = \"row\" === direction ? this._rows : this._cols;\r\n        var result = extend(this._createDefaultSizeConfig(), {\r\n            ratio: 0\r\n        });\r\n        for (var index = block[direction].start; index <= block[direction].end; index++) {\r\n            var sizeConfig = sizeConfigs[index];\r\n            result.ratio += sizeConfig.ratio;\r\n            result.baseSize += sizeConfig.baseSize;\r\n            result.minSize += sizeConfig.minSize;\r\n            result.maxSize += sizeConfig.maxSize;\r\n            if (isDefined(sizeConfig.shrink)) {\r\n                result.shrink = sizeConfig.shrink\r\n            }\r\n        }\r\n        result.minSize = result.minSize ? result.minSize : defaultMinSize;\r\n        result.maxSize = result.maxSize ? result.maxSize : \"auto\";\r\n        this._isSingleColumnScreen() && (result.baseSize = \"auto\");\r\n        return result\r\n    },\r\n    _update: function(forceRemoveRoot) {\r\n        var $existingRoot = this._$root;\r\n        this._renderItems();\r\n        if ($existingRoot) {\r\n            if (forceRemoveRoot) {\r\n                $existingRoot.remove()\r\n            } else {\r\n                $existingRoot.detach();\r\n                this._saveAssistantRoot($existingRoot)\r\n            }\r\n        }\r\n        this._layoutChangedAction();\r\n        this._updateRootBox()\r\n    },\r\n    _saveAssistantRoot: function($root) {\r\n        this._assistantRoots = this._assistantRoots || [];\r\n        this._assistantRoots.push($root)\r\n    },\r\n    _dispose: function() {\r\n        clearTimeout(this._updateTimer);\r\n        this._clearItemNodeTemplates();\r\n        this._cleanUnusedRoots();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _cleanUnusedRoots: function() {\r\n        if (!this._assistantRoots) {\r\n            return\r\n        }\r\n        each(this._assistantRoots, (function(_, item) {\r\n            $(item).remove()\r\n        }))\r\n    },\r\n    _clearItemNodeTemplates: function() {\r\n        each(this.option(\"items\"), (function() {\r\n            delete this.node\r\n        }))\r\n    },\r\n    _toggleVisibility: function(visible) {\r\n        this.callBase(visible);\r\n        if (visible) {\r\n            this._updateRootBox()\r\n        }\r\n    },\r\n    _attachClickEvent: noop,\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"rows\":\r\n            case \"cols\":\r\n            case \"screenByWidth\":\r\n            case \"_layoutStrategy\":\r\n            case \"singleColumnScreen\":\r\n                this._clearItemNodeTemplates();\r\n                this._invalidate();\r\n                break;\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                this._update();\r\n                break;\r\n            case \"onLayoutChanged\":\r\n                this._initLayoutChangedAction();\r\n                break;\r\n            case \"itemTemplate\":\r\n                this._clearItemNodeTemplates();\r\n                this.callBase(args);\r\n                break;\r\n            case \"currentScreenFactor\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        if (this._getCurrentScreen() !== this.option(\"currentScreenFactor\")) {\r\n            this._update()\r\n        }\r\n    },\r\n    repaint: function() {\r\n        this._update()\r\n    }\r\n});\r\nregisterComponent(\"dxResponsiveBox\", ResponsiveBox);\r\nexport default ResponsiveBox;\r\n","/**\r\n * DevExtreme (esm/ui/form/constants.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var WIDGET_CLASS = \"dx-widget\";\r\nexport var FORM_CLASS = \"dx-form\";\r\nexport var FORM_GROUP_CLASS = \"dx-form-group\";\r\nexport var FORM_GROUP_CAPTION_CLASS = \"dx-form-group-caption\";\r\nexport var FORM_FIELD_ITEM_COL_CLASS = \"dx-col-\";\r\nexport var FIELD_ITEM_CLASS = \"dx-field-item\";\r\nexport var LAYOUT_MANAGER_ONE_COLUMN = \"dx-layout-manager-one-col\";\r\nexport var FIELD_ITEM_LABEL_CONTENT_CLASS = \"dx-field-item-label-content\";\r\nexport var FORM_LAYOUT_MANAGER_CLASS = \"dx-layout-manager\";\r\nexport var FIELD_ITEM_LABEL_CLASS = \"dx-field-item-label\";\r\nexport var FIELD_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\r\nexport var SINGLE_COLUMN_ITEM_CONTENT = \"dx-single-column-item-content\";\r\nexport var ROOT_SIMPLE_ITEM_CLASS = \"dx-root-simple-item\";\r\nexport var FORM_GROUP_CONTENT_CLASS = \"dx-form-group-content\";\r\nexport var FIELD_ITEM_CONTENT_HAS_GROUP_CLASS = \"dx-field-item-has-group\";\r\nexport var FIELD_ITEM_CONTENT_HAS_TABS_CLASS = \"dx-field-item-has-tabs\";\r\nexport var FORM_GROUP_WITH_CAPTION_CLASS = \"dx-form-group-with-caption\";\r\nexport var FIELD_ITEM_TAB_CLASS = \"dx-field-item-tab\";\r\nexport var GROUP_COL_COUNT_CLASS = \"dx-group-colcount-\";\r\nexport var GROUP_COL_COUNT_ATTR = \"group-col-count\";\r\nexport var FORM_VALIDATION_SUMMARY = \"dx-form-validation-summary\";\r\nexport var FORM_UNDERLINED_CLASS = \"dx-form-styling-mode-underlined\";\r\nexport var SIMPLE_ITEM_TYPE = \"simple\";\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.layout_manager.utils.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    captionize\r\n} from \"../../core/utils/inflector\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    SIMPLE_ITEM_TYPE\r\n} from \"./constants\";\r\nvar EDITORS_WITH_ARRAY_VALUE = [\"dxTagBox\", \"dxRangeSlider\"];\r\nexport var EDITORS_WITHOUT_LABELS = [\"dxCalendar\", \"dxCheckBox\", \"dxHtmlEditor\", \"dxRadioGroup\", \"dxRangeSlider\", \"dxSlider\", \"dxSwitch\"];\r\nexport function convertToRenderFieldItemOptions(_ref) {\r\n    var {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        item: item,\r\n        template: template,\r\n        name: name,\r\n        formLabelLocation: formLabelLocation,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup,\r\n        editorValue: editorValue,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        managerLabelLocation: managerLabelLocation,\r\n        itemId: itemId,\r\n        managerMarkOptions: managerMarkOptions,\r\n        labelMode: labelMode\r\n    } = _ref;\r\n    var isRequired = isDefined(item.isRequired) ? item.isRequired : !!_hasRequiredRuleInSet(item.validationRules);\r\n    var isSimpleItem = item.itemType === SIMPLE_ITEM_TYPE;\r\n    var helpID = item.helpText ? \"dx-\" + new Guid : null;\r\n    var labelOptions = _convertToLabelOptions({\r\n        item: item,\r\n        id: itemId,\r\n        isRequired: isRequired,\r\n        managerMarkOptions: managerMarkOptions,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        labelLocation: managerLabelLocation,\r\n        formLabelMode: labelMode\r\n    });\r\n    var needRenderLabel = labelOptions.visible && labelOptions.text;\r\n    var {\r\n        location: labelLocation,\r\n        labelID: labelID\r\n    } = labelOptions;\r\n    var labelNeedBaselineAlign = \"top\" !== labelLocation && (!!item.helpText && !useFlexLayout || -1 !== inArray(item.editorType, [\"dxTextArea\", \"dxRadioGroup\", \"dxCalendar\", \"dxHtmlEditor\"]));\r\n    var editorOptions = _convertToEditorOptions({\r\n        editorType: item.editorType,\r\n        editorValue: editorValue,\r\n        defaultEditorName: item.dataField,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        externalEditorOptions: item.editorOptions,\r\n        editorInputId: itemId,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        formLabelMode: labelMode,\r\n        labelText: labelOptions.textWithoutColon,\r\n        labelMark: labelOptions.markOptions.showRequiredMark ? String.fromCharCode(160) + labelOptions.markOptions.requiredMark : \"\"\r\n    });\r\n    var needRenderOptionalMarkAsHelpText = labelOptions.markOptions.showOptionalMark && !labelOptions.visible && \"hidden\" !== editorOptions.labelMode && !isDefined(item.helpText);\r\n    var helpText = needRenderOptionalMarkAsHelpText ? labelOptions.markOptions.optionalMark : item.helpText;\r\n    return {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        labelOptions: labelOptions,\r\n        labelNeedBaselineAlign: labelNeedBaselineAlign,\r\n        labelLocation: labelLocation,\r\n        needRenderLabel: needRenderLabel,\r\n        item: item,\r\n        isSimpleItem: isSimpleItem,\r\n        isRequired: isRequired,\r\n        template: template,\r\n        helpID: helpID,\r\n        labelID: labelID,\r\n        name: name,\r\n        helpText: helpText,\r\n        formLabelLocation: formLabelLocation,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup,\r\n        editorOptions: editorOptions\r\n    }\r\n}\r\nexport function getLabelMarkText(_ref2) {\r\n    var {\r\n        showRequiredMark: showRequiredMark,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark,\r\n        optionalMark: optionalMark\r\n    } = _ref2;\r\n    if (!showRequiredMark && !showOptionalMark) {\r\n        return \"\"\r\n    }\r\n    return String.fromCharCode(160) + (showRequiredMark ? requiredMark : optionalMark)\r\n}\r\nexport function convertToLabelMarkOptions(_ref3, isRequired) {\r\n    var {\r\n        showRequiredMark: showRequiredMark,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark,\r\n        optionalMark: optionalMark\r\n    } = _ref3;\r\n    return {\r\n        showRequiredMark: showRequiredMark && isRequired,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark && !isRequired,\r\n        optionalMark: optionalMark\r\n    }\r\n}\r\n\r\nfunction _convertToEditorOptions(_ref4) {\r\n    var {\r\n        editorType: editorType,\r\n        defaultEditorName: defaultEditorName,\r\n        editorValue: editorValue,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        externalEditorOptions: externalEditorOptions,\r\n        editorInputId: editorInputId,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        formLabelMode: formLabelMode,\r\n        labelText: labelText,\r\n        labelMark: labelMark\r\n    } = _ref4;\r\n    var editorOptionsWithValue = {};\r\n    if (void 0 !== editorValue || canAssignUndefinedValueToEditor) {\r\n        editorOptionsWithValue.value = editorValue\r\n    }\r\n    if (-1 !== EDITORS_WITH_ARRAY_VALUE.indexOf(editorType)) {\r\n        editorOptionsWithValue.value = editorOptionsWithValue.value || []\r\n    }\r\n    var labelMode = null === externalEditorOptions || void 0 === externalEditorOptions ? void 0 : externalEditorOptions.labelMode;\r\n    if (!isDefined(labelMode)) {\r\n        labelMode = \"outside\" === formLabelMode ? \"hidden\" : formLabelMode\r\n    }\r\n    var stylingMode = (null === externalEditorOptions || void 0 === externalEditorOptions ? void 0 : externalEditorOptions.stylingMode) || editorStylingMode;\r\n    var result = extend(true, editorOptionsWithValue, externalEditorOptions, {\r\n        inputAttr: {\r\n            id: editorInputId\r\n        },\r\n        validationBoundary: editorValidationBoundary,\r\n        stylingMode: stylingMode,\r\n        label: labelText,\r\n        labelMode: labelMode,\r\n        labelMark: labelMark\r\n    });\r\n    if (externalEditorOptions) {\r\n        if (result.dataSource) {\r\n            result.dataSource = externalEditorOptions.dataSource\r\n        }\r\n        if (result.items) {\r\n            result.items = externalEditorOptions.items\r\n        }\r\n    }\r\n    if (defaultEditorName && !result.name) {\r\n        result.name = defaultEditorName\r\n    }\r\n    return result\r\n}\r\n\r\nfunction _hasRequiredRuleInSet(rules) {\r\n    var hasRequiredRule;\r\n    if (rules && rules.length) {\r\n        each(rules, (function(index, rule) {\r\n            if (\"required\" === rule.type) {\r\n                hasRequiredRule = true;\r\n                return false\r\n            }\r\n        }))\r\n    }\r\n    return hasRequiredRule\r\n}\r\n\r\nfunction _convertToLabelOptions(_ref5) {\r\n    var {\r\n        item: item,\r\n        id: id,\r\n        isRequired: isRequired,\r\n        managerMarkOptions: managerMarkOptions,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        labelLocation: labelLocation,\r\n        formLabelMode: formLabelMode\r\n    } = _ref5;\r\n    var isEditorWithoutLabels = -1 !== inArray(item.editorType, EDITORS_WITHOUT_LABELS);\r\n    var labelOptions = extend({\r\n        showColon: showColonAfterLabel,\r\n        location: labelLocation,\r\n        id: id,\r\n        visible: \"outside\" === formLabelMode || isEditorWithoutLabels && \"hidden\" !== formLabelMode,\r\n        isRequired: isRequired\r\n    }, item ? item.label : {}, {\r\n        markOptions: convertToLabelMarkOptions(managerMarkOptions, isRequired)\r\n    });\r\n    if (-1 !== inArray(item.editorType, [\"dxRadioGroup\", \"dxCheckBox\", \"dxLookup\", \"dxSlider\", \"dxRangeSlider\", \"dxSwitch\", \"dxHtmlEditor\"])) {\r\n        labelOptions.labelID = \"dx-label-\".concat(new Guid)\r\n    }\r\n    if (!labelOptions.text && item.dataField) {\r\n        labelOptions.text = captionize(item.dataField)\r\n    }\r\n    if (labelOptions.text) {\r\n        labelOptions.textWithoutColon = labelOptions.text;\r\n        labelOptions.text += labelOptions.showColon ? \":\" : \"\"\r\n    }\r\n    return labelOptions\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/label.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"$FIELD_ITEM_LABEL_CONTENT_CLASS\"];\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    isDefined\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    isEmpty\r\n} from \"../../../core/utils/string\";\r\nimport {\r\n    getLabelMarkText\r\n} from \"../ui.form.layout_manager.utils\";\r\nimport {\r\n    WIDGET_CLASS,\r\n    FIELD_ITEM_LABEL_CONTENT_CLASS,\r\n    FIELD_ITEM_LABEL_CLASS\r\n} from \"../constants\";\r\nexport var GET_LABEL_WIDTH_BY_TEXT_CLASS = \"dx-layout-manager-hidden-label\";\r\nexport var FIELD_ITEM_REQUIRED_MARK_CLASS = \"dx-field-item-required-mark\";\r\nexport var FIELD_ITEM_LABEL_LOCATION_CLASS = \"dx-field-item-label-location-\";\r\nexport var FIELD_ITEM_OPTIONAL_MARK_CLASS = \"dx-field-item-optional-mark\";\r\nexport var FIELD_ITEM_LABEL_TEXT_CLASS = \"dx-field-item-label-text\";\r\nexport function renderLabel(_ref) {\r\n    var {\r\n        text: text,\r\n        id: id,\r\n        location: location,\r\n        alignment: alignment,\r\n        labelID: labelID = null,\r\n        markOptions: markOptions = {}\r\n    } = _ref;\r\n    if (!isDefined(text) || text.length <= 0) {\r\n        return null\r\n    }\r\n    return $(\"<label>\").addClass(FIELD_ITEM_LABEL_CLASS + \" \" + FIELD_ITEM_LABEL_LOCATION_CLASS + location).attr(\"for\", id).attr(\"id\", labelID).css(\"textAlign\", alignment).append($(\"<span>\").addClass(FIELD_ITEM_LABEL_CONTENT_CLASS).append($(\"<span>\").addClass(FIELD_ITEM_LABEL_TEXT_CLASS).text(text), _renderLabelMark(markOptions)))\r\n}\r\n\r\nfunction _renderLabelMark(markOptions) {\r\n    var markText = getLabelMarkText(markOptions);\r\n    if (\"\" === markText) {\r\n        return null\r\n    }\r\n    return $(\"<span>\").addClass(markOptions.showRequiredMark ? FIELD_ITEM_REQUIRED_MARK_CLASS : FIELD_ITEM_OPTIONAL_MARK_CLASS).text(markText)\r\n}\r\nexport function setLabelWidthByMaxLabelWidth($targetContainer, labelsSelector, labelMarkOptions) {\r\n    var FIELD_ITEM_LABEL_CONTENT_CLASS_Selector = \"\".concat(labelsSelector, \" > .\").concat(FIELD_ITEM_LABEL_CLASS, \":not(.\").concat(FIELD_ITEM_LABEL_LOCATION_CLASS, \"top) > .\").concat(FIELD_ITEM_LABEL_CONTENT_CLASS);\r\n    var $FIELD_ITEM_LABEL_CONTENT_CLASS_Items = $targetContainer.find(FIELD_ITEM_LABEL_CONTENT_CLASS_Selector);\r\n    var FIELD_ITEM_LABEL_CONTENT_CLASS_Length = $FIELD_ITEM_LABEL_CONTENT_CLASS_Items.length;\r\n    var labelWidth;\r\n    var i;\r\n    var maxWidth = 0;\r\n    for (i = 0; i < FIELD_ITEM_LABEL_CONTENT_CLASS_Length; i++) {\r\n        labelWidth = getLabelWidthByInnerHTML({\r\n            $FIELD_ITEM_LABEL_CONTENT_CLASS: $FIELD_ITEM_LABEL_CONTENT_CLASS_Items[i],\r\n            location: \"left\",\r\n            markOptions: labelMarkOptions\r\n        });\r\n        if (labelWidth > maxWidth) {\r\n            maxWidth = labelWidth\r\n        }\r\n    }\r\n    for (i = 0; i < FIELD_ITEM_LABEL_CONTENT_CLASS_Length; i++) {\r\n        $FIELD_ITEM_LABEL_CONTENT_CLASS_Items[i].style.width = maxWidth + \"px\"\r\n    }\r\n}\r\n\r\nfunction getLabelWidthByInnerHTML(options) {\r\n    var {\r\n        $FIELD_ITEM_LABEL_CONTENT_CLASS: $FIELD_ITEM_LABEL_CONTENT_CLASS\r\n    } = options, renderLabelOptions = _objectWithoutPropertiesLoose(options, _excluded);\r\n    var $hiddenContainer = $(\"<div>\").addClass(WIDGET_CLASS).addClass(GET_LABEL_WIDTH_BY_TEXT_CLASS).appendTo(\"body\");\r\n    renderLabelOptions.text = \" \";\r\n    var $label = renderLabel(renderLabelOptions).appendTo($hiddenContainer);\r\n    var labelTextElement = $label.find(\".\" + FIELD_ITEM_LABEL_TEXT_CLASS)[0];\r\n    labelTextElement.innerHTML = getLabelInnerHTML($FIELD_ITEM_LABEL_CONTENT_CLASS);\r\n    var result = labelTextElement.offsetWidth;\r\n    $hiddenContainer.remove();\r\n    return result\r\n}\r\n\r\nfunction getLabelInnerHTML($FIELD_ITEM_LABEL_CONTENT_CLASS) {\r\n    var length = $FIELD_ITEM_LABEL_CONTENT_CLASS.children.length;\r\n    var child;\r\n    var result = \"\";\r\n    var i;\r\n    for (i = 0; i < length; i++) {\r\n        child = $FIELD_ITEM_LABEL_CONTENT_CLASS.children[i];\r\n        result += !isEmpty(child.innerText) ? child.innerText : child.innerHTML\r\n    }\r\n    return result\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/field_item.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nimport eventsEngine from \"../../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../../events/click\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../../core/element\";\r\nimport {\r\n    captionize\r\n} from \"../../../core/utils/inflector\";\r\nimport {\r\n    format\r\n} from \"../../../core/utils/string\";\r\nimport {\r\n    isMaterial\r\n} from \"../../themes\";\r\nimport errors from \"../../widget/ui.errors\";\r\nimport Validator from \"../../validator\";\r\nimport {\r\n    FIELD_ITEM_CONTENT_CLASS\r\n} from \"../constants\";\r\nexport var FLEX_LAYOUT_CLASS = \"dx-flex-layout\";\r\nexport var FIELD_ITEM_OPTIONAL_CLASS = \"dx-field-item-optional\";\r\nexport var FIELD_ITEM_REQUIRED_CLASS = \"dx-field-item-required\";\r\nexport var FIELD_ITEM_CONTENT_WRAPPER_CLASS = \"dx-field-item-content-wrapper\";\r\nexport var FIELD_ITEM_CONTENT_LOCATION_CLASS = \"dx-field-item-content-location-\";\r\nexport var FIELD_ITEM_LABEL_ALIGN_CLASS = \"dx-field-item-label-align\";\r\nexport var FIELD_ITEM_HELP_TEXT_CLASS = \"dx-field-item-help-text\";\r\nexport var LABEL_VERTICAL_ALIGNMENT_CLASS = \"dx-label-v-align\";\r\nexport var LABEL_HORIZONTAL_ALIGNMENT_CLASS = \"dx-label-h-align\";\r\nimport {\r\n    renderLabel\r\n} from \"./label\";\r\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\r\nvar INVALID_CLASS = \"dx-invalid\";\r\nexport function renderFieldItem(_ref) {\r\n    var {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        labelOptions: labelOptions,\r\n        labelNeedBaselineAlign: labelNeedBaselineAlign,\r\n        labelLocation: labelLocation,\r\n        needRenderLabel: needRenderLabel,\r\n        formLabelLocation: formLabelLocation,\r\n        item: item,\r\n        editorOptions: editorOptions,\r\n        isSimpleItem: isSimpleItem,\r\n        isRequired: isRequired,\r\n        template: template,\r\n        helpID: helpID,\r\n        labelID: labelID,\r\n        name: name,\r\n        helpText: helpText,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup\r\n    } = _ref;\r\n    var $rootElement = $(\"<div>\").addClass(rootElementCssClassList.join(\" \")).appendTo($parent);\r\n    $rootElement.addClass(isRequired ? FIELD_ITEM_REQUIRED_CLASS : FIELD_ITEM_OPTIONAL_CLASS);\r\n    if (isSimpleItem && useFlexLayout) {\r\n        $rootElement.addClass(FLEX_LAYOUT_CLASS)\r\n    }\r\n    if (isSimpleItem && labelNeedBaselineAlign) {\r\n        $rootElement.addClass(FIELD_ITEM_LABEL_ALIGN_CLASS)\r\n    }\r\n    var $fieldEditorContainer = $(\"<div>\");\r\n    $fieldEditorContainer.data(\"dx-form-item\", item);\r\n    $fieldEditorContainer.addClass(FIELD_ITEM_CONTENT_CLASS).addClass(FIELD_ITEM_CONTENT_LOCATION_CLASS + {\r\n        right: \"left\",\r\n        left: \"right\",\r\n        top: \"bottom\"\r\n    } [formLabelLocation]);\r\n    var $label = needRenderLabel ? renderLabel(labelOptions) : null;\r\n    if ($label) {\r\n        $rootElement.append($label);\r\n        if (\"top\" === labelLocation || \"left\" === labelLocation) {\r\n            $rootElement.append($fieldEditorContainer)\r\n        }\r\n        if (\"right\" === labelLocation) {\r\n            $rootElement.prepend($fieldEditorContainer)\r\n        }\r\n        if (\"top\" === labelLocation) {\r\n            $rootElement.addClass(LABEL_VERTICAL_ALIGNMENT_CLASS)\r\n        } else {\r\n            $rootElement.addClass(LABEL_HORIZONTAL_ALIGNMENT_CLASS)\r\n        }\r\n        if (\"dxCheckBox\" === item.editorType || \"dxSwitch\" === item.editorType) {\r\n            eventsEngine.on($label, clickEventName, (function() {\r\n                eventsEngine.trigger($fieldEditorContainer.children(), clickEventName)\r\n            }))\r\n        }\r\n    } else {\r\n        $rootElement.append($fieldEditorContainer)\r\n    }\r\n    var widgetInstance;\r\n    if (template) {\r\n        template.render({\r\n            container: getPublicElement($fieldEditorContainer),\r\n            model: {\r\n                dataField: item.dataField,\r\n                editorType: item.editorType,\r\n                editorOptions: editorOptions,\r\n                component: formOrLayoutManager,\r\n                name: item.name\r\n            }\r\n        })\r\n    } else {\r\n        var $div = $(\"<div>\").appendTo($fieldEditorContainer);\r\n        try {\r\n            widgetInstance = createComponentCallback($div, item.editorType, editorOptions);\r\n            widgetInstance.setAria(\"describedby\", helpID);\r\n            if (labelID) {\r\n                widgetInstance.setAria(\"labelledby\", labelID)\r\n            }\r\n            widgetInstance.setAria(\"required\", isRequired)\r\n        } catch (e) {\r\n            errors.log(\"E1035\", e.message)\r\n        }\r\n    }\r\n    var editorElem = $fieldEditorContainer.children().first();\r\n    var $validationTarget = editorElem.hasClass(TEMPLATE_WRAPPER_CLASS) ? editorElem.children().first() : editorElem;\r\n    var validationTargetInstance = $validationTarget && $validationTarget.data(\"dx-validation-target\");\r\n    if (validationTargetInstance) {\r\n        var isItemHaveCustomLabel = item.label && item.label.text;\r\n        var itemName = isItemHaveCustomLabel ? null : name;\r\n        var fieldName = isItemHaveCustomLabel ? item.label.text : itemName && captionize(itemName);\r\n        var validationRules;\r\n        if (isSimpleItem) {\r\n            if (item.validationRules) {\r\n                validationRules = item.validationRules\r\n            } else {\r\n                var requiredMessage = format(requiredMessageTemplate, fieldName || \"\");\r\n                validationRules = item.isRequired ? [{\r\n                    type: \"required\",\r\n                    message: requiredMessage\r\n                }] : null\r\n            }\r\n        }\r\n        if (Array.isArray(validationRules) && validationRules.length) {\r\n            createComponentCallback($validationTarget, Validator, {\r\n                validationRules: validationRules,\r\n                validationGroup: validationGroup,\r\n                dataGetter: function() {\r\n                    return {\r\n                        formItem: item\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        if (isMaterial()) {\r\n            var wrapperClass = \".\" + FIELD_ITEM_CONTENT_WRAPPER_CLASS;\r\n            var toggleInvalidClass = function(e) {\r\n                $(e.element).parents(wrapperClass).toggleClass(INVALID_CLASS, false === e.component.option(\"isValid\") && (e.component._isFocused() || \"always\" === e.component.option(\"validationMessageMode\")))\r\n            };\r\n            validationTargetInstance.on(\"optionChanged\", e => {\r\n                if (\"isValid\" !== e.name) {\r\n                    return\r\n                }\r\n                toggleInvalidClass(e)\r\n            });\r\n            validationTargetInstance.on(\"focusIn\", toggleInvalidClass).on(\"focusOut\", toggleInvalidClass).on(\"enterKey\", toggleInvalidClass)\r\n        }\r\n    }\r\n    if (helpText && isSimpleItem) {\r\n        var $editorParent = $fieldEditorContainer.parent();\r\n        $editorParent.append($(\"<div>\").addClass(FIELD_ITEM_CONTENT_WRAPPER_CLASS).append($fieldEditorContainer).append($(\"<div>\").addClass(FIELD_ITEM_HELP_TEXT_CLASS).attr(\"id\", helpID).text(helpText)))\r\n    }\r\n    return {\r\n        $fieldEditorContainer: $fieldEditorContainer,\r\n        $rootElement: $rootElement,\r\n        widgetInstance: widgetInstance\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/button_item.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    isDefined\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nvar FIELD_BUTTON_ITEM_CLASS = \"dx-field-button-item\";\r\nexport function renderButtonItem(_ref) {\r\n    var {\r\n        item: item,\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        validationGroup: validationGroup,\r\n        createComponentCallback: createComponentCallback\r\n    } = _ref;\r\n    var $rootElement = $(\"<div>\").appendTo($parent).addClass(rootElementCssClassList.join(\" \")).addClass(FIELD_BUTTON_ITEM_CLASS).css(\"textAlign\", convertAlignmentToTextAlign(item.horizontalAlignment));\r\n    $parent.css(\"justifyContent\", convertAlignmentToJustifyContent(item.verticalAlignment));\r\n    var $button = $(\"<div>\").appendTo($rootElement);\r\n    return {\r\n        $rootElement: $rootElement,\r\n        buttonInstance: createComponentCallback($button, \"dxButton\", extend({\r\n            validationGroup: validationGroup\r\n        }, item.buttonOptions))\r\n    }\r\n}\r\n\r\nfunction convertAlignmentToTextAlign(horizontalAlignment) {\r\n    return isDefined(horizontalAlignment) ? horizontalAlignment : \"right\"\r\n}\r\n\r\nfunction convertAlignmentToJustifyContent(verticalAlignment) {\r\n    switch (verticalAlignment) {\r\n        case \"center\":\r\n            return \"center\";\r\n        case \"bottom\":\r\n            return \"flex-end\";\r\n        default:\r\n            return \"flex-start\"\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/empty_item.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nexport var FIELD_EMPTY_ITEM_CLASS = \"dx-field-empty-item\";\r\nexport function renderEmptyItem(_ref) {\r\n    var {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList\r\n    } = _ref;\r\n    return $(\"<div>\").addClass(FIELD_EMPTY_ITEM_CLASS).html(\"&nbsp;\").addClass(rootElementCssClassList.join(\" \")).appendTo($parent)\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.layout_manager.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    default as FormItemsRunTimeInfo\r\n} from \"./ui.form.items_runtime_info\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject,\r\n    isFunction,\r\n    isObject,\r\n    type\r\n} from \"../../core/utils/type\";\r\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\r\nimport {\r\n    getCurrentScreenFactor,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    normalizeIndexes\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    removeEvent\r\n} from \"../../events/remove\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    styleProp\r\n} from \"../../core/utils/style\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport ResponsiveBox from \"../responsive_box\";\r\nimport {\r\n    LAYOUT_MANAGER_ONE_COLUMN,\r\n    FORM_LAYOUT_MANAGER_CLASS,\r\n    SINGLE_COLUMN_ITEM_CONTENT,\r\n    ROOT_SIMPLE_ITEM_CLASS,\r\n    SIMPLE_ITEM_TYPE,\r\n    FIELD_ITEM_CLASS\r\n} from \"./constants\";\r\nimport \"../text_box\";\r\nimport \"../number_box\";\r\nimport \"../check_box\";\r\nimport \"../date_box\";\r\nimport \"../button\";\r\nimport {\r\n    renderFieldItem\r\n} from \"./components/field_item\";\r\nimport {\r\n    renderButtonItem\r\n} from \"./components/button_item\";\r\nimport {\r\n    renderEmptyItem\r\n} from \"./components/empty_item\";\r\nimport {\r\n    convertToRenderFieldItemOptions\r\n} from \"./ui.form.layout_manager.utils\";\r\nvar FORM_EDITOR_BY_DEFAULT = \"dxTextBox\";\r\nvar LAYOUT_MANAGER_FIRST_ROW_CLASS = \"dx-first-row\";\r\nvar LAYOUT_MANAGER_LAST_ROW_CLASS = \"dx-last-row\";\r\nvar LAYOUT_MANAGER_FIRST_COL_CLASS = \"dx-first-col\";\r\nvar LAYOUT_MANAGER_LAST_COL_CLASS = \"dx-last-col\";\r\nvar LAYOUT_STRATEGY_FLEX = \"flex\";\r\nvar LAYOUT_STRATEGY_FALLBACK = \"fallback\";\r\nvar LayoutManager = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            layoutData: {},\r\n            readOnly: false,\r\n            colCount: 1,\r\n            colCountByScreen: void 0,\r\n            labelLocation: \"left\",\r\n            onFieldDataChanged: null,\r\n            onEditorEnterKey: null,\r\n            customizeItem: null,\r\n            alignItemLabels: true,\r\n            minColWidth: 200,\r\n            showRequiredMark: true,\r\n            screenByWidth: null,\r\n            showOptionalMark: false,\r\n            requiredMark: \"*\",\r\n            labelMode: \"outside\",\r\n            optionalMark: messageLocalization.format(\"dxForm-optionalMark\"),\r\n            requiredMessage: messageLocalization.getFormatter(\"dxForm-requiredMessage\")\r\n        })\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            layoutData: true,\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _init: function() {\r\n        var layoutData = this.option(\"layoutData\");\r\n        this.callBase();\r\n        this._itemWatchers = [];\r\n        this._itemsRunTimeInfo = new FormItemsRunTimeInfo;\r\n        this._updateReferencedOptions(layoutData);\r\n        this._initDataAndItems(layoutData)\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        this._cleanItemWatchers()\r\n    },\r\n    _initDataAndItems: function(initialData) {\r\n        this._syncDataWithItems();\r\n        this._updateItems(initialData)\r\n    },\r\n    _syncDataWithItems: function() {\r\n        var layoutData = this.option(\"layoutData\");\r\n        var userItems = this.option(\"items\");\r\n        if (isDefined(userItems)) {\r\n            userItems.forEach(item => {\r\n                if (item.dataField && void 0 === this._getDataByField(item.dataField)) {\r\n                    var value;\r\n                    if (item.editorOptions) {\r\n                        value = item.editorOptions.value\r\n                    }\r\n                    if (isDefined(value) || item.dataField in layoutData) {\r\n                        this._updateFieldValue(item.dataField, value)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _getDataByField: function(dataField) {\r\n        return dataField ? this.option(\"layoutData.\" + dataField) : null\r\n    },\r\n    _isCheckboxUndefinedStateEnabled: function(_ref) {\r\n        var {\r\n            allowIndeterminateState: allowIndeterminateState,\r\n            editorType: editorType,\r\n            dataField: dataField\r\n        } = _ref;\r\n        if (true === allowIndeterminateState && \"dxCheckBox\" === editorType) {\r\n            var nameParts = [\"layoutData\", ...dataField.split(\".\")];\r\n            var propertyName = nameParts.pop();\r\n            var layoutData = this.option(nameParts.join(\".\"));\r\n            return layoutData && propertyName in layoutData\r\n        }\r\n        return false\r\n    },\r\n    _updateFieldValue: function(dataField, value) {\r\n        var layoutData = this.option(\"layoutData\");\r\n        var newValue = value;\r\n        if (!variableWrapper.isWrapped(layoutData[dataField]) && isDefined(dataField)) {\r\n            this.option(\"layoutData.\" + dataField, newValue)\r\n        } else if (variableWrapper.isWritableWrapped(layoutData[dataField])) {\r\n            newValue = isFunction(newValue) ? newValue() : newValue;\r\n            layoutData[dataField](newValue)\r\n        }\r\n        this._triggerOnFieldDataChanged({\r\n            dataField: dataField,\r\n            value: newValue\r\n        })\r\n    },\r\n    _triggerOnFieldDataChanged: function(args) {\r\n        this._createActionByOption(\"onFieldDataChanged\")(args)\r\n    },\r\n    _updateItems: function(layoutData) {\r\n        var that = this;\r\n        var userItems = this.option(\"items\");\r\n        var isUserItemsExist = isDefined(userItems);\r\n        var customizeItem = that.option(\"customizeItem\");\r\n        var items = isUserItemsExist ? userItems : this._generateItemsByData(layoutData);\r\n        if (isDefined(items)) {\r\n            var processedItems = [];\r\n            each(items, (function(index, item) {\r\n                if (that._isAcceptableItem(item)) {\r\n                    item = that._processItem(item);\r\n                    customizeItem && customizeItem(item);\r\n                    if (isObject(item) && false !== variableWrapper.unwrap(item.visible)) {\r\n                        processedItems.push(item)\r\n                    }\r\n                }\r\n            }));\r\n            if (!that._itemWatchers.length || !isUserItemsExist) {\r\n                that._updateItemWatchers(items)\r\n            }\r\n            this._setItems(processedItems);\r\n            this._sortItems()\r\n        }\r\n    },\r\n    _cleanItemWatchers: function() {\r\n        this._itemWatchers.forEach((function(dispose) {\r\n            dispose()\r\n        }));\r\n        this._itemWatchers = []\r\n    },\r\n    _updateItemWatchers: function(items) {\r\n        var that = this;\r\n        var watch = that._getWatch();\r\n        items.forEach((function(item) {\r\n            if (isObject(item) && isDefined(item.visible) && isFunction(watch)) {\r\n                that._itemWatchers.push(watch((function() {\r\n                    return variableWrapper.unwrap(item.visible)\r\n                }), (function() {\r\n                    that._updateItems(that.option(\"layoutData\"));\r\n                    that.repaint()\r\n                }), {\r\n                    skipImmediate: true\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _generateItemsByData: function(layoutData) {\r\n        var result = [];\r\n        if (isDefined(layoutData)) {\r\n            each(layoutData, (function(dataField) {\r\n                result.push({\r\n                    dataField: dataField\r\n                })\r\n            }))\r\n        }\r\n        return result\r\n    },\r\n    _isAcceptableItem: function(item) {\r\n        var itemField = item.dataField || item;\r\n        var itemData = this._getDataByField(itemField);\r\n        return !(isFunction(itemData) && !variableWrapper.isWrapped(itemData))\r\n    },\r\n    _processItem: function(item) {\r\n        if (\"string\" === typeof item) {\r\n            item = {\r\n                dataField: item\r\n            }\r\n        }\r\n        if (\"object\" === typeof item && !item.itemType) {\r\n            item.itemType = SIMPLE_ITEM_TYPE\r\n        }\r\n        if (!isDefined(item.editorType) && isDefined(item.dataField)) {\r\n            var value = this._getDataByField(item.dataField);\r\n            item.editorType = isDefined(value) ? this._getEditorTypeByDataType(type(value)) : FORM_EDITOR_BY_DEFAULT\r\n        }\r\n        if (\"dxCheckBox\" === item.editorType) {\r\n            var _item$allowIndetermin;\r\n            item.allowIndeterminateState = null !== (_item$allowIndetermin = item.allowIndeterminateState) && void 0 !== _item$allowIndetermin ? _item$allowIndetermin : true\r\n        }\r\n        return item\r\n    },\r\n    _getEditorTypeByDataType: function(dataType) {\r\n        switch (dataType) {\r\n            case \"number\":\r\n                return \"dxNumberBox\";\r\n            case \"date\":\r\n                return \"dxDateBox\";\r\n            case \"boolean\":\r\n                return \"dxCheckBox\";\r\n            default:\r\n                return \"dxTextBox\"\r\n        }\r\n    },\r\n    _sortItems: function() {\r\n        normalizeIndexes(this._items, \"visibleIndex\");\r\n        this._sortIndexes()\r\n    },\r\n    _sortIndexes: function() {\r\n        this._items.sort((function(itemA, itemB) {\r\n            var indexA = itemA.visibleIndex;\r\n            var indexB = itemB.visibleIndex;\r\n            var result;\r\n            if (indexA > indexB) {\r\n                result = 1\r\n            } else if (indexA < indexB) {\r\n                result = -1\r\n            } else {\r\n                result = 0\r\n            }\r\n            return result\r\n        }))\r\n    },\r\n    _initMarkup: function() {\r\n        this._itemsRunTimeInfo.clear();\r\n        this.$element().addClass(FORM_LAYOUT_MANAGER_CLASS);\r\n        this.callBase();\r\n        this._renderResponsiveBox()\r\n    },\r\n    _hasBrowserFlex: function() {\r\n        return styleProp(LAYOUT_STRATEGY_FLEX) === LAYOUT_STRATEGY_FLEX\r\n    },\r\n    _renderResponsiveBox: function() {\r\n        var templatesInfo = [];\r\n        if (this._items && this._items.length) {\r\n            var colCount = this._getColCount();\r\n            var $container = $(\"<div>\").appendTo(this.$element());\r\n            this._prepareItemsWithMerging(colCount);\r\n            var layoutItems = this._generateLayoutItems();\r\n            this._responsiveBox = this._createComponent($container, ResponsiveBox, this._getResponsiveBoxConfig(layoutItems, colCount, templatesInfo));\r\n            if (!hasWindow()) {\r\n                this._renderTemplates(templatesInfo)\r\n            }\r\n        }\r\n    },\r\n    _itemStateChangedHandler: function(e) {\r\n        this._refresh()\r\n    },\r\n    _renderTemplates: function(templatesInfo) {\r\n        var that = this;\r\n        each(templatesInfo, (function(_, info) {\r\n            switch (info.itemType) {\r\n                case \"empty\":\r\n                    renderEmptyItem(info);\r\n                    break;\r\n                case \"button\":\r\n                    that._renderButtonItem(info);\r\n                    break;\r\n                default:\r\n                    that._renderFieldItem(info)\r\n            }\r\n        }))\r\n    },\r\n    _getResponsiveBoxConfig: function(layoutItems, colCount, templatesInfo) {\r\n        var that = this;\r\n        var colCountByScreen = that.option(\"colCountByScreen\");\r\n        var xsColCount = colCountByScreen && colCountByScreen.xs;\r\n        return {\r\n            onItemStateChanged: this._itemStateChangedHandler.bind(this),\r\n            _layoutStrategy: that._hasBrowserFlex() ? LAYOUT_STRATEGY_FLEX : LAYOUT_STRATEGY_FALLBACK,\r\n            onLayoutChanged: function() {\r\n                var onLayoutChanged = that.option(\"onLayoutChanged\");\r\n                var isSingleColumnMode = that.isSingleColumnMode();\r\n                if (onLayoutChanged) {\r\n                    that.$element().toggleClass(LAYOUT_MANAGER_ONE_COLUMN, isSingleColumnMode);\r\n                    onLayoutChanged(isSingleColumnMode)\r\n                }\r\n            },\r\n            onContentReady: function(e) {\r\n                if (hasWindow()) {\r\n                    that._renderTemplates(templatesInfo)\r\n                }\r\n                if (that.option(\"onLayoutChanged\")) {\r\n                    that.$element().toggleClass(LAYOUT_MANAGER_ONE_COLUMN, that.isSingleColumnMode(e.component))\r\n                }\r\n            },\r\n            itemTemplate: function(e, itemData, itemElement) {\r\n                if (!e.location) {\r\n                    return\r\n                }\r\n                var $itemElement = $(itemElement);\r\n                var itemRenderedCountInPreviousRows = e.location.row * colCount;\r\n                var item = that._items[e.location.col + itemRenderedCountInPreviousRows];\r\n                if (!item) {\r\n                    return\r\n                }\r\n                var itemCssClassList = [item.cssClass];\r\n                $itemElement.toggleClass(SINGLE_COLUMN_ITEM_CONTENT, that.isSingleColumnMode(this));\r\n                if (0 === e.location.row) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_FIRST_ROW_CLASS)\r\n                }\r\n                if (0 === e.location.col) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_FIRST_COL_CLASS)\r\n                }\r\n                if (item.itemType === SIMPLE_ITEM_TYPE && that.option(\"isRoot\")) {\r\n                    $itemElement.addClass(ROOT_SIMPLE_ITEM_CLASS)\r\n                }\r\n                var isLastColumn = e.location.col === colCount - 1 || e.location.col + e.location.colspan === colCount;\r\n                var rowsCount = that._getRowsCount();\r\n                var isLastRow = e.location.row === rowsCount - 1;\r\n                if (isLastColumn) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_LAST_COL_CLASS)\r\n                }\r\n                if (isLastRow) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_LAST_ROW_CLASS)\r\n                }\r\n                if (\"empty\" !== item.itemType) {\r\n                    itemCssClassList.push(FIELD_ITEM_CLASS);\r\n                    itemCssClassList.push(that.option(\"cssItemClass\"));\r\n                    if (isDefined(item.col)) {\r\n                        itemCssClassList.push(\"dx-col-\" + item.col)\r\n                    }\r\n                }\r\n                templatesInfo.push({\r\n                    itemType: item.itemType,\r\n                    item: item,\r\n                    $parent: $itemElement,\r\n                    rootElementCssClassList: itemCssClassList\r\n                })\r\n            },\r\n            cols: that._generateRatio(colCount),\r\n            rows: that._generateRatio(that._getRowsCount(), true),\r\n            dataSource: layoutItems,\r\n            screenByWidth: that.option(\"screenByWidth\"),\r\n            singleColumnScreen: xsColCount ? false : \"xs\"\r\n        }\r\n    },\r\n    _getColCount: function() {\r\n        var colCount = this.option(\"colCount\");\r\n        var colCountByScreen = this.option(\"colCountByScreen\");\r\n        if (colCountByScreen) {\r\n            var screenFactor = this.option(\"form\").getTargetScreenFactor();\r\n            if (!screenFactor) {\r\n                screenFactor = hasWindow() ? getCurrentScreenFactor(this.option(\"screenByWidth\")) : \"lg\"\r\n            }\r\n            colCount = colCountByScreen[screenFactor] || colCount\r\n        }\r\n        if (\"auto\" === colCount) {\r\n            if (this._cashedColCount) {\r\n                return this._cashedColCount\r\n            }\r\n            this._cashedColCount = colCount = this._getMaxColCount()\r\n        }\r\n        return colCount < 1 ? 1 : colCount\r\n    },\r\n    _getMaxColCount: function() {\r\n        if (!hasWindow()) {\r\n            return 1\r\n        }\r\n        var minColWidth = this.option(\"minColWidth\");\r\n        var width = getWidth(this.$element());\r\n        var itemsCount = this._items.length;\r\n        var maxColCount = Math.floor(width / minColWidth) || 1;\r\n        return itemsCount < maxColCount ? itemsCount : maxColCount\r\n    },\r\n    isCachedColCountObsolete: function() {\r\n        return this._cashedColCount && this._getMaxColCount() !== this._cashedColCount\r\n    },\r\n    _prepareItemsWithMerging: function(colCount) {\r\n        var items = this._items.slice(0);\r\n        var item;\r\n        var itemsMergedByCol;\r\n        var result = [];\r\n        var j;\r\n        var i;\r\n        for (i = 0; i < items.length; i++) {\r\n            item = items[i];\r\n            result.push(item);\r\n            if (this.option(\"alignItemLabels\") || item.alignItemLabels || item.colSpan) {\r\n                item.col = this._getColByIndex(result.length - 1, colCount)\r\n            }\r\n            if (item.colSpan > 1 && item.col + item.colSpan <= colCount) {\r\n                itemsMergedByCol = [];\r\n                for (j = 0; j < item.colSpan - 1; j++) {\r\n                    itemsMergedByCol.push({\r\n                        merged: true\r\n                    })\r\n                }\r\n                result = result.concat(itemsMergedByCol)\r\n            } else {\r\n                delete item.colSpan\r\n            }\r\n        }\r\n        this._setItems(result)\r\n    },\r\n    _getColByIndex: function(index, colCount) {\r\n        return index % colCount\r\n    },\r\n    _setItems: function(items) {\r\n        this._items = items;\r\n        this._cashedColCount = null\r\n    },\r\n    _generateLayoutItems: function() {\r\n        var items = this._items;\r\n        var colCount = this._getColCount();\r\n        var result = [];\r\n        var item;\r\n        var i;\r\n        for (i = 0; i < items.length; i++) {\r\n            item = items[i];\r\n            if (!item.merged) {\r\n                var generatedItem = {\r\n                    location: {\r\n                        row: parseInt(i / colCount),\r\n                        col: this._getColByIndex(i, colCount)\r\n                    }\r\n                };\r\n                if (isDefined(item.disabled)) {\r\n                    generatedItem.disabled = item.disabled\r\n                }\r\n                if (isDefined(item.visible)) {\r\n                    generatedItem.visible = item.visible\r\n                }\r\n                if (isDefined(item.colSpan)) {\r\n                    generatedItem.location.colspan = item.colSpan\r\n                }\r\n                if (isDefined(item.rowSpan)) {\r\n                    generatedItem.location.rowspan = item.rowSpan\r\n                }\r\n                result.push(generatedItem)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _renderEmptyItem: function($container) {\r\n        renderEmptyItem({\r\n            $container: $container\r\n        })\r\n    },\r\n    _renderButtonItem: function(_ref2) {\r\n        var {\r\n            item: item,\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList\r\n        } = _ref2;\r\n        var {\r\n            $rootElement: $rootElement,\r\n            buttonInstance: buttonInstance\r\n        } = renderButtonItem({\r\n            item: item,\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList,\r\n            validationGroup: this.option(\"validationGroup\"),\r\n            createComponentCallback: this._createComponent.bind(this)\r\n        });\r\n        this._itemsRunTimeInfo.add({\r\n            item: item,\r\n            widgetInstance: buttonInstance,\r\n            guid: item.guid,\r\n            $itemContainer: $rootElement\r\n        })\r\n    },\r\n    _renderFieldItem: function(_ref3) {\r\n        var _this$option;\r\n        var {\r\n            item: item,\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList\r\n        } = _ref3;\r\n        var editorValue = this._getDataByField(item.dataField);\r\n        var canAssignUndefinedValueToEditor = false;\r\n        if (void 0 === editorValue) {\r\n            var {\r\n                allowIndeterminateState: allowIndeterminateState,\r\n                editorType: editorType,\r\n                dataField: dataField\r\n            } = item;\r\n            canAssignUndefinedValueToEditor = this._isCheckboxUndefinedStateEnabled({\r\n                allowIndeterminateState: allowIndeterminateState,\r\n                editorType: editorType,\r\n                dataField: dataField\r\n            })\r\n        }\r\n        var name = item.dataField || item.name;\r\n        var {\r\n            $fieldEditorContainer: $fieldEditorContainer,\r\n            widgetInstance: widgetInstance,\r\n            $rootElement: $rootElement\r\n        } = renderFieldItem(convertToRenderFieldItemOptions({\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList,\r\n            item: item,\r\n            name: name,\r\n            editorValue: editorValue,\r\n            canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n            formOrLayoutManager: this._getFormOrThis(),\r\n            createComponentCallback: this._createComponent.bind(this),\r\n            useFlexLayout: this._hasBrowserFlex(),\r\n            formLabelLocation: this.option(\"labelLocation\"),\r\n            requiredMessageTemplate: this.option(\"requiredMessage\"),\r\n            validationGroup: this.option(\"validationGroup\"),\r\n            editorValidationBoundary: this.option(\"validationBoundary\"),\r\n            editorStylingMode: this.option(\"form\") && this.option(\"form\").option(\"stylingMode\"),\r\n            showColonAfterLabel: this.option(\"showColonAfterLabel\"),\r\n            managerLabelLocation: this.option(\"labelLocation\"),\r\n            template: item.template ? this._getTemplate(item.template) : null,\r\n            itemId: this.option(\"form\") && this.option(\"form\").getItemID(name),\r\n            managerMarkOptions: this._getMarkOptions(),\r\n            labelMode: this.option(\"labelMode\")\r\n        }));\r\n        null === (_this$option = this.option(\"onFieldItemRendered\")) || void 0 === _this$option ? void 0 : _this$option();\r\n        if (widgetInstance && item.dataField) {\r\n            this._bindDataField(widgetInstance, item.dataField, item.editorType, $fieldEditorContainer)\r\n        }\r\n        this._itemsRunTimeInfo.add({\r\n            item: item,\r\n            widgetInstance: widgetInstance,\r\n            guid: item.guid,\r\n            $itemContainer: $rootElement\r\n        })\r\n    },\r\n    _getMarkOptions: function() {\r\n        return {\r\n            showRequiredMark: this.option(\"showRequiredMark\"),\r\n            requiredMark: this.option(\"requiredMark\"),\r\n            showOptionalMark: this.option(\"showOptionalMark\"),\r\n            optionalMark: this.option(\"optionalMark\")\r\n        }\r\n    },\r\n    _getFormOrThis: function() {\r\n        return this.option(\"form\") || this\r\n    },\r\n    _bindDataField: function(editorInstance, dataField, editorType, $container) {\r\n        var formOrThis = this._getFormOrThis();\r\n        editorInstance.on(\"enterKey\", (function(args) {\r\n            formOrThis._createActionByOption(\"onEditorEnterKey\")(extend(args, {\r\n                dataField: dataField\r\n            }))\r\n        }));\r\n        this._createWatcher(editorInstance, $container, dataField);\r\n        this.linkEditorToDataField(editorInstance, dataField, editorType)\r\n    },\r\n    _createWatcher: function(editorInstance, $container, dataField) {\r\n        var that = this;\r\n        var watch = that._getWatch();\r\n        if (!isFunction(watch)) {\r\n            return\r\n        }\r\n        var dispose = watch((function() {\r\n            return that._getDataByField(dataField)\r\n        }), (function() {\r\n            var fieldValue = that._getDataByField(dataField);\r\n            if (\"dxTagBox\" === editorInstance.NAME) {\r\n                var editorValue = editorInstance.option(\"value\");\r\n                if (fieldValue !== editorValue && function(array1, array2) {\r\n                        if (!Array.isArray(array1) || !Array.isArray(array2) || array1.length !== array2.length) {\r\n                            return false\r\n                        }\r\n                        for (var i = 0; i < array1.length; i++) {\r\n                            if (array1[i] !== array2[i]) {\r\n                                return false\r\n                            }\r\n                        }\r\n                        return true\r\n                    }(fieldValue, editorValue)) {\r\n                    return\r\n                }\r\n            }\r\n            editorInstance.option(\"value\", fieldValue)\r\n        }), {\r\n            deep: true,\r\n            skipImmediate: true\r\n        });\r\n        eventsEngine.on($container, removeEvent, dispose)\r\n    },\r\n    _getWatch: function() {\r\n        if (!isDefined(this._watch)) {\r\n            var formInstance = this.option(\"form\");\r\n            this._watch = formInstance && formInstance.option(\"integrationOptions.watchMethod\")\r\n        }\r\n        return this._watch\r\n    },\r\n    _createComponent: function($editor, type, editorOptions) {\r\n        var readOnlyState = this.option(\"readOnly\");\r\n        var instance = this.callBase($editor, type, editorOptions);\r\n        readOnlyState && instance.option(\"readOnly\", readOnlyState);\r\n        this.on(\"optionChanged\", (function(args) {\r\n            if (\"readOnly\" === args.name && !isDefined(editorOptions.readOnly)) {\r\n                instance.option(args.name, args.value)\r\n            }\r\n        }));\r\n        return instance\r\n    },\r\n    _generateRatio: function(count, isAutoSize) {\r\n        var result = [];\r\n        var ratio;\r\n        var i;\r\n        for (i = 0; i < count; i++) {\r\n            ratio = {\r\n                ratio: 1\r\n            };\r\n            if (isAutoSize) {\r\n                ratio.baseSize = \"auto\"\r\n            }\r\n            result.push(ratio)\r\n        }\r\n        return result\r\n    },\r\n    _getRowsCount: function() {\r\n        return Math.ceil(this._items.length / this._getColCount())\r\n    },\r\n    _updateReferencedOptions: function(newLayoutData) {\r\n        var layoutData = this.option(\"layoutData\");\r\n        if (isObject(layoutData)) {\r\n            Object.getOwnPropertyNames(layoutData).forEach(property => delete this._optionsByReference[\"layoutData.\" + property])\r\n        }\r\n        if (isObject(newLayoutData)) {\r\n            Object.getOwnPropertyNames(newLayoutData).forEach(property => this._optionsByReference[\"layoutData.\" + property] = true)\r\n        }\r\n    },\r\n    _resetWidget(instance) {\r\n        this._disableEditorValueChangedHandler = true;\r\n        instance.reset();\r\n        this._disableEditorValueChangedHandler = false;\r\n        instance.option(\"isValid\", true)\r\n    },\r\n    _optionChanged(args) {\r\n        if (0 === args.fullName.search(\"layoutData.\")) {\r\n            return\r\n        }\r\n        switch (args.name) {\r\n            case \"showRequiredMark\":\r\n            case \"showOptionalMark\":\r\n            case \"requiredMark\":\r\n            case \"optionalMark\":\r\n                this._cashedRequiredConfig = null;\r\n                this._invalidate();\r\n                break;\r\n            case \"layoutData\":\r\n                this._updateReferencedOptions(args.value);\r\n                if (this.option(\"items\")) {\r\n                    if (!isEmptyObject(args.value)) {\r\n                        this._itemsRunTimeInfo.each((_, itemRunTimeInfo) => {\r\n                            if (isDefined(itemRunTimeInfo.item)) {\r\n                                var dataField = itemRunTimeInfo.item.dataField;\r\n                                if (dataField && isDefined(itemRunTimeInfo.widgetInstance)) {\r\n                                    var valueGetter = compileGetter(dataField);\r\n                                    var dataValue = valueGetter(args.value);\r\n                                    var {\r\n                                        allowIndeterminateState: allowIndeterminateState,\r\n                                        editorType: editorType\r\n                                    } = itemRunTimeInfo.item;\r\n                                    if (void 0 !== dataValue || this._isCheckboxUndefinedStateEnabled({\r\n                                            allowIndeterminateState: allowIndeterminateState,\r\n                                            editorType: editorType,\r\n                                            dataField: dataField\r\n                                        })) {\r\n                                        itemRunTimeInfo.widgetInstance.option(\"value\", dataValue)\r\n                                    } else {\r\n                                        this._resetWidget(itemRunTimeInfo.widgetInstance)\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                } else {\r\n                    this._initDataAndItems(args.value);\r\n                    this._invalidate()\r\n                }\r\n                break;\r\n            case \"items\":\r\n                this._cleanItemWatchers();\r\n                this._initDataAndItems(args.value);\r\n                this._invalidate();\r\n                break;\r\n            case \"alignItemLabels\":\r\n            case \"labelLocation\":\r\n            case \"labelMode\":\r\n            case \"requiredMessage\":\r\n                this._invalidate();\r\n                break;\r\n            case \"customizeItem\":\r\n                this._updateItems(this.option(\"layoutData\"));\r\n                this._invalidate();\r\n                break;\r\n            case \"colCount\":\r\n                this._resetColCount();\r\n                break;\r\n            case \"minColWidth\":\r\n                if (\"auto\" === this.option(\"colCount\")) {\r\n                    this._resetColCount()\r\n                }\r\n                break;\r\n            case \"readOnly\":\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                if (\"auto\" === this.option(\"colCount\")) {\r\n                    this._resetColCount()\r\n                }\r\n                break;\r\n            case \"onFieldDataChanged\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _resetColCount: function() {\r\n        this._cashedColCount = null;\r\n        this._invalidate()\r\n    },\r\n    linkEditorToDataField(editorInstance, dataField) {\r\n        this.on(\"optionChanged\", args => {\r\n            if (args.fullName === \"layoutData.\".concat(dataField)) {\r\n                editorInstance._setOptionWithoutOptionChange(\"value\", args.value)\r\n            }\r\n        });\r\n        editorInstance.on(\"valueChanged\", args => {\r\n            var isValueReferenceType = isObject(args.value) || Array.isArray(args.value);\r\n            if (!this._disableEditorValueChangedHandler && !(isValueReferenceType && args.value === args.previousValue)) {\r\n                this._updateFieldValue(dataField, args.value)\r\n            }\r\n        })\r\n    },\r\n    _dimensionChanged: function() {\r\n        if (\"auto\" === this.option(\"colCount\") && this.isCachedColCountObsolete()) {\r\n            this._eventsStrategy.fireEvent(\"autoColCountChanged\")\r\n        }\r\n    },\r\n    updateData: function(data, value) {\r\n        var that = this;\r\n        if (isObject(data)) {\r\n            each(data, (function(dataField, fieldValue) {\r\n                that._updateFieldValue(dataField, fieldValue)\r\n            }))\r\n        } else if (\"string\" === typeof data) {\r\n            that._updateFieldValue(data, value)\r\n        }\r\n    },\r\n    getEditor: function(field) {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByDataField(field) || this._itemsRunTimeInfo.findWidgetInstanceByName(field)\r\n    },\r\n    isSingleColumnMode: function(component) {\r\n        var responsiveBox = this._responsiveBox || component;\r\n        if (responsiveBox) {\r\n            return responsiveBox.option(\"currentScreenFactor\") === responsiveBox.option(\"singleColumnScreen\")\r\n        }\r\n    },\r\n    getItemsRunTimeInfo: function() {\r\n        return this._itemsRunTimeInfo\r\n    }\r\n});\r\nregisterComponent(\"dxLayoutManager\", LayoutManager);\r\nexport default LayoutManager;\r\n","/**\r\n * DevExtreme (esm/ui/validation_summary.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    grep\r\n} from \"../core/utils/common\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../core/utils/iterator\";\r\nimport ValidationEngine from \"./validation_engine\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nvar VALIDATION_SUMMARY_CLASS = \"dx-validationsummary\";\r\nvar ITEM_CLASS = VALIDATION_SUMMARY_CLASS + \"-item\";\r\nvar ITEM_DATA_KEY = VALIDATION_SUMMARY_CLASS + \"-item-data\";\r\nvar ValidationSummary = CollectionWidget.inherit({\r\n    _getDefaultOptions() {\r\n        return extend(this.callBase(), {\r\n            focusStateEnabled: false,\r\n            noDataText: null\r\n        })\r\n    },\r\n    _setOptionsByReference() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _init() {\r\n        this.callBase();\r\n        this._initGroupRegistration()\r\n    },\r\n    _initGroupRegistration() {\r\n        var $element = this.$element();\r\n        var group = this.option(\"validationGroup\") || ValidationEngine.findGroup($element, this._modelByElement($element));\r\n        var groupConfig = ValidationEngine.addGroup(group);\r\n        this._unsubscribeGroup();\r\n        this._groupWasInit = true;\r\n        this._validationGroup = group;\r\n        this.groupSubscription = this._groupValidationHandler.bind(this);\r\n        groupConfig.on(\"validated\", this.groupSubscription)\r\n    },\r\n    _unsubscribeGroup() {\r\n        var groupConfig = ValidationEngine.getGroupConfig(this._validationGroup);\r\n        groupConfig && groupConfig.off(\"validated\", this.groupSubscription)\r\n    },\r\n    _getOrderedItems(validators, items) {\r\n        var orderedItems = [];\r\n        each(validators, (function(_, validator) {\r\n            var foundItems = grep(items, (function(item) {\r\n                if (item.validator === validator) {\r\n                    return true\r\n                }\r\n            }));\r\n            if (foundItems.length) {\r\n                orderedItems = orderedItems.concat(foundItems)\r\n            }\r\n        }));\r\n        return orderedItems\r\n    },\r\n    _groupValidationHandler(params) {\r\n        var items = this._getOrderedItems(params.validators, map(params.brokenRules, (function(rule) {\r\n            return {\r\n                text: rule.message,\r\n                validator: rule.validator,\r\n                index: rule.index\r\n            }\r\n        })));\r\n        this.validators = params.validators;\r\n        each(this.validators, (_, validator) => {\r\n            if (validator._validationSummary !== this) {\r\n                var handler = this._itemValidationHandler.bind(this);\r\n                validator.on(\"validated\", handler);\r\n                validator.on(\"disposing\", (function() {\r\n                    validator.off(\"validated\", handler);\r\n                    validator._validationSummary = null;\r\n                    handler = null\r\n                }));\r\n                validator._validationSummary = this\r\n            }\r\n        });\r\n        this.option(\"items\", items)\r\n    },\r\n    _itemValidationHandler(_ref) {\r\n        var {\r\n            isValid: isValid,\r\n            validator: validator,\r\n            brokenRules: brokenRules\r\n        } = _ref;\r\n        var items = this.option(\"items\");\r\n        var itemsChanged = false;\r\n        var itemIndex = 0;\r\n        var _loop = function() {\r\n            var item = items[itemIndex];\r\n            if (item.validator === validator) {\r\n                var foundRule = grep(brokenRules || [], (function(rule) {\r\n                    return rule.index === item.index\r\n                }))[0];\r\n                if (isValid || !foundRule) {\r\n                    items.splice(itemIndex, 1);\r\n                    itemsChanged = true;\r\n                    return \"continue\"\r\n                }\r\n                if (foundRule.message !== item.text) {\r\n                    item.text = foundRule.message;\r\n                    itemsChanged = true\r\n                }\r\n            }\r\n            itemIndex++\r\n        };\r\n        while (itemIndex < items.length) {\r\n            var _ret = _loop();\r\n            if (\"continue\" === _ret) {\r\n                continue\r\n            }\r\n        }\r\n        each(brokenRules, (function(_, rule) {\r\n            var foundItem = grep(items, (function(item) {\r\n                return item.validator === validator && item.index === rule.index\r\n            }))[0];\r\n            if (!foundItem) {\r\n                items.push({\r\n                    text: rule.message,\r\n                    validator: validator,\r\n                    index: rule.index\r\n                });\r\n                itemsChanged = true\r\n            }\r\n        }));\r\n        if (itemsChanged) {\r\n            items = this._getOrderedItems(this.validators, items);\r\n            this.option(\"items\", items)\r\n        }\r\n    },\r\n    _initMarkup() {\r\n        this.$element().addClass(VALIDATION_SUMMARY_CLASS);\r\n        this.callBase()\r\n    },\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"validationGroup\":\r\n                this._initGroupRegistration();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _itemClass: () => ITEM_CLASS,\r\n    _itemDataKey: () => ITEM_DATA_KEY,\r\n    _postprocessRenderItem(params) {\r\n        eventsEngine.on(params.itemElement, \"click\", (function() {\r\n            params.itemData.validator && params.itemData.validator.focus && params.itemData.validator.focus()\r\n        }))\r\n    },\r\n    _dispose() {\r\n        this.callBase();\r\n        this._unsubscribeGroup()\r\n    }\r\n});\r\nregisterComponent(\"dxValidationSummary\", ValidationSummary);\r\nexport default ValidationSummary;\r\n","/**\r\n * DevExtreme (esm/ui/validation_group.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport DOMComponent from \"../core/dom_component\";\r\nimport ValidationSummary from \"./validation_summary\";\r\nimport ValidationEngine from \"./validation_engine\";\r\nimport Validator from \"./validator\";\r\nvar VALIDATION_ENGINE_CLASS = \"dx-validationgroup\";\r\nvar VALIDATOR_CLASS = \"dx-validator\";\r\nvar VALIDATION_SUMMARY_CLASS = \"dx-validationsummary\";\r\nclass ValidationGroup extends DOMComponent {\r\n    _getDefaultOptions() {\r\n        return super._getDefaultOptions()\r\n    }\r\n    _init() {\r\n        super._init();\r\n        ValidationEngine.addGroup(this)\r\n    }\r\n    _initMarkup() {\r\n        var $element = this.$element();\r\n        $element.addClass(VALIDATION_ENGINE_CLASS);\r\n        $element.find(\".\".concat(VALIDATOR_CLASS)).each((function(_, validatorContainer) {\r\n            Validator.getInstance($(validatorContainer))._initGroupRegistration()\r\n        }));\r\n        $element.find(\".\".concat(VALIDATION_SUMMARY_CLASS)).each((function(_, summaryContainer) {\r\n            ValidationSummary.getInstance($(summaryContainer))._initGroupRegistration()\r\n        }));\r\n        super._initMarkup()\r\n    }\r\n    validate() {\r\n        return ValidationEngine.validateGroup(this)\r\n    }\r\n    reset() {\r\n        return ValidationEngine.resetGroup(this)\r\n    }\r\n    _dispose() {\r\n        ValidationEngine.removeGroup(this);\r\n        this.$element().removeClass(VALIDATION_ENGINE_CLASS);\r\n        super._dispose()\r\n    }\r\n    _useTemplates() {\r\n        return false\r\n    }\r\n}\r\nregisterComponent(\"dxValidationGroup\", ValidationGroup);\r\nexport default ValidationGroup;\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    ensureDefined\r\n} from \"../../core/utils/common\";\r\nimport config from \"../../core/config\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject,\r\n    isObject,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    triggerResizeEvent,\r\n    triggerShownEvent\r\n} from \"../../events/visibility_change\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport Editor from \"../editor/editor\";\r\nimport {\r\n    defaultScreenFactorFunc,\r\n    getCurrentScreenFactor,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport ValidationEngine from \"../validation_engine\";\r\nimport {\r\n    default as FormItemsRunTimeInfo\r\n} from \"./ui.form.items_runtime_info\";\r\nimport TabPanel from \"../tab_panel\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    isMaterial\r\n} from \"../themes\";\r\nimport tryCreateItemOptionAction from \"./ui.form.item_options_actions\";\r\nimport \"./ui.form.layout_manager\";\r\nimport {\r\n    concatPaths,\r\n    createItemPathByIndex,\r\n    getFullOptionName,\r\n    getOptionNameFromFullName,\r\n    tryGetTabPath,\r\n    getTextWithoutSpaces,\r\n    isEqualToDataFieldOrNameOrTitleOrCaption,\r\n    isFullPathContainsTabs,\r\n    getItemPath,\r\n    convertToLayoutManagerOptions\r\n} from \"./ui.form.utils\";\r\nimport {\r\n    convertToLabelMarkOptions\r\n} from \"./ui.form.layout_manager.utils\";\r\nimport {\r\n    setLabelWidthByMaxLabelWidth\r\n} from \"./components/label\";\r\nimport \"../validation_summary\";\r\nimport \"../validation_group\";\r\nimport {\r\n    FORM_CLASS,\r\n    FIELD_ITEM_CLASS,\r\n    FORM_GROUP_CLASS,\r\n    FORM_GROUP_CONTENT_CLASS,\r\n    FIELD_ITEM_CONTENT_HAS_GROUP_CLASS,\r\n    FIELD_ITEM_CONTENT_HAS_TABS_CLASS,\r\n    FORM_GROUP_WITH_CAPTION_CLASS,\r\n    FORM_GROUP_CAPTION_CLASS,\r\n    FIELD_ITEM_TAB_CLASS,\r\n    FORM_FIELD_ITEM_COL_CLASS,\r\n    GROUP_COL_COUNT_CLASS,\r\n    GROUP_COL_COUNT_ATTR,\r\n    FIELD_ITEM_CONTENT_CLASS,\r\n    FORM_VALIDATION_SUMMARY,\r\n    ROOT_SIMPLE_ITEM_CLASS,\r\n    FORM_UNDERLINED_CLASS\r\n} from \"./constants\";\r\nimport {\r\n    TOOLBAR_CLASS\r\n} from \"../toolbar/constants\";\r\nvar FOCUSED_STATE_CLASS = \"dx-state-focused\";\r\nvar ITEM_OPTIONS_FOR_VALIDATION_UPDATING = [\"items\", \"isRequired\", \"validationRules\", \"visible\"];\r\nvar Form = Widget.inherit({\r\n    _init: function() {\r\n        this.callBase();\r\n        this._cachedColCountOptions = [];\r\n        this._itemsRunTimeInfo = new FormItemsRunTimeInfo;\r\n        this._groupsColCount = [];\r\n        this._attachSyncSubscriptions()\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            formID: \"dx-\" + new Guid,\r\n            formData: {},\r\n            colCount: 1,\r\n            screenByWidth: defaultScreenFactorFunc,\r\n            colCountByScreen: void 0,\r\n            labelLocation: \"left\",\r\n            readOnly: false,\r\n            onFieldDataChanged: null,\r\n            customizeItem: null,\r\n            onEditorEnterKey: null,\r\n            minColWidth: 200,\r\n            alignItemLabels: true,\r\n            alignItemLabelsInAllGroups: true,\r\n            alignRootItemLabels: true,\r\n            showColonAfterLabel: true,\r\n            showRequiredMark: true,\r\n            showOptionalMark: false,\r\n            requiredMark: \"*\",\r\n            optionalMark: messageLocalization.format(\"dxForm-optionalMark\"),\r\n            requiredMessage: messageLocalization.getFormatter(\"dxForm-requiredMessage\"),\r\n            showValidationSummary: false,\r\n            items: void 0,\r\n            scrollingEnabled: false,\r\n            validationGroup: void 0,\r\n            stylingMode: config().editorStylingMode,\r\n            labelMode: \"outside\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return isMaterial()\r\n            },\r\n            options: {\r\n                showColonAfterLabel: false,\r\n                labelLocation: \"top\"\r\n            }\r\n        }])\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            formData: true,\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _getGroupColCount: function($element) {\r\n        return parseInt($element.attr(GROUP_COL_COUNT_ATTR))\r\n    },\r\n    _applyLabelsWidthByCol: function($container, index) {\r\n        var options = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\r\n        var labelMarkOptions = arguments.length > 3 ? arguments[3] : void 0;\r\n        var fieldItemClass = options.inOneColumn ? FIELD_ITEM_CLASS : FORM_FIELD_ITEM_COL_CLASS + index;\r\n        var cssExcludeTabbedSelector = options.excludeTabbed ? \":not(.\".concat(FIELD_ITEM_TAB_CLASS, \")\") : \"\";\r\n        setLabelWidthByMaxLabelWidth($container, \".\".concat(fieldItemClass).concat(cssExcludeTabbedSelector), labelMarkOptions);\r\n        return\r\n    },\r\n    _applyLabelsWidth: function($container, excludeTabbed, inOneColumn, colCount, labelMarkOptions) {\r\n        colCount = inOneColumn ? 1 : colCount || this._getGroupColCount($container);\r\n        var applyLabelsOptions = {\r\n            excludeTabbed: excludeTabbed,\r\n            inOneColumn: inOneColumn\r\n        };\r\n        var i;\r\n        for (i = 0; i < colCount; i++) {\r\n            this._applyLabelsWidthByCol($container, i, applyLabelsOptions, labelMarkOptions)\r\n        }\r\n    },\r\n    _getGroupElementsInColumn: function($container, columnIndex, colCount) {\r\n        var cssColCountSelector = isDefined(colCount) ? \".\" + GROUP_COL_COUNT_CLASS + colCount : \"\";\r\n        var groupSelector = \".\" + FORM_FIELD_ITEM_COL_CLASS + columnIndex + \" > .\" + FIELD_ITEM_CONTENT_CLASS + \" > .\" + FORM_GROUP_CLASS + cssColCountSelector;\r\n        return $container.find(groupSelector)\r\n    },\r\n    _applyLabelsWidthWithGroups: function($container, colCount, excludeTabbed, labelMarkOptions) {\r\n        if (true === this.option(\"alignRootItemLabels\")) {\r\n            var $rootSimpleItems = $container.find(\".\".concat(ROOT_SIMPLE_ITEM_CLASS));\r\n            for (var colIndex = 0; colIndex < colCount; colIndex++) {\r\n                this._applyLabelsWidthByCol($rootSimpleItems, colIndex, excludeTabbed, labelMarkOptions)\r\n            }\r\n        }\r\n        var alignItemLabelsInAllGroups = this.option(\"alignItemLabelsInAllGroups\");\r\n        if (alignItemLabelsInAllGroups) {\r\n            this._applyLabelsWidthWithNestedGroups($container, colCount, excludeTabbed, labelMarkOptions)\r\n        } else {\r\n            var $groups = this.$element().find(\".\" + FORM_GROUP_CLASS);\r\n            var i;\r\n            for (i = 0; i < $groups.length; i++) {\r\n                this._applyLabelsWidth($groups.eq(i), excludeTabbed, void 0, void 0, labelMarkOptions)\r\n            }\r\n        }\r\n    },\r\n    _applyLabelsWidthWithNestedGroups: function($container, colCount, excludeTabbed, labelMarkOptions) {\r\n        var applyLabelsOptions = {\r\n            excludeTabbed: excludeTabbed\r\n        };\r\n        var colIndex;\r\n        var groupsColIndex;\r\n        var groupColIndex;\r\n        var $groupsByCol;\r\n        for (colIndex = 0; colIndex < colCount; colIndex++) {\r\n            $groupsByCol = this._getGroupElementsInColumn($container, colIndex);\r\n            this._applyLabelsWidthByCol($groupsByCol, 0, applyLabelsOptions, labelMarkOptions);\r\n            for (groupsColIndex = 0; groupsColIndex < this._groupsColCount.length; groupsColIndex++) {\r\n                $groupsByCol = this._getGroupElementsInColumn($container, colIndex, this._groupsColCount[groupsColIndex]);\r\n                var groupColCount = this._getGroupColCount($groupsByCol);\r\n                for (groupColIndex = 1; groupColIndex < groupColCount; groupColIndex++) {\r\n                    this._applyLabelsWidthByCol($groupsByCol, groupColIndex, applyLabelsOptions, labelMarkOptions)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _labelLocation: function() {\r\n        return this.option(\"labelLocation\")\r\n    },\r\n    _alignLabelsInColumn: function(_ref) {\r\n        var {\r\n            layoutManager: layoutManager,\r\n            inOneColumn: inOneColumn,\r\n            $container: $container,\r\n            excludeTabbed: excludeTabbed,\r\n            items: items\r\n        } = _ref;\r\n        if (!hasWindow() || \"top\" === this._labelLocation()) {\r\n            return\r\n        }\r\n        var labelMarkOptions = convertToLabelMarkOptions(layoutManager._getMarkOptions());\r\n        if (inOneColumn) {\r\n            this._applyLabelsWidth($container, excludeTabbed, true, void 0, labelMarkOptions)\r\n        } else if (this._checkGrouping(items)) {\r\n            this._applyLabelsWidthWithGroups($container, layoutManager._getColCount(), excludeTabbed, labelMarkOptions)\r\n        } else {\r\n            this._applyLabelsWidth($container, excludeTabbed, false, layoutManager._getColCount(), labelMarkOptions)\r\n        }\r\n    },\r\n    _prepareFormData: function() {\r\n        if (!isDefined(this.option(\"formData\"))) {\r\n            this.option(\"formData\", {})\r\n        }\r\n    },\r\n    _setStylingModeClass: function() {\r\n        if (\"underlined\" === this.option(\"stylingMode\")) {\r\n            this.$element().addClass(FORM_UNDERLINED_CLASS)\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        ValidationEngine.addGroup(this._getValidationGroup());\r\n        this._clearCachedInstances();\r\n        this._prepareFormData();\r\n        this.$element().addClass(FORM_CLASS);\r\n        this._setStylingModeClass();\r\n        this.callBase();\r\n        this.setAria(\"role\", \"form\", this.$element());\r\n        if (this.option(\"scrollingEnabled\")) {\r\n            this._renderScrollable()\r\n        }\r\n        this._renderLayout();\r\n        this._renderValidationSummary();\r\n        this._lastMarkupScreenFactor = this._targetScreenFactor || this._getCurrentScreenFactor()\r\n    },\r\n    _getCurrentScreenFactor: function() {\r\n        return hasWindow() ? getCurrentScreenFactor(this.option(\"screenByWidth\")) : \"lg\"\r\n    },\r\n    _clearCachedInstances: function() {\r\n        this._itemsRunTimeInfo.clear();\r\n        this._cachedLayoutManagers = []\r\n    },\r\n    _alignLabels: function(layoutManager, inOneColumn) {\r\n        this._alignLabelsInColumn({\r\n            $container: this.$element(),\r\n            layoutManager: layoutManager,\r\n            excludeTabbed: true,\r\n            items: this.option(\"items\"),\r\n            inOneColumn: inOneColumn\r\n        });\r\n        triggerResizeEvent(this.$element().find(\".\".concat(TOOLBAR_CLASS)))\r\n    },\r\n    _clean: function() {\r\n        this._clearValidationSummary();\r\n        this.callBase();\r\n        this._groupsColCount = [];\r\n        this._cachedColCountOptions = [];\r\n        this._lastMarkupScreenFactor = void 0\r\n    },\r\n    _renderScrollable: function() {\r\n        var useNativeScrolling = this.option(\"useNativeScrolling\");\r\n        this._scrollable = new Scrollable(this.$element(), {\r\n            useNative: !!useNativeScrolling,\r\n            useSimulatedScrollbar: !useNativeScrolling,\r\n            useKeyboard: false,\r\n            direction: \"both\",\r\n            bounceEnabled: false\r\n        })\r\n    },\r\n    _getContent: function() {\r\n        return this.option(\"scrollingEnabled\") ? $(this._scrollable.content()) : this.$element()\r\n    },\r\n    _clearValidationSummary: function() {\r\n        var _this$_$validationSum;\r\n        null === (_this$_$validationSum = this._$validationSummary) || void 0 === _this$_$validationSum ? void 0 : _this$_$validationSum.remove();\r\n        this._$validationSummary = void 0;\r\n        this._validationSummary = void 0\r\n    },\r\n    _renderValidationSummary: function() {\r\n        this._clearValidationSummary();\r\n        if (this.option(\"showValidationSummary\")) {\r\n            this._$validationSummary = $(\"<div>\").addClass(FORM_VALIDATION_SUMMARY).appendTo(this._getContent());\r\n            this._validationSummary = this._$validationSummary.dxValidationSummary({\r\n                validationGroup: this._getValidationGroup()\r\n            }).dxValidationSummary(\"instance\")\r\n        }\r\n    },\r\n    _prepareItems(items, parentIsTabbedItem, currentPath, isTabs) {\r\n        if (items) {\r\n            var result = [];\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = items[i];\r\n                var path = concatPaths(currentPath, createItemPathByIndex(i, isTabs));\r\n                var itemRunTimeInfo = {\r\n                    item: item,\r\n                    itemIndex: i,\r\n                    path: path\r\n                };\r\n                var guid = this._itemsRunTimeInfo.add(itemRunTimeInfo);\r\n                if (isString(item)) {\r\n                    item = {\r\n                        dataField: item\r\n                    }\r\n                }\r\n                if (isObject(item)) {\r\n                    var preparedItem = _extends({}, item);\r\n                    itemRunTimeInfo.preparedItem = preparedItem;\r\n                    preparedItem.guid = guid;\r\n                    this._tryPrepareGroupItem(preparedItem);\r\n                    this._tryPrepareTabbedItem(preparedItem, path);\r\n                    this._tryPrepareItemTemplate(preparedItem);\r\n                    if (parentIsTabbedItem) {\r\n                        preparedItem.cssItemClass = FIELD_ITEM_TAB_CLASS\r\n                    }\r\n                    if (preparedItem.items) {\r\n                        preparedItem.items = this._prepareItems(preparedItem.items, parentIsTabbedItem, path)\r\n                    }\r\n                    result.push(preparedItem)\r\n                } else {\r\n                    result.push(item)\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    },\r\n    _tryPrepareGroupItem: function(item) {\r\n        if (\"group\" === item.itemType) {\r\n            item.alignItemLabels = ensureDefined(item.alignItemLabels, true);\r\n            item._prepareGroupItemTemplate = itemTemplate => {\r\n                if (item.template) {\r\n                    item.groupContentTemplate = this._getTemplate(itemTemplate)\r\n                }\r\n                item.template = this._itemGroupTemplate.bind(this, item)\r\n            };\r\n            item._prepareGroupItemTemplate(item.template)\r\n        }\r\n    },\r\n    _tryPrepareTabbedItem: function(item, path) {\r\n        if (\"tabbed\" === item.itemType) {\r\n            item.template = this._itemTabbedTemplate.bind(this, item);\r\n            item.tabs = this._prepareItems(item.tabs, true, path, true)\r\n        }\r\n    },\r\n    _tryPrepareItemTemplate: function(item) {\r\n        if (item.template) {\r\n            item.template = this._getTemplate(item.template)\r\n        }\r\n    },\r\n    _checkGrouping: function(items) {\r\n        if (items) {\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = items[i];\r\n                if (\"group\" === item.itemType) {\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _renderLayout: function() {\r\n        var that = this;\r\n        var items = that.option(\"items\");\r\n        var $content = that._getContent();\r\n        items = that._prepareItems(items);\r\n        that._rootLayoutManager = that._renderLayoutManager($content, this._createLayoutManagerOptions(items, {\r\n            isRoot: true,\r\n            colCount: that.option(\"colCount\"),\r\n            alignItemLabels: that.option(\"alignItemLabels\"),\r\n            screenByWidth: this.option(\"screenByWidth\"),\r\n            colCountByScreen: this.option(\"colCountByScreen\"),\r\n            onLayoutChanged: function(inOneColumn) {\r\n                that._alignLabels.bind(that)(that._rootLayoutManager, inOneColumn)\r\n            },\r\n            onContentReady: function(e) {\r\n                that._alignLabels(e.component, e.component.isSingleColumnMode())\r\n            }\r\n        }))\r\n    },\r\n    _tryGetItemsForTemplate: function(item) {\r\n        return item.items || []\r\n    },\r\n    _itemTabbedTemplate: function(item, e, $container) {\r\n        var $tabPanel = $(\"<div>\").appendTo($container);\r\n        var tabPanelOptions = extend({}, item.tabPanelOptions, {\r\n            dataSource: item.tabs,\r\n            onItemRendered: args => triggerShownEvent(args.itemElement),\r\n            itemTemplate: (itemData, e, container) => {\r\n                var $container = $(container);\r\n                var alignItemLabels = ensureDefined(itemData.alignItemLabels, true);\r\n                var layoutManager = this._renderLayoutManager($container, this._createLayoutManagerOptions(this._tryGetItemsForTemplate(itemData), {\r\n                    colCount: itemData.colCount,\r\n                    alignItemLabels: alignItemLabels,\r\n                    screenByWidth: this.option(\"screenByWidth\"),\r\n                    colCountByScreen: itemData.colCountByScreen,\r\n                    cssItemClass: itemData.cssItemClass,\r\n                    onLayoutChanged: inOneColumn => {\r\n                        this._alignLabelsInColumn({\r\n                            $container: $container,\r\n                            layoutManager: layoutManager,\r\n                            items: itemData.items,\r\n                            inOneColumn: inOneColumn\r\n                        })\r\n                    }\r\n                }));\r\n                if (this._itemsRunTimeInfo) {\r\n                    this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(itemData.guid, {\r\n                        layoutManager: layoutManager\r\n                    })\r\n                }\r\n                if (alignItemLabels) {\r\n                    this._alignLabelsInColumn({\r\n                        $container: $container,\r\n                        layoutManager: layoutManager,\r\n                        items: itemData.items,\r\n                        inOneColumn: layoutManager.isSingleColumnMode()\r\n                    })\r\n                }\r\n            }\r\n        });\r\n        var tryUpdateTabPanelInstance = (items, instance) => {\r\n            if (Array.isArray(items)) {\r\n                items.forEach(item => this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(item.guid, {\r\n                    widgetInstance: instance\r\n                }))\r\n            }\r\n        };\r\n        var tabPanel = this._createComponent($tabPanel, TabPanel, tabPanelOptions);\r\n        $($container).parent().addClass(FIELD_ITEM_CONTENT_HAS_TABS_CLASS);\r\n        tabPanel.on(\"optionChanged\", e => {\r\n            if (\"dataSource\" === e.fullName) {\r\n                tryUpdateTabPanelInstance(e.value, e.component)\r\n            }\r\n        });\r\n        tryUpdateTabPanelInstance([{\r\n            guid: item.guid\r\n        }, ...item.tabs], tabPanel)\r\n    },\r\n    _itemGroupTemplate: function(item, e, $container) {\r\n        var $group = $(\"<div>\").toggleClass(FORM_GROUP_WITH_CAPTION_CLASS, isDefined(item.caption) && item.caption.length).addClass(FORM_GROUP_CLASS).appendTo($container);\r\n        $($container).parent().addClass(FIELD_ITEM_CONTENT_HAS_GROUP_CLASS);\r\n        var colCount;\r\n        var layoutManager;\r\n        if (item.caption) {\r\n            $(\"<span>\").addClass(FORM_GROUP_CAPTION_CLASS).text(item.caption).appendTo($group)\r\n        }\r\n        var $groupContent = $(\"<div>\").addClass(FORM_GROUP_CONTENT_CLASS).appendTo($group);\r\n        if (item.groupContentTemplate) {\r\n            item._renderGroupContentTemplate = () => {\r\n                $groupContent.empty();\r\n                var data = {\r\n                    formData: this.option(\"formData\"),\r\n                    component: this\r\n                };\r\n                item.groupContentTemplate.render({\r\n                    model: data,\r\n                    container: getPublicElement($groupContent)\r\n                })\r\n            };\r\n            item._renderGroupContentTemplate()\r\n        } else {\r\n            layoutManager = this._renderLayoutManager($groupContent, this._createLayoutManagerOptions(this._tryGetItemsForTemplate(item), {\r\n                colCount: item.colCount,\r\n                colCountByScreen: item.colCountByScreen,\r\n                alignItemLabels: item.alignItemLabels,\r\n                cssItemClass: item.cssItemClass\r\n            }));\r\n            this._itemsRunTimeInfo && this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(item.guid, {\r\n                layoutManager: layoutManager\r\n            });\r\n            colCount = layoutManager._getColCount();\r\n            if (-1 === inArray(colCount, this._groupsColCount)) {\r\n                this._groupsColCount.push(colCount)\r\n            }\r\n            $group.addClass(GROUP_COL_COUNT_CLASS + colCount);\r\n            $group.attr(GROUP_COL_COUNT_ATTR, colCount)\r\n        }\r\n    },\r\n    _createLayoutManagerOptions: function(items, extendedLayoutManagerOptions) {\r\n        return convertToLayoutManagerOptions({\r\n            form: this,\r\n            formOptions: this.option(),\r\n            $formElement: this.$element(),\r\n            items: items,\r\n            validationGroup: this._getValidationGroup(),\r\n            extendedLayoutManagerOptions: extendedLayoutManagerOptions,\r\n            onFieldDataChanged: args => {\r\n                if (!this._isDataUpdating) {\r\n                    this._triggerOnFieldDataChanged(args)\r\n                }\r\n            },\r\n            onContentReady: args => {\r\n                this._itemsRunTimeInfo.addItemsOrExtendFrom(args.component._itemsRunTimeInfo);\r\n                extendedLayoutManagerOptions.onContentReady && extendedLayoutManagerOptions.onContentReady(args)\r\n            },\r\n            onDisposing: _ref2 => {\r\n                var {\r\n                    component: component\r\n                } = _ref2;\r\n                var nestedItemsRunTimeInfo = component.getItemsRunTimeInfo();\r\n                this._itemsRunTimeInfo.removeItemsByItems(nestedItemsRunTimeInfo)\r\n            },\r\n            onFieldItemRendered: () => {\r\n                var _this$_validationSumm;\r\n                null === (_this$_validationSumm = this._validationSummary) || void 0 === _this$_validationSumm ? void 0 : _this$_validationSumm._initGroupRegistration()\r\n            }\r\n        })\r\n    },\r\n    _renderLayoutManager: function($parent, layoutManagerOptions) {\r\n        var baseColCountByScreen = {\r\n            lg: layoutManagerOptions.colCount,\r\n            md: layoutManagerOptions.colCount,\r\n            sm: layoutManagerOptions.colCount,\r\n            xs: 1\r\n        };\r\n        this._cachedColCountOptions.push({\r\n            colCountByScreen: extend(baseColCountByScreen, layoutManagerOptions.colCountByScreen)\r\n        });\r\n        var $element = $(\"<div>\");\r\n        $element.appendTo($parent);\r\n        var instance = this._createComponent($element, \"dxLayoutManager\", layoutManagerOptions);\r\n        instance.on(\"autoColCountChanged\", () => {\r\n            this._clearAutoColCountChangedTimeout();\r\n            this.autoColCountChangedTimeoutId = setTimeout(() => !this._disposed && this._refresh(), 0)\r\n        });\r\n        this._cachedLayoutManagers.push(instance);\r\n        return instance\r\n    },\r\n    _getValidationGroup: function() {\r\n        return this.option(\"validationGroup\") || this\r\n    },\r\n    _createComponent: function($element, type, config) {\r\n        config = config || {};\r\n        this._extendConfig(config, {\r\n            readOnly: this.option(\"readOnly\")\r\n        });\r\n        return this.callBase($element, type, config)\r\n    },\r\n    _attachSyncSubscriptions: function() {\r\n        var that = this;\r\n        that.on(\"optionChanged\", (function(args) {\r\n            var optionFullName = args.fullName;\r\n            if (\"formData\" === optionFullName) {\r\n                if (!isDefined(args.value)) {\r\n                    that._options.silent(\"formData\", args.value = {})\r\n                }\r\n                that._triggerOnFieldDataChangedByDataSet(args.value)\r\n            }\r\n            if (that._cachedLayoutManagers.length) {\r\n                each(that._cachedLayoutManagers, (function(index, layoutManager) {\r\n                    if (\"formData\" === optionFullName) {\r\n                        that._isDataUpdating = true;\r\n                        layoutManager.option(\"layoutData\", args.value);\r\n                        that._isDataUpdating = false\r\n                    }\r\n                    if (\"readOnly\" === args.name || \"disabled\" === args.name) {\r\n                        layoutManager.option(optionFullName, args.value)\r\n                    }\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _optionChanged: function(args) {\r\n        var splitFullName = args.fullName.split(\".\");\r\n        if (splitFullName.length > 1 && -1 !== splitFullName[0].search(\"items\") && this._itemsOptionChangedHandler(args)) {\r\n            return\r\n        }\r\n        if (splitFullName.length > 1 && -1 !== splitFullName[0].search(\"formData\") && this._formDataOptionChangedHandler(args)) {\r\n            return\r\n        }\r\n        this._defaultOptionChangedHandler(args)\r\n    },\r\n    _defaultOptionChangedHandler: function(args) {\r\n        switch (args.name) {\r\n            case \"formData\":\r\n                if (!this.option(\"items\")) {\r\n                    this._invalidate()\r\n                } else if (isEmptyObject(args.value)) {\r\n                    this._resetValues()\r\n                }\r\n                break;\r\n            case \"onFieldDataChanged\":\r\n                break;\r\n            case \"items\":\r\n            case \"colCount\":\r\n            case \"onEditorEnterKey\":\r\n            case \"labelLocation\":\r\n            case \"labelMode\":\r\n            case \"alignItemLabels\":\r\n            case \"showColonAfterLabel\":\r\n            case \"customizeItem\":\r\n            case \"alignItemLabelsInAllGroups\":\r\n            case \"showRequiredMark\":\r\n            case \"showOptionalMark\":\r\n            case \"requiredMark\":\r\n            case \"optionalMark\":\r\n            case \"requiredMessage\":\r\n            case \"scrollingEnabled\":\r\n            case \"formID\":\r\n            case \"colCountByScreen\":\r\n            case \"screenByWidth\":\r\n            case \"stylingMode\":\r\n                this._invalidate();\r\n                break;\r\n            case \"showValidationSummary\":\r\n                this._renderValidationSummary();\r\n                break;\r\n            case \"minColWidth\":\r\n                if (\"auto\" === this.option(\"colCount\")) {\r\n                    this._invalidate()\r\n                }\r\n                break;\r\n            case \"alignRootItemLabels\":\r\n            case \"readOnly\":\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._rootLayoutManager.option(args.name, args.value);\r\n                this._alignLabels(this._rootLayoutManager, this._rootLayoutManager.isSingleColumnMode());\r\n                break;\r\n            case \"visible\":\r\n                this.callBase(args);\r\n                if (args.value) {\r\n                    triggerShownEvent(this.$element())\r\n                }\r\n                break;\r\n            case \"validationGroup\":\r\n                ValidationEngine.removeGroup(args.previousValue || this);\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _itemsOptionChangedHandler: function(args) {\r\n        var nameParts = args.fullName.split(\".\");\r\n        var value = args.value;\r\n        var itemPath = this._getItemPath(nameParts);\r\n        var item = this.option(itemPath);\r\n        var optionNameWithoutPath = args.fullName.replace(itemPath + \".\", \"\");\r\n        var simpleOptionName = optionNameWithoutPath.split(\".\")[0].replace(/\\[\\d+]/, \"\");\r\n        var itemAction = this._tryCreateItemOptionAction(simpleOptionName, item, item[simpleOptionName], args.previousValue, itemPath);\r\n        var result = this._tryExecuteItemOptionAction(itemAction) || this._tryChangeLayoutManagerItemOption(args.fullName, value);\r\n        if (!result && item) {\r\n            this._changeItemOption(item, optionNameWithoutPath, value);\r\n            var items = this._generateItemsFromData(this.option(\"items\"));\r\n            this.option(\"items\", items);\r\n            result = true\r\n        }\r\n        return result\r\n    },\r\n    _formDataOptionChangedHandler: function(args) {\r\n        var nameParts = args.fullName.split(\".\");\r\n        var value = args.value;\r\n        var dataField = nameParts.slice(1).join(\".\");\r\n        var editor = this.getEditor(dataField);\r\n        if (editor) {\r\n            editor.option(\"value\", value)\r\n        } else {\r\n            this._triggerOnFieldDataChanged({\r\n                dataField: dataField,\r\n                value: value\r\n            })\r\n        }\r\n        return true\r\n    },\r\n    _tryCreateItemOptionAction: function(optionName, item, value, previousValue, itemPath) {\r\n        if (\"tabs\" === optionName) {\r\n            this._itemsRunTimeInfo.removeItemsByPathStartWith(\"\".concat(itemPath, \".tabs\"));\r\n            value = this._prepareItems(value, true, itemPath, true)\r\n        }\r\n        return tryCreateItemOptionAction(optionName, {\r\n            item: item,\r\n            value: value,\r\n            previousValue: previousValue,\r\n            itemsRunTimeInfo: this._itemsRunTimeInfo\r\n        })\r\n    },\r\n    _tryExecuteItemOptionAction: function(action) {\r\n        return action && action.tryExecute()\r\n    },\r\n    _updateValidationGroupAndSummaryIfNeeded: function(fullName) {\r\n        var optionName = getOptionNameFromFullName(fullName);\r\n        if (ITEM_OPTIONS_FOR_VALIDATION_UPDATING.indexOf(optionName) > -1) {\r\n            ValidationEngine.addGroup(this._getValidationGroup());\r\n            if (this.option(\"showValidationSummary\")) {\r\n                var _this$_validationSumm2;\r\n                null === (_this$_validationSumm2 = this._validationSummary) || void 0 === _this$_validationSumm2 ? void 0 : _this$_validationSumm2._initGroupRegistration()\r\n            }\r\n        }\r\n    },\r\n    _setLayoutManagerItemOption(layoutManager, optionName, value, path) {\r\n        if (this._updateLockCount > 0) {\r\n            !layoutManager._updateLockCount && layoutManager.beginUpdate();\r\n            var key = this._itemsRunTimeInfo.findKeyByPath(path);\r\n            this.postponedOperations.add(key, () => {\r\n                !layoutManager._disposed && layoutManager.endUpdate();\r\n                return (new Deferred).resolve()\r\n            })\r\n        }\r\n        var contentReadyHandler = e => {\r\n            e.component.off(\"contentReady\", contentReadyHandler);\r\n            if (isFullPathContainsTabs(path)) {\r\n                var tabPath = tryGetTabPath(path);\r\n                var tabLayoutManager = this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(tabPath);\r\n                if (tabLayoutManager) {\r\n                    this._alignLabelsInColumn({\r\n                        items: tabLayoutManager.option(\"items\"),\r\n                        layoutManager: tabLayoutManager,\r\n                        $container: tabLayoutManager.$element(),\r\n                        inOneColumn: tabLayoutManager.isSingleColumnMode()\r\n                    })\r\n                }\r\n            } else {\r\n                this._alignLabels(this._rootLayoutManager, this._rootLayoutManager.isSingleColumnMode())\r\n            }\r\n        };\r\n        layoutManager.on(\"contentReady\", contentReadyHandler);\r\n        layoutManager.option(optionName, value);\r\n        this._updateValidationGroupAndSummaryIfNeeded(optionName)\r\n    },\r\n    _tryChangeLayoutManagerItemOption(fullName, value) {\r\n        var nameParts = fullName.split(\".\");\r\n        var optionName = getOptionNameFromFullName(fullName);\r\n        if (\"items\" === optionName && nameParts.length > 1) {\r\n            var itemPath = this._getItemPath(nameParts);\r\n            var layoutManager = this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(itemPath);\r\n            if (layoutManager) {\r\n                this._itemsRunTimeInfo.removeItemsByItems(layoutManager.getItemsRunTimeInfo());\r\n                var items = this._prepareItems(value, false, itemPath);\r\n                this._setLayoutManagerItemOption(layoutManager, optionName, items, itemPath);\r\n                return true\r\n            }\r\n        } else if (nameParts.length > 2) {\r\n            var endPartIndex = nameParts.length - 2;\r\n            var _itemPath = this._getItemPath(nameParts.slice(0, endPartIndex));\r\n            var _layoutManager = this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(_itemPath);\r\n            if (_layoutManager) {\r\n                var fullOptionName = getFullOptionName(nameParts[endPartIndex], optionName);\r\n                if (\"editorType\" === optionName) {\r\n                    if (_layoutManager.option(fullOptionName) !== value) {\r\n                        return false\r\n                    }\r\n                }\r\n                if (\"visible\" === optionName) {\r\n                    var formItems = this.option(getFullOptionName(_itemPath, \"items\"));\r\n                    if (formItems && formItems.length) {\r\n                        var layoutManagerItems = _layoutManager.option(\"items\");\r\n                        formItems.forEach((item, index) => {\r\n                            var layoutItem = layoutManagerItems[index];\r\n                            layoutItem.visibleIndex = item.visibleIndex\r\n                        })\r\n                    }\r\n                }\r\n                this._setLayoutManagerItemOption(_layoutManager, fullOptionName, value, _itemPath);\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _tryChangeLayoutManagerItemOptions(itemPath, options) {\r\n        var result;\r\n        this.beginUpdate();\r\n        each(options, (optionName, optionValue) => {\r\n            result = this._tryChangeLayoutManagerItemOption(getFullOptionName(itemPath, optionName), optionValue);\r\n            if (!result) {\r\n                return false\r\n            }\r\n        });\r\n        this.endUpdate();\r\n        return result\r\n    },\r\n    _getItemPath: function(nameParts) {\r\n        var itemPath = nameParts[0];\r\n        var i;\r\n        for (i = 1; i < nameParts.length; i++) {\r\n            if (-1 !== nameParts[i].search(/items\\[\\d+]|tabs\\[\\d+]/)) {\r\n                itemPath += \".\" + nameParts[i]\r\n            } else {\r\n                break\r\n            }\r\n        }\r\n        return itemPath\r\n    },\r\n    _triggerOnFieldDataChanged: function(args) {\r\n        this._createActionByOption(\"onFieldDataChanged\")(args)\r\n    },\r\n    _triggerOnFieldDataChangedByDataSet: function(data) {\r\n        var that = this;\r\n        if (data && isObject(data)) {\r\n            each(data, (function(dataField, value) {\r\n                that._triggerOnFieldDataChanged({\r\n                    dataField: dataField,\r\n                    value: value\r\n                })\r\n            }))\r\n        }\r\n    },\r\n    _updateFieldValue: function(dataField, value) {\r\n        if (isDefined(this.option(\"formData\"))) {\r\n            var editor = this.getEditor(dataField);\r\n            this.option(\"formData.\" + dataField, value);\r\n            if (editor) {\r\n                var editorValue = editor.option(\"value\");\r\n                if (editorValue !== value) {\r\n                    editor.option(\"value\", value)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _generateItemsFromData: function(items) {\r\n        var formData = this.option(\"formData\");\r\n        var result = [];\r\n        if (!items && isDefined(formData)) {\r\n            each(formData, (function(dataField) {\r\n                result.push({\r\n                    dataField: dataField\r\n                })\r\n            }))\r\n        }\r\n        if (items) {\r\n            each(items, (function(index, item) {\r\n                if (isObject(item)) {\r\n                    result.push(item)\r\n                } else {\r\n                    result.push({\r\n                        dataField: item\r\n                    })\r\n                }\r\n            }))\r\n        }\r\n        return result\r\n    },\r\n    _getItemByField: function(field, items) {\r\n        var that = this;\r\n        var fieldParts = isObject(field) ? field : that._getFieldParts(field);\r\n        var fieldName = fieldParts.fieldName;\r\n        var fieldPath = fieldParts.fieldPath;\r\n        var resultItem;\r\n        if (items.length) {\r\n            each(items, (function(index, item) {\r\n                var itemType = item.itemType;\r\n                if (fieldPath.length) {\r\n                    var path = fieldPath.slice();\r\n                    item = that._getItemByFieldPath(path, fieldName, item)\r\n                } else if (\"group\" === itemType && !(item.caption || item.name) || \"tabbed\" === itemType && !item.name) {\r\n                    var subItemsField = that._getSubItemField(itemType);\r\n                    item.items = that._generateItemsFromData(item.items);\r\n                    item = that._getItemByField({\r\n                        fieldName: fieldName,\r\n                        fieldPath: fieldPath\r\n                    }, item[subItemsField])\r\n                }\r\n                if (isEqualToDataFieldOrNameOrTitleOrCaption(item, fieldName)) {\r\n                    resultItem = item;\r\n                    return false\r\n                }\r\n            }))\r\n        }\r\n        return resultItem\r\n    },\r\n    _getFieldParts: function(field) {\r\n        var fieldName = field;\r\n        var separatorIndex = fieldName.indexOf(\".\");\r\n        var resultPath = [];\r\n        while (-1 !== separatorIndex) {\r\n            resultPath.push(fieldName.substr(0, separatorIndex));\r\n            fieldName = fieldName.substr(separatorIndex + 1);\r\n            separatorIndex = fieldName.indexOf(\".\")\r\n        }\r\n        return {\r\n            fieldName: fieldName,\r\n            fieldPath: resultPath.reverse()\r\n        }\r\n    },\r\n    _getItemByFieldPath: function(path, fieldName, item) {\r\n        var itemType = item.itemType;\r\n        var subItemsField = this._getSubItemField(itemType);\r\n        var isItemWithSubItems = \"group\" === itemType || \"tabbed\" === itemType || item.title;\r\n        var result;\r\n        do {\r\n            if (isItemWithSubItems) {\r\n                var name = item.name || item.caption || item.title;\r\n                var isGroupWithName = isDefined(name);\r\n                var nameWithoutSpaces = getTextWithoutSpaces(name);\r\n                var pathNode = void 0;\r\n                item[subItemsField] = this._generateItemsFromData(item[subItemsField]);\r\n                if (isGroupWithName) {\r\n                    pathNode = path.pop()\r\n                }\r\n                if (!path.length) {\r\n                    result = this._getItemByField(fieldName, item[subItemsField]);\r\n                    if (result) {\r\n                        break\r\n                    }\r\n                }\r\n                if (!isGroupWithName || isGroupWithName && nameWithoutSpaces === pathNode) {\r\n                    if (path.length) {\r\n                        result = this._searchItemInEverySubItem(path, fieldName, item[subItemsField])\r\n                    }\r\n                }\r\n            } else {\r\n                break\r\n            }\r\n        } while (path.length && !isDefined(result));\r\n        return result\r\n    },\r\n    _getSubItemField: function(itemType) {\r\n        return \"tabbed\" === itemType ? \"tabs\" : \"items\"\r\n    },\r\n    _searchItemInEverySubItem: function(path, fieldName, items) {\r\n        var that = this;\r\n        var result;\r\n        each(items, (function(index, groupItem) {\r\n            result = that._getItemByFieldPath(path.slice(), fieldName, groupItem);\r\n            if (result) {\r\n                return false\r\n            }\r\n        }));\r\n        if (!result) {\r\n            result = false\r\n        }\r\n        return result\r\n    },\r\n    _changeItemOption: function(item, option, value) {\r\n        if (isObject(item)) {\r\n            item[option] = value\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        var currentScreenFactor = this._getCurrentScreenFactor();\r\n        if (this._lastMarkupScreenFactor !== currentScreenFactor) {\r\n            if (this._isColCountChanged(this._lastMarkupScreenFactor, currentScreenFactor)) {\r\n                this._targetScreenFactor = currentScreenFactor;\r\n                this._refresh();\r\n                this._targetScreenFactor = void 0\r\n            }\r\n            this._lastMarkupScreenFactor = currentScreenFactor\r\n        }\r\n    },\r\n    _isColCountChanged: function(oldScreenSize, newScreenSize) {\r\n        var isChanged = false;\r\n        each(this._cachedColCountOptions, (function(index, item) {\r\n            if (item.colCountByScreen[oldScreenSize] !== item.colCountByScreen[newScreenSize]) {\r\n                isChanged = true;\r\n                return false\r\n            }\r\n        }));\r\n        return isChanged\r\n    },\r\n    _refresh: function() {\r\n        var editorSelector = \".\" + FOCUSED_STATE_CLASS + \" input, .\" + FOCUSED_STATE_CLASS + \" textarea\";\r\n        eventsEngine.trigger(this.$element().find(editorSelector), \"change\");\r\n        this.callBase()\r\n    },\r\n    _resetValues: function() {\r\n        this._itemsRunTimeInfo.each((function(_, itemRunTimeInfo) {\r\n            if (isDefined(itemRunTimeInfo.widgetInstance) && Editor.isEditor(itemRunTimeInfo.widgetInstance)) {\r\n                itemRunTimeInfo.widgetInstance.reset();\r\n                itemRunTimeInfo.widgetInstance.option(\"isValid\", true)\r\n            }\r\n        }));\r\n        ValidationEngine.resetGroup(this._getValidationGroup())\r\n    },\r\n    _updateData: function(data, value, isComplexData) {\r\n        var that = this;\r\n        var _data = isComplexData ? value : data;\r\n        if (isObject(_data)) {\r\n            each(_data, (function(dataField, fieldValue) {\r\n                that._updateData(isComplexData ? data + \".\" + dataField : dataField, fieldValue, isObject(fieldValue))\r\n            }))\r\n        } else if (isString(data)) {\r\n            that._updateFieldValue(data, value)\r\n        }\r\n    },\r\n    registerKeyHandler: function(key, handler) {\r\n        this.callBase(key, handler);\r\n        this._itemsRunTimeInfo.each((function(_, itemRunTimeInfo) {\r\n            if (isDefined(itemRunTimeInfo.widgetInstance)) {\r\n                itemRunTimeInfo.widgetInstance.registerKeyHandler(key, handler)\r\n            }\r\n        }))\r\n    },\r\n    _focusTarget: function() {\r\n        return this.$element().find(\".\" + FIELD_ITEM_CONTENT_CLASS + \" [tabindex]\").first()\r\n    },\r\n    _visibilityChanged: function() {},\r\n    _clearAutoColCountChangedTimeout: function() {\r\n        if (this.autoColCountChangedTimeoutId) {\r\n            clearTimeout(this.autoColCountChangedTimeoutId);\r\n            this.autoColCountChangedTimeoutId = void 0\r\n        }\r\n    },\r\n    _dispose: function() {\r\n        this._clearAutoColCountChangedTimeout();\r\n        ValidationEngine.removeGroup(this._getValidationGroup());\r\n        this.callBase()\r\n    },\r\n    resetValues: function() {\r\n        this._resetValues()\r\n    },\r\n    updateData: function(data, value) {\r\n        this._updateData(data, value)\r\n    },\r\n    getEditor: function(dataField) {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByDataField(dataField) || this._itemsRunTimeInfo.findWidgetInstanceByName(dataField)\r\n    },\r\n    getButton: function(name) {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByName(name)\r\n    },\r\n    updateDimensions: function() {\r\n        var that = this;\r\n        var deferred = new Deferred;\r\n        if (that._scrollable) {\r\n            that._scrollable.update().done((function() {\r\n                deferred.resolveWith(that)\r\n            }))\r\n        } else {\r\n            deferred.resolveWith(that)\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    itemOption: function(id, option, value) {\r\n        var items = this._generateItemsFromData(this.option(\"items\"));\r\n        var item = this._getItemByField(id, items);\r\n        var path = getItemPath(items, item);\r\n        if (!item) {\r\n            return\r\n        }\r\n        switch (arguments.length) {\r\n            case 1:\r\n                return item;\r\n            case 3:\r\n                var itemAction = this._tryCreateItemOptionAction(option, item, value, item[option], path);\r\n                this._changeItemOption(item, option, value);\r\n                var fullName = getFullOptionName(path, option);\r\n                if (!this._tryExecuteItemOptionAction(itemAction) && !this._tryChangeLayoutManagerItemOption(fullName, value)) {\r\n                    this.option(\"items\", items)\r\n                }\r\n                break;\r\n            default:\r\n                if (isObject(option)) {\r\n                    if (!this._tryChangeLayoutManagerItemOptions(path, option)) {\r\n                        var allowUpdateItems;\r\n                        each(option, (optionName, optionValue) => {\r\n                            var itemAction = this._tryCreateItemOptionAction(optionName, item, optionValue, item[optionName], path);\r\n                            this._changeItemOption(item, optionName, optionValue);\r\n                            if (!allowUpdateItems && !this._tryExecuteItemOptionAction(itemAction)) {\r\n                                allowUpdateItems = true\r\n                            }\r\n                        });\r\n                        allowUpdateItems && this.option(\"items\", items)\r\n                    }\r\n                }\r\n        }\r\n    },\r\n    validate: function() {\r\n        return ValidationEngine.validateGroup(this._getValidationGroup())\r\n    },\r\n    getItemID: function(name) {\r\n        return \"dx_\" + this.option(\"formID\") + \"_\" + (name || new Guid)\r\n    },\r\n    getTargetScreenFactor: function() {\r\n        return this._targetScreenFactor\r\n    }\r\n});\r\nregisterComponent(\"dxForm\", Form);\r\nexport default Form;\r\n","/**\r\n * DevExtreme (esm/ui/form.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Form from \"./form/ui.form\";\r\nexport default Form;\r\n","/**\r\n * DevExtreme (esm/ui/number_box/utils.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    adjust\r\n} from \"../../core/utils/math\";\r\nvar getRealSeparatorIndex = function(str) {\r\n    var quoteBalance = 0;\r\n    var separatorCount = 0;\r\n    for (var i = 0; i < str.length; ++i) {\r\n        if (\"'\" === str[i]) {\r\n            quoteBalance++\r\n        }\r\n        if (\".\" === str[i]) {\r\n            ++separatorCount;\r\n            if (quoteBalance % 2 === 0) {\r\n                return {\r\n                    occurrence: separatorCount,\r\n                    index: i\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        occurrence: 1,\r\n        index: -1\r\n    }\r\n};\r\nvar getNthOccurrence = function(str, c, n) {\r\n    var i = -1;\r\n    while (n-- && i++ < str.length) {\r\n        i = str.indexOf(c, i)\r\n    }\r\n    return i\r\n};\r\nvar splitByIndex = function(str, index) {\r\n    if (-1 === index) {\r\n        return [str]\r\n    }\r\n    return [str.slice(0, index), str.slice(index + 1)]\r\n};\r\nvar adjustPercentValue = function(rawValue, precision) {\r\n    return rawValue && adjust(rawValue / 100, precision)\r\n};\r\nexport {\r\n    getRealSeparatorIndex,\r\n    getNthOccurrence,\r\n    splitByIndex,\r\n    adjustPercentValue\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/number_box/number_box.caret.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    fitIntoRange\r\n} from \"../../core/utils/math\";\r\nimport {\r\n    escapeRegExp\r\n} from \"../../core/utils/common\";\r\nimport number from \"../../localization/number\";\r\nimport {\r\n    getRealSeparatorIndex,\r\n    getNthOccurrence,\r\n    splitByIndex\r\n} from \"./utils\";\r\nexport var getCaretBoundaries = function(text, format) {\r\n    if (\"string\" === typeof format) {\r\n        var signParts = format.split(\";\");\r\n        var sign = number.getSign(text, format);\r\n        signParts[1] = signParts[1] || \"-\" + signParts[0];\r\n        format = signParts[sign < 0 ? 1 : 0];\r\n        format = (str = format, str.replace(/'([^']*)'/g, str => str.split(\"\").map(() => \" \").join(\"\").substr(2)));\r\n        var prefixStubLength = /^[^#0.,]*/.exec(format)[0].length;\r\n        var postfixStubLength = /[^#0.,]*$/.exec(format)[0].length;\r\n        return {\r\n            start: prefixStubLength,\r\n            end: text.length - postfixStubLength\r\n        }\r\n    } else {\r\n        return {\r\n            start: 0,\r\n            end: text.length\r\n        }\r\n    }\r\n    var str\r\n};\r\nvar _getDigitCountBeforeIndex = function(index, text) {\r\n    var decimalSeparator = number.getDecimalSeparator();\r\n    var regExp = new RegExp(\"[^0-9\" + escapeRegExp(decimalSeparator) + \"]\", \"g\");\r\n    var textBeforePosition = text.slice(0, index);\r\n    return textBeforePosition.replace(regExp, \"\").length\r\n};\r\nvar _reverseText = function(text) {\r\n    return text.split(\"\").reverse().join(\"\")\r\n};\r\nvar _getDigitPositionByIndex = function(digitIndex, text) {\r\n    if (!digitIndex) {\r\n        return -1\r\n    }\r\n    var regExp = /[0-9]/g;\r\n    var counter = 1;\r\n    var index = null;\r\n    var result = regExp.exec(text);\r\n    while (result) {\r\n        index = result.index;\r\n        if (counter >= digitIndex) {\r\n            return index\r\n        }\r\n        counter++;\r\n        result = regExp.exec(text)\r\n    }\r\n    return null === index ? text.length : index\r\n};\r\nvar _trimNonNumericCharsFromEnd = function(text) {\r\n    return text.replace(/[^0-9e]+$/, \"\")\r\n};\r\nexport var getCaretWithOffset = function(caret, offset) {\r\n    if (void 0 === caret.start) {\r\n        caret = {\r\n            start: caret,\r\n            end: caret\r\n        }\r\n    }\r\n    return {\r\n        start: caret.start + offset,\r\n        end: caret.end + offset\r\n    }\r\n};\r\nexport var getCaretAfterFormat = function(text, formatted, caret, format) {\r\n    caret = getCaretWithOffset(caret, 0);\r\n    var point = number.getDecimalSeparator();\r\n    var isSeparatorBasedText = isSeparatorBasedString(text);\r\n    var realSeparatorOccurrenceIndex = getRealSeparatorIndex(format).occurrence;\r\n    var pointPosition = isSeparatorBasedText ? 0 : getNthOccurrence(text, point, realSeparatorOccurrenceIndex);\r\n    var newPointPosition = getNthOccurrence(formatted, point, realSeparatorOccurrenceIndex);\r\n    var textParts = splitByIndex(text, pointPosition);\r\n    var formattedParts = splitByIndex(formatted, newPointPosition);\r\n    var isCaretOnFloat = -1 !== pointPosition && caret.start > pointPosition;\r\n    if (isCaretOnFloat) {\r\n        var relativeIndex = caret.start - pointPosition - 1;\r\n        var digitsBefore = _getDigitCountBeforeIndex(relativeIndex, textParts[1]);\r\n        var newPosition = formattedParts[1] ? newPointPosition + 1 + _getDigitPositionByIndex(digitsBefore, formattedParts[1]) + 1 : formatted.length;\r\n        return getCaretInBoundaries(newPosition, formatted, format)\r\n    } else {\r\n        var formattedIntPart = _trimNonNumericCharsFromEnd(formattedParts[0]);\r\n        var positionFromEnd = textParts[0].length - caret.start;\r\n        var digitsFromEnd = _getDigitCountBeforeIndex(positionFromEnd, _reverseText(textParts[0]));\r\n        var newPositionFromEnd = _getDigitPositionByIndex(digitsFromEnd, _reverseText(formattedIntPart));\r\n        var newPositionFromBegin = formattedIntPart.length - (newPositionFromEnd + 1);\r\n        return getCaretInBoundaries(newPositionFromBegin, formatted, format)\r\n    }\r\n};\r\n\r\nfunction isSeparatorBasedString(text) {\r\n    return 1 === text.length && !!text.match(/^[,.][0-9]*$/g)\r\n}\r\nexport var isCaretInBoundaries = function(caret, text, format) {\r\n    caret = getCaretWithOffset(caret, 0);\r\n    var boundaries = getCaretInBoundaries(caret, text, format);\r\n    return caret.start >= boundaries.start && caret.end <= boundaries.end\r\n};\r\nexport function getCaretInBoundaries(caret, text, format) {\r\n    caret = getCaretWithOffset(caret, 0);\r\n    var boundaries = getCaretBoundaries(text, format);\r\n    var adjustedCaret = {\r\n        start: fitIntoRange(caret.start, boundaries.start, boundaries.end),\r\n        end: fitIntoRange(caret.end, boundaries.start, boundaries.end)\r\n    };\r\n    return adjustedCaret\r\n}\r\nexport var getCaretOffset = function(previousText, newText, format) {\r\n    var previousBoundaries = getCaretBoundaries(previousText, format);\r\n    var newBoundaries = getCaretBoundaries(newText, format);\r\n    return newBoundaries.start - previousBoundaries.start\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/number_box/number_box.spin.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    lock\r\n} from \"../../events/core/emitter.feedback\";\r\nimport holdEvent from \"../../events/hold\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar SPIN_CLASS = \"dx-numberbox-spin\";\r\nvar SPIN_BUTTON_CLASS = \"dx-numberbox-spin-button\";\r\nvar SPIN_HOLD_DELAY = 100;\r\nvar NUMBER_BOX = \"dxNumberBox\";\r\nvar POINTERUP_EVENT_NAME = addNamespace(pointerEvents.up, NUMBER_BOX);\r\nvar POINTERCANCEL_EVENT_NAME = addNamespace(pointerEvents.cancel, NUMBER_BOX);\r\nvar SpinButton = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            direction: \"up\",\r\n            onChange: null,\r\n            activeStateEnabled: true,\r\n            hoverStateEnabled: true\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        var direction = SPIN_CLASS + \"-\" + this.option(\"direction\");\r\n        this.$element().addClass(SPIN_BUTTON_CLASS).addClass(direction);\r\n        this._spinIcon = $(\"<div>\").addClass(direction + \"-icon\").appendTo(this.$element())\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        var eventName = addNamespace(pointerEvents.down, this.NAME);\r\n        var $element = this.$element();\r\n        eventsEngine.off($element, eventName);\r\n        eventsEngine.on($element, eventName, this._spinDownHandler.bind(this));\r\n        this._spinChangeHandler = this._createActionByOption(\"onChange\")\r\n    },\r\n    _spinDownHandler: function(e) {\r\n        e.preventDefault();\r\n        this._clearTimer();\r\n        eventsEngine.on(this.$element(), holdEvent.name, function() {\r\n            this._feedBackDeferred = new Deferred;\r\n            lock(this._feedBackDeferred);\r\n            this._spinChangeHandler({\r\n                event: e\r\n            });\r\n            this._holdTimer = setInterval(this._spinChangeHandler, SPIN_HOLD_DELAY, {\r\n                event: e\r\n            })\r\n        }.bind(this));\r\n        var document = domAdapter.getDocument();\r\n        eventsEngine.on(document, POINTERUP_EVENT_NAME, this._clearTimer.bind(this));\r\n        eventsEngine.on(document, POINTERCANCEL_EVENT_NAME, this._clearTimer.bind(this));\r\n        this._spinChangeHandler({\r\n            event: e\r\n        })\r\n    },\r\n    _dispose: function() {\r\n        this._clearTimer();\r\n        this.callBase()\r\n    },\r\n    _clearTimer: function() {\r\n        eventsEngine.off(this.$element(), holdEvent.name);\r\n        var document = domAdapter.getDocument();\r\n        eventsEngine.off(document, POINTERUP_EVENT_NAME);\r\n        eventsEngine.off(document, POINTERCANCEL_EVENT_NAME);\r\n        if (this._feedBackDeferred) {\r\n            this._feedBackDeferred.resolve()\r\n        }\r\n        if (this._holdTimer) {\r\n            clearInterval(this._holdTimer)\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"onChange\":\r\n            case \"direction\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport default SpinButton;\r\n","/**\r\n * DevExtreme (esm/ui/number_box/number_box.spins.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport TextEditorButton from \"../text_box/texteditor_button_collection/button\";\r\nimport SpinButton from \"./number_box.spin\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport pointer from \"../../events/pointer\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nvar SPIN_CLASS = \"dx-numberbox-spin\";\r\nvar SPIN_CONTAINER_CLASS = \"dx-numberbox-spin-container\";\r\nvar SPIN_TOUCH_FRIENDLY_CLASS = \"dx-numberbox-spin-touch-friendly\";\r\nexport default class SpinButtons extends TextEditorButton {\r\n    _attachEvents(instance, $spinContainer) {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        var eventName = addNamespace(pointer.down, editor.NAME);\r\n        var $spinContainerChildren = $spinContainer.children();\r\n        var pointerDownAction = editor._createAction(e => editor._spinButtonsPointerDownHandler(e));\r\n        eventsEngine.off($spinContainer, eventName);\r\n        eventsEngine.on($spinContainer, eventName, e => pointerDownAction({\r\n            event: e\r\n        }));\r\n        SpinButton.getInstance($spinContainerChildren.eq(0)).option(\"onChange\", e => editor._spinUpChangeHandler(e));\r\n        SpinButton.getInstance($spinContainerChildren.eq(1)).option(\"onChange\", e => editor._spinDownChangeHandler(e))\r\n    }\r\n    _create() {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        var $spinContainer = $(\"<div>\").addClass(SPIN_CONTAINER_CLASS);\r\n        var $spinUp = $(\"<div>\").appendTo($spinContainer);\r\n        var $spinDown = $(\"<div>\").appendTo($spinContainer);\r\n        var options = this._getOptions();\r\n        this._addToContainer($spinContainer);\r\n        editor._createComponent($spinUp, SpinButton, extend({\r\n            direction: \"up\"\r\n        }, options));\r\n        editor._createComponent($spinDown, SpinButton, extend({\r\n            direction: \"down\"\r\n        }, options));\r\n        this._legacyRender(editor.$element(), this._isTouchFriendly(), options.visible);\r\n        return {\r\n            instance: $spinContainer,\r\n            $element: $spinContainer\r\n        }\r\n    }\r\n    _getOptions() {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        var visible = this._isVisible();\r\n        var disabled = editor.option(\"disabled\");\r\n        return {\r\n            visible: visible,\r\n            disabled: disabled\r\n        }\r\n    }\r\n    _isVisible() {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        return super._isVisible() && editor.option(\"showSpinButtons\")\r\n    }\r\n    _isTouchFriendly() {\r\n        var {\r\n            editor: editor\r\n        } = this;\r\n        return editor.option(\"showSpinButtons\") && editor.option(\"useLargeSpinButtons\")\r\n    }\r\n    _legacyRender($editor, isTouchFriendly, isVisible) {\r\n        $editor.toggleClass(SPIN_TOUCH_FRIENDLY_CLASS, isTouchFriendly);\r\n        $editor.toggleClass(SPIN_CLASS, isVisible)\r\n    }\r\n    update() {\r\n        var shouldUpdate = super.update();\r\n        if (shouldUpdate) {\r\n            var {\r\n                editor: editor,\r\n                instance: instance\r\n            } = this;\r\n            var $editor = editor.$element();\r\n            var isVisible = this._isVisible();\r\n            var isTouchFriendly = this._isTouchFriendly();\r\n            var $spinButtons = instance.children();\r\n            var spinUp = SpinButton.getInstance($spinButtons.eq(0));\r\n            var spinDown = SpinButton.getInstance($spinButtons.eq(1));\r\n            var options = this._getOptions();\r\n            spinUp.option(options);\r\n            spinDown.option(options);\r\n            this._legacyRender($editor, isTouchFriendly, isVisible)\r\n        }\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/number_box/number_box.base.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    applyServerDecimalSeparator,\r\n    ensureDefined\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    fitIntoRange,\r\n    inRange\r\n} from \"../../core/utils/math\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport devices from \"../../core/devices\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport TextEditor from \"../text_box/ui.text_editor\";\r\nimport {\r\n    addNamespace,\r\n    getChar,\r\n    isCommandKeyPressed,\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport SpinButtons from \"./number_box.spins\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar math = Math;\r\nvar WIDGET_CLASS = \"dx-numberbox\";\r\nvar FIREFOX_CONTROL_KEYS = [\"tab\", \"del\", \"backspace\", \"leftArrow\", \"rightArrow\", \"home\", \"end\", \"enter\"];\r\nvar FORCE_VALUECHANGE_EVENT_NAMESPACE = \"NumberBoxForceValueChange\";\r\nvar NumberBoxBase = TextEditor.inherit({\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), {\r\n            upArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    this._spinUpChangeHandler(e)\r\n                }\r\n            },\r\n            downArrow: function(e) {\r\n                if (!isCommandKeyPressed(e)) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    this._spinDownChangeHandler(e)\r\n                }\r\n            },\r\n            enter: function() {}\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            value: 0,\r\n            min: void 0,\r\n            max: void 0,\r\n            step: 1,\r\n            showSpinButtons: false,\r\n            useLargeSpinButtons: true,\r\n            mode: \"text\",\r\n            invalidValueMessage: messageLocalization.format(\"dxNumberBox-invalidValueMessage\"),\r\n            buttons: void 0\r\n        })\r\n    },\r\n    _useTemplates: function() {\r\n        return false\r\n    },\r\n    _getDefaultButtons: function() {\r\n        return this.callBase().concat([{\r\n            name: \"spins\",\r\n            Ctor: SpinButtons\r\n        }])\r\n    },\r\n    _isSupportInputMode: function() {\r\n        var version = parseFloat(browser.version);\r\n        return browser.chrome && version >= 66 || browser.safari && version >= 12\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return devices.real().generic && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                useLargeSpinButtons: false\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" !== devices.real().deviceType && !this._isSupportInputMode()\r\n            }.bind(this),\r\n            options: {\r\n                mode: \"number\"\r\n            }\r\n        }])\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderSubmitElement();\r\n        this.$element().addClass(WIDGET_CLASS);\r\n        this.callBase()\r\n    },\r\n    _getDefaultAttributes: function() {\r\n        var attributes = this.callBase();\r\n        attributes.inputmode = \"decimal\";\r\n        return attributes\r\n    },\r\n    _renderContentImpl: function() {\r\n        this.option(\"isValid\") && this._validateValue(this.option(\"value\"));\r\n        this.setAria(\"role\", \"spinbutton\")\r\n    },\r\n    _renderSubmitElement: function() {\r\n        this._$submitElement = $(\"<input>\").attr(\"type\", \"hidden\").appendTo(this.$element());\r\n        this._setSubmitValue(this.option(\"value\"))\r\n    },\r\n    _setSubmitValue: function(value) {\r\n        this._getSubmitElement().val(applyServerDecimalSeparator(value))\r\n    },\r\n    _getSubmitElement: function() {\r\n        return this._$submitElement\r\n    },\r\n    _keyPressHandler: function(e) {\r\n        this.callBase(e);\r\n        var char = getChar(e);\r\n        var isInputCharValid = /[\\d.,eE\\-+]/.test(char);\r\n        if (!isInputCharValid) {\r\n            var keyName = normalizeKeyName(e);\r\n            if (isCommandKeyPressed(e) || keyName && inArray(keyName, FIREFOX_CONTROL_KEYS) >= 0) {\r\n                return\r\n            }\r\n            e.preventDefault();\r\n            return false\r\n        }\r\n        this._keyPressed = true\r\n    },\r\n    _onMouseWheel: function(dxEvent) {\r\n        dxEvent.delta > 0 ? this._spinValueChange(1, dxEvent) : this._spinValueChange(-1, dxEvent)\r\n    },\r\n    _renderValue: function() {\r\n        var inputValue = this._input().val();\r\n        var value = this.option(\"value\");\r\n        if (!inputValue.length || Number(inputValue) !== value) {\r\n            this._forceValueRender();\r\n            this._toggleEmptinessEventHandler()\r\n        }\r\n        var valueText = isDefined(value) ? null : messageLocalization.format(\"dxNumberBox-noDataText\");\r\n        this.setAria({\r\n            valuenow: ensureDefined(value, \"\"),\r\n            valuetext: valueText\r\n        });\r\n        this.option(\"text\", this._input().val());\r\n        this._updateButtons();\r\n        return (new Deferred).resolve()\r\n    },\r\n    _forceValueRender: function() {\r\n        var value = this.option(\"value\");\r\n        var number = Number(value);\r\n        var formattedValue = isNaN(number) ? \"\" : this._applyDisplayValueFormatter(value);\r\n        this._renderDisplayText(formattedValue)\r\n    },\r\n    _applyDisplayValueFormatter: function(value) {\r\n        return this.option(\"displayValueFormatter\")(value)\r\n    },\r\n    _renderProps: function() {\r\n        this.callBase();\r\n        this._input().prop({\r\n            min: this.option(\"min\"),\r\n            max: this.option(\"max\"),\r\n            step: this.option(\"step\")\r\n        });\r\n        this.setAria({\r\n            valuemin: ensureDefined(this.option(\"min\"), \"\"),\r\n            valuemax: ensureDefined(this.option(\"max\"), \"\")\r\n        })\r\n    },\r\n    _spinButtonsPointerDownHandler: function() {\r\n        var $input = this._input();\r\n        if (!this.option(\"useLargeSpinButtons\") && domAdapter.getActiveElement() !== $input[0]) {\r\n            eventsEngine.trigger($input, \"focus\")\r\n        }\r\n    },\r\n    _spinUpChangeHandler: function(e) {\r\n        if (!this.option(\"readOnly\")) {\r\n            this._spinValueChange(1, e.event || e)\r\n        }\r\n    },\r\n    _spinDownChangeHandler: function(e) {\r\n        if (!this.option(\"readOnly\")) {\r\n            this._spinValueChange(-1, e.event || e)\r\n        }\r\n    },\r\n    _spinValueChange: function(sign, dxEvent) {\r\n        var step = parseFloat(this.option(\"step\"));\r\n        if (0 === step) {\r\n            return\r\n        }\r\n        var value = parseFloat(this._normalizeInputValue()) || 0;\r\n        value = this._correctRounding(value, step * sign);\r\n        var min = this.option(\"min\");\r\n        var max = this.option(\"max\");\r\n        if (isDefined(min)) {\r\n            value = Math.max(min, value)\r\n        }\r\n        if (isDefined(max)) {\r\n            value = Math.min(max, value)\r\n        }\r\n        this._saveValueChangeEvent(dxEvent);\r\n        this.option(\"value\", value)\r\n    },\r\n    _correctRounding: function(value, step) {\r\n        var regex = /[,.](.*)/;\r\n        var isFloatValue = regex.test(value);\r\n        var isFloatStep = regex.test(step);\r\n        if (isFloatValue || isFloatStep) {\r\n            var valueAccuracy = isFloatValue ? regex.exec(value)[0].length : 0;\r\n            var stepAccuracy = isFloatStep ? regex.exec(step)[0].length : 0;\r\n            var accuracy = math.max(valueAccuracy, stepAccuracy);\r\n            value = this._round(value + step, accuracy);\r\n            return value\r\n        }\r\n        return value + step\r\n    },\r\n    _round: function(value, precision) {\r\n        precision = precision || 0;\r\n        var multiplier = Math.pow(10, precision);\r\n        value *= multiplier;\r\n        value = Math.round(value) / multiplier;\r\n        return value\r\n    },\r\n    _renderValueChangeEvent: function() {\r\n        this.callBase();\r\n        var forceValueChangeEvent = addNamespace(\"focusout\", FORCE_VALUECHANGE_EVENT_NAMESPACE);\r\n        eventsEngine.off(this.element(), forceValueChangeEvent);\r\n        eventsEngine.on(this.element(), forceValueChangeEvent, this._forceRefreshInputValue.bind(this))\r\n    },\r\n    _forceRefreshInputValue: function() {\r\n        if (\"number\" === this.option(\"mode\")) {\r\n            return\r\n        }\r\n        var $input = this._input();\r\n        var formattedValue = this._applyDisplayValueFormatter(this.option(\"value\"));\r\n        $input.val(null);\r\n        $input.val(formattedValue)\r\n    },\r\n    _valueChangeEventHandler: function(e) {\r\n        var $input = this._input();\r\n        var inputValue = this._normalizeText();\r\n        var value = this._parseValue(inputValue);\r\n        var valueHasDigits = \".\" !== inputValue && \"-\" !== inputValue;\r\n        if (this._isValueValid() && !this._validateValue(value)) {\r\n            $input.val(this._applyDisplayValueFormatter(value));\r\n            return\r\n        }\r\n        if (valueHasDigits) {\r\n            this.callBase(e, isNaN(value) ? null : value)\r\n        }\r\n        this._applyValueBoundaries(inputValue, value);\r\n        this.validationRequest.fire({\r\n            value: value,\r\n            editor: this\r\n        })\r\n    },\r\n    _applyValueBoundaries: function(inputValue, parsedValue) {\r\n        var isValueIncomplete = this._isValueIncomplete(inputValue);\r\n        var isValueCorrect = this._isValueInRange(inputValue);\r\n        if (!isValueIncomplete && !isValueCorrect && null !== parsedValue) {\r\n            if (Number(inputValue) !== parsedValue) {\r\n                this._input().val(this._applyDisplayValueFormatter(parsedValue))\r\n            }\r\n        }\r\n    },\r\n    _replaceCommaWithPoint: function(value) {\r\n        return value.replace(\",\", \".\")\r\n    },\r\n    _inputIsInvalid: function() {\r\n        var isNumberMode = \"number\" === this.option(\"mode\");\r\n        var validityState = this._input().get(0).validity;\r\n        return isNumberMode && validityState && validityState.badInput\r\n    },\r\n    _renderDisplayText: function(text) {\r\n        if (this._inputIsInvalid()) {\r\n            return\r\n        }\r\n        this.callBase(text)\r\n    },\r\n    _isValueIncomplete: function(value) {\r\n        return /(^-$)|(^-?\\d*\\.$)|(\\d+e-?$)/i.test(value)\r\n    },\r\n    _isValueInRange: function(value) {\r\n        return inRange(value, this.option(\"min\"), this.option(\"max\"))\r\n    },\r\n    _isNumber: function(value) {\r\n        return null !== this._parseValue(value)\r\n    },\r\n    _validateValue: function(value) {\r\n        var inputValue = this._normalizeText();\r\n        var isValueValid = this._isValueValid();\r\n        var isValid = true;\r\n        var isNumber = this._isNumber(inputValue);\r\n        if (isNaN(Number(value))) {\r\n            isValid = false\r\n        }\r\n        if (!value && isValueValid) {\r\n            isValid = true\r\n        } else if (!isNumber && !isValueValid) {\r\n            isValid = false\r\n        }\r\n        this.option({\r\n            isValid: isValid,\r\n            validationError: isValid ? null : {\r\n                editorSpecific: true,\r\n                message: this.option(\"invalidValueMessage\")\r\n            }\r\n        });\r\n        return isValid\r\n    },\r\n    _normalizeInputValue: function() {\r\n        return this._parseValue(this._normalizeText())\r\n    },\r\n    _normalizeText: function() {\r\n        var value = this._input().val().trim();\r\n        return this._replaceCommaWithPoint(value)\r\n    },\r\n    _parseValue: function(value) {\r\n        var number = parseFloat(value);\r\n        if (isNaN(number)) {\r\n            return null\r\n        }\r\n        return fitIntoRange(number, this.option(\"min\"), this.option(\"max\"))\r\n    },\r\n    _clearValue: function() {\r\n        if (this._inputIsInvalid()) {\r\n            this._input().val(\"\");\r\n            this._validateValue()\r\n        }\r\n        this.callBase()\r\n    },\r\n    reset: function() {\r\n        if (null === this.option(\"value\")) {\r\n            this.option(\"text\", \"\");\r\n            this._renderValue()\r\n        } else {\r\n            this.option(\"value\", null)\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"value\":\r\n                this._validateValue(args.value);\r\n                this._setSubmitValue(args.value);\r\n                this.callBase(args);\r\n                this._resumeValueChangeAction();\r\n                break;\r\n            case \"step\":\r\n                this._renderProps();\r\n                break;\r\n            case \"min\":\r\n            case \"max\":\r\n                this._renderProps();\r\n                this.option(\"value\", this._parseValue(this.option(\"value\")));\r\n                break;\r\n            case \"showSpinButtons\":\r\n            case \"useLargeSpinButtons\":\r\n                this._updateButtons([\"spins\"]);\r\n                break;\r\n            case \"invalidValueMessage\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport default NumberBoxBase;\r\n","/**\r\n * DevExtreme (esm/ui/number_box/number_box.mask.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isNumeric,\r\n    isDefined,\r\n    isFunction,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    fitIntoRange,\r\n    inRange\r\n} from \"../../core/utils/math\";\r\nimport number from \"../../localization/number\";\r\nimport {\r\n    getCaretWithOffset,\r\n    isCaretInBoundaries,\r\n    getCaretInBoundaries,\r\n    getCaretBoundaries,\r\n    getCaretAfterFormat,\r\n    getCaretOffset\r\n} from \"./number_box.caret\";\r\nimport {\r\n    getFormat as getLDMLFormat\r\n} from \"../../localization/ldml/number\";\r\nimport NumberBoxBase from \"./number_box.base\";\r\nimport {\r\n    addNamespace,\r\n    getChar,\r\n    normalizeKeyName,\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    ensureDefined,\r\n    escapeRegExp\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    getRealSeparatorIndex,\r\n    getNthOccurrence,\r\n    splitByIndex,\r\n    adjustPercentValue\r\n} from \"./utils\";\r\nvar NUMBER_FORMATTER_NAMESPACE = \"dxNumberFormatter\";\r\nvar MOVE_FORWARD = 1;\r\nvar MOVE_BACKWARD = -1;\r\nvar MINUS = \"-\";\r\nvar MINUS_KEY = \"minus\";\r\nvar INPUT_EVENT = \"input\";\r\nvar CARET_TIMEOUT_DURATION = 0;\r\nvar NumberBoxMask = NumberBoxBase.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            useMaskBehavior: true,\r\n            format: null\r\n        })\r\n    },\r\n    _isDeleteKey: function(key) {\r\n        return \"del\" === key\r\n    },\r\n    _supportedKeys: function() {\r\n        if (!this._useMaskBehavior()) {\r\n            return this.callBase()\r\n        }\r\n        return extend(this.callBase(), {\r\n            minus: this._revertSign.bind(this),\r\n            del: this._removeHandler.bind(this),\r\n            backspace: this._removeHandler.bind(this),\r\n            leftArrow: this._arrowHandler.bind(this, MOVE_BACKWARD),\r\n            rightArrow: this._arrowHandler.bind(this, MOVE_FORWARD),\r\n            home: this._moveCaretToBoundaryEventHandler.bind(this, MOVE_FORWARD),\r\n            enter: this._updateFormattedValue.bind(this),\r\n            end: this._moveCaretToBoundaryEventHandler.bind(this, MOVE_BACKWARD)\r\n        })\r\n    },\r\n    _getTextSeparatorIndex: function(text) {\r\n        var decimalSeparator = number.getDecimalSeparator();\r\n        var realSeparatorOccurrenceIndex = getRealSeparatorIndex(this.option(\"format\")).occurrence;\r\n        return getNthOccurrence(text, decimalSeparator, realSeparatorOccurrenceIndex)\r\n    },\r\n    _focusInHandler: function(e) {\r\n        if (!this._preventNestedFocusEvent(e)) {\r\n            this.clearCaretTimeout();\r\n            this._caretTimeout = setTimeout(function() {\r\n                this._caretTimeout = void 0;\r\n                var caret = this._caret();\r\n                if (caret.start === caret.end && this._useMaskBehavior()) {\r\n                    var text = this._getInputVal();\r\n                    var decimalSeparatorIndex = this._getTextSeparatorIndex(text);\r\n                    if (decimalSeparatorIndex >= 0) {\r\n                        this._caret({\r\n                            start: decimalSeparatorIndex,\r\n                            end: decimalSeparatorIndex\r\n                        })\r\n                    } else {\r\n                        this._moveCaretToBoundaryEventHandler(MOVE_BACKWARD, e)\r\n                    }\r\n                }\r\n            }.bind(this), CARET_TIMEOUT_DURATION)\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _focusOutHandler: function(e) {\r\n        var shouldHandleEvent = !this._preventNestedFocusEvent(e);\r\n        if (shouldHandleEvent) {\r\n            this._focusOutOccurs = true;\r\n            if (this._useMaskBehavior()) {\r\n                this._updateFormattedValue()\r\n            }\r\n        }\r\n        this.callBase(e);\r\n        if (shouldHandleEvent) {\r\n            this._focusOutOccurs = false\r\n        }\r\n    },\r\n    _hasValueBeenChanged(inputValue) {\r\n        var format = this._getFormatPattern();\r\n        var value = this.option(\"value\");\r\n        var formatted = this._format(value, format) || \"\";\r\n        return formatted !== inputValue\r\n    },\r\n    _updateFormattedValue: function() {\r\n        var inputValue = this._getInputVal();\r\n        if (this._hasValueBeenChanged(inputValue)) {\r\n            this._updateParsedValue();\r\n            this._adjustParsedValue();\r\n            this._setTextByParsedValue();\r\n            if (this._parsedValue !== this.option(\"value\")) {\r\n                eventsEngine.trigger(this._input(), \"change\")\r\n            }\r\n        }\r\n    },\r\n    _arrowHandler: function(step, e) {\r\n        if (!this._useMaskBehavior()) {\r\n            return\r\n        }\r\n        var text = this._getInputVal();\r\n        var format = this._getFormatPattern();\r\n        var nextCaret = getCaretWithOffset(this._caret(), step);\r\n        if (!isCaretInBoundaries(nextCaret, text, format)) {\r\n            nextCaret = step === MOVE_FORWARD ? nextCaret.end : nextCaret.start;\r\n            e.preventDefault();\r\n            this._caret(getCaretInBoundaries(nextCaret, text, format))\r\n        }\r\n    },\r\n    _moveCaretToBoundary: function(direction) {\r\n        var boundaries = getCaretBoundaries(this._getInputVal(), this._getFormatPattern());\r\n        var newCaret = getCaretWithOffset(direction === MOVE_FORWARD ? boundaries.start : boundaries.end, 0);\r\n        this._caret(newCaret)\r\n    },\r\n    _moveCaretToBoundaryEventHandler: function(direction, e) {\r\n        if (!this._useMaskBehavior() || e && e.shiftKey) {\r\n            return\r\n        }\r\n        this._moveCaretToBoundary(direction);\r\n        e && e.preventDefault()\r\n    },\r\n    _shouldMoveCaret: function(text, caret) {\r\n        var decimalSeparator = number.getDecimalSeparator();\r\n        var isDecimalSeparatorNext = text.charAt(caret.end) === decimalSeparator;\r\n        var moveToFloat = (this._lastKey === decimalSeparator || \".\" === this._lastKey) && isDecimalSeparatorNext;\r\n        return moveToFloat\r\n    },\r\n    _getInputVal: function() {\r\n        return number.convertDigits(this._input().val(), true)\r\n    },\r\n    _keyboardHandler: function(e) {\r\n        this.clearCaretTimeout();\r\n        this._lastKey = number.convertDigits(getChar(e), true);\r\n        this._lastKeyName = normalizeKeyName(e);\r\n        if (!this._shouldHandleKey(e.originalEvent)) {\r\n            return this.callBase(e)\r\n        }\r\n        var normalizedText = this._getInputVal();\r\n        var caret = this._caret();\r\n        var enteredChar = this._lastKeyName === MINUS_KEY ? \"\" : this._lastKey;\r\n        var newValue = this._tryParse(normalizedText, caret, enteredChar);\r\n        if (this._shouldMoveCaret(normalizedText, caret)) {\r\n            this._moveCaret(1);\r\n            e.originalEvent.preventDefault()\r\n        }\r\n        if (void 0 === newValue) {\r\n            if (this._lastKeyName !== MINUS_KEY) {\r\n                e.originalEvent.preventDefault()\r\n            }\r\n        } else {\r\n            this._parsedValue = newValue\r\n        }\r\n        return this.callBase(e)\r\n    },\r\n    _keyPressHandler: function(e) {\r\n        if (!this._useMaskBehavior()) {\r\n            this.callBase(e)\r\n        }\r\n    },\r\n    _removeHandler: function(e) {\r\n        var caret = this._caret();\r\n        var text = this._getInputVal();\r\n        var start = caret.start;\r\n        var end = caret.end;\r\n        this._lastKey = getChar(e);\r\n        this._lastKeyName = normalizeKeyName(e);\r\n        var isDeleteKey = this._isDeleteKey(this._lastKeyName);\r\n        var isBackspaceKey = !isDeleteKey;\r\n        if (start === end) {\r\n            var caretPosition = start;\r\n            var canDelete = isBackspaceKey && caretPosition > 0 || isDeleteKey && caretPosition < text.length;\r\n            if (canDelete) {\r\n                isDeleteKey && end++;\r\n                isBackspaceKey && start--\r\n            } else {\r\n                e.preventDefault();\r\n                return\r\n            }\r\n        }\r\n        var char = text.slice(start, end);\r\n        if (this._isStub(char)) {\r\n            this._moveCaret(isDeleteKey ? 1 : -1);\r\n            if (this._parsedValue < 0 || 1 / this._parsedValue === -1 / 0) {\r\n                this._revertSign(e);\r\n                this._setTextByParsedValue()\r\n            }\r\n            e.preventDefault();\r\n            return\r\n        }\r\n        var decimalSeparator = number.getDecimalSeparator();\r\n        if (char === decimalSeparator) {\r\n            var decimalSeparatorIndex = text.indexOf(decimalSeparator);\r\n            if (this._isNonStubAfter(decimalSeparatorIndex + 1)) {\r\n                this._moveCaret(isDeleteKey ? 1 : -1);\r\n                e.preventDefault()\r\n            }\r\n            return\r\n        }\r\n        if (end - start < text.length) {\r\n            var editedText = this._replaceSelectedText(text, {\r\n                start: start,\r\n                end: end\r\n            }, \"\");\r\n            var noDigits = editedText.search(/[0-9]/) < 0;\r\n            if (noDigits && this._isValueInRange(0)) {\r\n                this._parsedValue = this._parsedValue < 0 || 1 / this._parsedValue === -1 / 0 ? -0 : 0;\r\n                return\r\n            }\r\n        }\r\n        var valueAfterRemoving = this._tryParse(text, {\r\n            start: start,\r\n            end: end\r\n        }, \"\");\r\n        if (void 0 === valueAfterRemoving) {\r\n            e.preventDefault()\r\n        } else {\r\n            this._parsedValue = valueAfterRemoving\r\n        }\r\n    },\r\n    _isPercentFormat: function() {\r\n        var format = this._getFormatPattern();\r\n        var noEscapedFormat = format.replace(/'[^']+'/g, \"\");\r\n        return -1 !== noEscapedFormat.indexOf(\"%\")\r\n    },\r\n    _parse: function(text, format) {\r\n        var formatOption = this.option(\"format\");\r\n        var isCustomParser = isFunction(formatOption.parser);\r\n        var parser = isCustomParser ? formatOption.parser : number.parse;\r\n        var integerPartStartIndex = 0;\r\n        if (!isCustomParser) {\r\n            var formatPointIndex = getRealSeparatorIndex(format).index;\r\n            var textPointIndex = this._getTextSeparatorIndex(text);\r\n            var formatIntegerPartLength = -1 !== formatPointIndex ? formatPointIndex : format.length;\r\n            var textIntegerPartLength = -1 !== textPointIndex ? textPointIndex : text.length;\r\n            if (textIntegerPartLength > formatIntegerPartLength && -1 === format.indexOf(\"#\")) {\r\n                integerPartStartIndex = textIntegerPartLength - formatIntegerPartLength\r\n            }\r\n        }\r\n        text = this._removeStubs(text, true);\r\n        text = text.substr(integerPartStartIndex);\r\n        return parser(text, format)\r\n    },\r\n    _format: function(value, format) {\r\n        var formatOption = this.option(\"format\");\r\n        var customFormatter = (null === formatOption || void 0 === formatOption ? void 0 : formatOption.formatter) || formatOption;\r\n        var formatter = isFunction(customFormatter) ? customFormatter : number.format;\r\n        var formattedValue = null === value ? \"\" : formatter(value, format);\r\n        return formattedValue\r\n    },\r\n    _getFormatPattern: function() {\r\n        if (!this._currentFormat) {\r\n            this._updateFormat()\r\n        }\r\n        return this._currentFormat\r\n    },\r\n    _updateFormat: function() {\r\n        var format = this.option(\"format\");\r\n        var isCustomParser = isFunction(null === format || void 0 === format ? void 0 : format.parser);\r\n        var isLDMLPattern = isString(format) && (format.indexOf(\"0\") >= 0 || format.indexOf(\"#\") >= 0);\r\n        this._currentFormat = isCustomParser || isLDMLPattern ? format : getLDMLFormat(value => {\r\n            var text = this._format(value, format);\r\n            return number.convertDigits(text, true)\r\n        })\r\n    },\r\n    _getFormatForSign: function(text) {\r\n        var format = this._getFormatPattern();\r\n        if (isString(format)) {\r\n            var signParts = format.split(\";\");\r\n            var sign = number.getSign(text, format);\r\n            signParts[1] = signParts[1] || \"-\" + signParts[0];\r\n            return sign < 0 ? signParts[1] : signParts[0]\r\n        } else {\r\n            var _sign = number.getSign(text);\r\n            return _sign < 0 ? \"-\" : \"\"\r\n        }\r\n    },\r\n    _removeStubs: function(text, excludeComma) {\r\n        var format = this._getFormatForSign(text);\r\n        var thousandsSeparator = number.getThousandsSeparator();\r\n        var stubs = this._getStubs(format);\r\n        var result = text;\r\n        if (stubs.length) {\r\n            var prefixStubs = stubs[0];\r\n            var postfixRegex = new RegExp(\"(\" + escapeRegExp(stubs[1] || \"\") + \")$\", \"g\");\r\n            var decoratorsRegex = new RegExp(\"[-\" + escapeRegExp(excludeComma ? \"\" : thousandsSeparator) + \"]\", \"g\");\r\n            result = result.replace(prefixStubs, \"\").replace(postfixRegex, \"\").replace(decoratorsRegex, \"\")\r\n        }\r\n        return result\r\n    },\r\n    _getStubs: function(format) {\r\n        var regExpResult = /[^']([#0.,]+)/g.exec(format);\r\n        var pattern = regExpResult && regExpResult[0].trim();\r\n        return format.split(pattern).map((function(stub) {\r\n            return stub.replace(/'/g, \"\")\r\n        }))\r\n    },\r\n    _truncateToPrecision: function(value, maxPrecision) {\r\n        if (isDefined(value)) {\r\n            var strValue = value.toString();\r\n            var decimalSeparatorIndex = strValue.indexOf(\".\");\r\n            if (strValue && decimalSeparatorIndex > -1) {\r\n                var parsedValue = parseFloat(strValue.substr(0, decimalSeparatorIndex + maxPrecision + 1));\r\n                return isNaN(parsedValue) ? value : parsedValue\r\n            }\r\n        }\r\n        return value\r\n    },\r\n    _tryParse: function(text, selection, char) {\r\n        var editedText = this._replaceSelectedText(text, selection, char);\r\n        var format = this._getFormatPattern();\r\n        var isTextSelected = selection.start !== selection.end;\r\n        var parsedValue = this._getParsedValue(editedText, format);\r\n        var maxPrecision = !format.parser && this._getPrecisionLimits(editedText).max;\r\n        var isValueChanged = parsedValue !== this._parsedValue;\r\n        var decimalSeparator = number.getDecimalSeparator();\r\n        var isDecimalPointRestricted = char === decimalSeparator && 0 === maxPrecision;\r\n        var isUselessCharRestricted = !isTextSelected && !isValueChanged && char !== MINUS && !this._isValueIncomplete(editedText) && this._isStub(char);\r\n        if (isDecimalPointRestricted || isUselessCharRestricted) {\r\n            return\r\n        }\r\n        if (\"\" === this._removeStubs(editedText)) {\r\n            parsedValue = Math.abs(0 * this._parsedValue)\r\n        }\r\n        if (isNaN(parsedValue)) {\r\n            return\r\n        }\r\n        var value = null === parsedValue ? this._parsedValue : parsedValue;\r\n        parsedValue = maxPrecision ? this._truncateToPrecision(value, maxPrecision) : parsedValue;\r\n        return !format.parser && this._isPercentFormat() ? adjustPercentValue(parsedValue, maxPrecision) : parsedValue\r\n    },\r\n    _getParsedValue: function(text, format) {\r\n        var sign = number.getSign(text, (null === format || void 0 === format ? void 0 : format.formatter) || format);\r\n        var parsedValue = this._parse(text, format);\r\n        var parsedValueSign = parsedValue < 0 ? -1 : 1;\r\n        var parsedValueWithSign = isNumeric(parsedValue) && sign !== parsedValueSign ? sign * parsedValue : parsedValue;\r\n        return parsedValueWithSign\r\n    },\r\n    _isValueIncomplete: function(text) {\r\n        if (!this._useMaskBehavior()) {\r\n            return this.callBase(text)\r\n        }\r\n        var caret = this._caret();\r\n        var point = number.getDecimalSeparator();\r\n        var pointIndex = this._getTextSeparatorIndex(text);\r\n        var isCaretOnFloat = pointIndex >= 0 && pointIndex < caret.start;\r\n        var textParts = this._removeStubs(text, true).split(point);\r\n        if (!isCaretOnFloat || 2 !== textParts.length) {\r\n            return false\r\n        }\r\n        var floatLength = textParts[1].length;\r\n        var format = this._getFormatPattern();\r\n        var isCustomParser = !!format.parser;\r\n        var precision = !isCustomParser && this._getPrecisionLimits(this._getFormatPattern(), text);\r\n        var isPrecisionInRange = isCustomParser ? true : inRange(floatLength, precision.min, precision.max);\r\n        var endsWithZero = \"0\" === textParts[1].charAt(floatLength - 1);\r\n        return isPrecisionInRange && (endsWithZero || !floatLength)\r\n    },\r\n    _isValueInRange: function(value) {\r\n        var min = ensureDefined(this.option(\"min\"), -1 / 0);\r\n        var max = ensureDefined(this.option(\"max\"), 1 / 0);\r\n        return inRange(value, min, max)\r\n    },\r\n    _setInputText: function(text) {\r\n        var normalizedText = number.convertDigits(text, true);\r\n        var newCaret = getCaretAfterFormat(this._getInputVal(), normalizedText, this._caret(), this._getFormatPattern());\r\n        this._input().val(text);\r\n        this._toggleEmptinessEventHandler();\r\n        this._formattedValue = text;\r\n        if (!this._focusOutOccurs) {\r\n            this._caret(newCaret)\r\n        }\r\n    },\r\n    _useMaskBehavior: function() {\r\n        return !!this.option(\"format\") && this.option(\"useMaskBehavior\")\r\n    },\r\n    _renderInputType: function() {\r\n        var isNumberType = \"number\" === this.option(\"mode\");\r\n        var isDesktop = \"desktop\" === devices.real().deviceType;\r\n        if (this._useMaskBehavior() && isNumberType) {\r\n            this._setInputType(isDesktop || this._isSupportInputMode() ? \"text\" : \"tel\")\r\n        } else {\r\n            this.callBase()\r\n        }\r\n    },\r\n    _isChar: function(str) {\r\n        return isString(str) && 1 === str.length\r\n    },\r\n    _moveCaret: function(offset) {\r\n        if (!offset) {\r\n            return\r\n        }\r\n        var newCaret = getCaretWithOffset(this._caret(), offset);\r\n        var adjustedCaret = getCaretInBoundaries(newCaret, this._getInputVal(), this._getFormatPattern());\r\n        this._caret(adjustedCaret)\r\n    },\r\n    _shouldHandleKey: function(e) {\r\n        var keyName = normalizeKeyName(e);\r\n        var isSpecialChar = isCommandKeyPressed(e) || e.altKey || e.shiftKey || !this._isChar(keyName);\r\n        var isMinusKey = keyName === MINUS_KEY;\r\n        var useMaskBehavior = this._useMaskBehavior();\r\n        return useMaskBehavior && !isSpecialChar && !isMinusKey\r\n    },\r\n    _renderInput: function() {\r\n        this.callBase();\r\n        this._renderFormatter()\r\n    },\r\n    _renderFormatter: function() {\r\n        this._clearCache();\r\n        this._detachFormatterEvents();\r\n        if (this._useMaskBehavior()) {\r\n            this._attachFormatterEvents()\r\n        }\r\n    },\r\n    _detachFormatterEvents: function() {\r\n        eventsEngine.off(this._input(), \".\" + NUMBER_FORMATTER_NAMESPACE)\r\n    },\r\n    _isInputFromPaste: function(e) {\r\n        var inputType = e.originalEvent && e.originalEvent.inputType;\r\n        if (isDefined(inputType)) {\r\n            return \"insertFromPaste\" === inputType\r\n        } else {\r\n            return this._isValuePasted\r\n        }\r\n    },\r\n    _attachFormatterEvents: function() {\r\n        var $input = this._input();\r\n        eventsEngine.on($input, addNamespace(INPUT_EVENT, NUMBER_FORMATTER_NAMESPACE), function(e) {\r\n            this._formatValue(e);\r\n            this._isValuePasted = false\r\n        }.bind(this));\r\n        eventsEngine.on($input, addNamespace(\"dxclick\", NUMBER_FORMATTER_NAMESPACE), function() {\r\n            if (!this._caretTimeout) {\r\n                this._caretTimeout = setTimeout(function() {\r\n                    this._caretTimeout = void 0;\r\n                    this._caret(getCaretInBoundaries(this._caret(), this._getInputVal(), this._getFormatPattern()))\r\n                }.bind(this), CARET_TIMEOUT_DURATION)\r\n            }\r\n        }.bind(this));\r\n        eventsEngine.on($input, \"dxdblclick\", function() {\r\n            this.clearCaretTimeout()\r\n        }.bind(this))\r\n    },\r\n    clearCaretTimeout: function() {\r\n        clearTimeout(this._caretTimeout);\r\n        this._caretTimeout = void 0\r\n    },\r\n    _forceRefreshInputValue: function() {\r\n        if (!this._useMaskBehavior()) {\r\n            return this.callBase()\r\n        }\r\n    },\r\n    _isNonStubAfter: function(index) {\r\n        var text = this._getInputVal().slice(index);\r\n        return text && !this._isStub(text, true)\r\n    },\r\n    _isStub: function(str, isString) {\r\n        var escapedDecimalSeparator = escapeRegExp(number.getDecimalSeparator());\r\n        var regExpString = \"^[^0-9\" + escapedDecimalSeparator + \"]+$\";\r\n        var stubRegExp = new RegExp(regExpString, \"g\");\r\n        return stubRegExp.test(str) && (isString || this._isChar(str))\r\n    },\r\n    _parseValue: function(text) {\r\n        if (!this._useMaskBehavior()) {\r\n            return this.callBase(text)\r\n        }\r\n        return this._parsedValue\r\n    },\r\n    _getPrecisionLimits: function(text) {\r\n        var currentFormat = this._getFormatForSign(text);\r\n        var realSeparatorIndex = getRealSeparatorIndex(currentFormat).index;\r\n        var floatPart = (splitByIndex(currentFormat, realSeparatorIndex)[1] || \"\").replace(/[^#0]/g, \"\");\r\n        var minPrecision = floatPart.replace(/^(0*)#*/, \"$1\").length;\r\n        var maxPrecision = floatPart.length;\r\n        return {\r\n            min: minPrecision,\r\n            max: maxPrecision\r\n        }\r\n    },\r\n    _revertSign: function(e) {\r\n        if (!this._useMaskBehavior()) {\r\n            return\r\n        }\r\n        var caret = this._caret();\r\n        if (caret.start !== caret.end) {\r\n            if (normalizeKeyName(e) === MINUS_KEY) {\r\n                this._applyRevertedSign(e, caret, true);\r\n                return\r\n            } else {\r\n                this._caret(getCaretInBoundaries(0, this._getInputVal(), this._getFormatPattern()))\r\n            }\r\n        }\r\n        this._applyRevertedSign(e, caret)\r\n    },\r\n    _applyRevertedSign: function(e, caret, preserveSelectedText) {\r\n        var newValue = -1 * ensureDefined(this._parsedValue, null);\r\n        if (this._isValueInRange(newValue)) {\r\n            this._parsedValue = newValue;\r\n            if (preserveSelectedText) {\r\n                var format = this._getFormatPattern();\r\n                var previousText = this._getInputVal();\r\n                this._setTextByParsedValue();\r\n                e.preventDefault();\r\n                var currentText = this._getInputVal();\r\n                var offset = getCaretOffset(previousText, currentText, format);\r\n                caret = getCaretWithOffset(caret, offset);\r\n                var caretInBoundaries = getCaretInBoundaries(caret, currentText, format);\r\n                this._caret(caretInBoundaries)\r\n            }\r\n        }\r\n    },\r\n    _removeMinusFromText: function(text, caret) {\r\n        var isMinusPressed = this._lastKeyName === MINUS_KEY && text.charAt(caret.start - 1) === MINUS;\r\n        return isMinusPressed ? this._replaceSelectedText(text, {\r\n            start: caret.start - 1,\r\n            end: caret.start\r\n        }, \"\") : text\r\n    },\r\n    _setTextByParsedValue: function() {\r\n        var format = this._getFormatPattern();\r\n        var parsed = this._parseValue();\r\n        var formatted = this._format(parsed, format) || \"\";\r\n        this._setInputText(formatted)\r\n    },\r\n    _formatValue: function(e) {\r\n        var normalizedText = this._getInputVal();\r\n        var caret = this._caret();\r\n        var textWithoutMinus = this._removeMinusFromText(normalizedText, caret);\r\n        var wasMinusRemoved = textWithoutMinus !== normalizedText;\r\n        normalizedText = textWithoutMinus;\r\n        if (!this._isInputFromPaste(e) && this._isValueIncomplete(textWithoutMinus)) {\r\n            this._formattedValue = normalizedText;\r\n            if (wasMinusRemoved) {\r\n                this._setTextByParsedValue()\r\n            }\r\n            return\r\n        }\r\n        var textWasChanged = number.convertDigits(this._formattedValue, true) !== normalizedText;\r\n        if (textWasChanged) {\r\n            var value = this._tryParse(normalizedText, caret, \"\");\r\n            if (isDefined(value)) {\r\n                this._parsedValue = value\r\n            }\r\n        }\r\n        this._setTextByParsedValue()\r\n    },\r\n    _renderDisplayText: function() {\r\n        if (this._useMaskBehavior()) {\r\n            this._toggleEmptinessEventHandler()\r\n        } else {\r\n            this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    _renderValue: function() {\r\n        if (this._useMaskBehavior()) {\r\n            this._parsedValue = this.option(\"value\");\r\n            this._setTextByParsedValue()\r\n        }\r\n        return this.callBase()\r\n    },\r\n    _updateParsedValue: function() {\r\n        var inputValue = this._getInputVal();\r\n        this._parsedValue = this._tryParse(inputValue, this._caret())\r\n    },\r\n    _adjustParsedValue: function() {\r\n        if (!this._useMaskBehavior()) {\r\n            return\r\n        }\r\n        var clearedText = this._removeStubs(this._getInputVal());\r\n        var parsedValue = clearedText ? this._parseValue() : null;\r\n        if (!isNumeric(parsedValue)) {\r\n            this._parsedValue = parsedValue;\r\n            return\r\n        }\r\n        this._parsedValue = fitIntoRange(parsedValue, this.option(\"min\"), this.option(\"max\"))\r\n    },\r\n    _valueChangeEventHandler: function(e) {\r\n        if (!this._useMaskBehavior()) {\r\n            return this.callBase(e)\r\n        }\r\n        var caret = this._caret();\r\n        this._saveValueChangeEvent(e);\r\n        this._lastKey = null;\r\n        this._lastKeyName = null;\r\n        this._updateParsedValue();\r\n        this._adjustParsedValue();\r\n        this.option(\"value\", this._parsedValue);\r\n        if (caret) {\r\n            this._caret(caret)\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"format\":\r\n            case \"useMaskBehavior\":\r\n                this._renderInputType();\r\n                this._updateFormat();\r\n                this._renderFormatter();\r\n                this._renderValue();\r\n                this._refreshValueChangeEvent();\r\n                this._refreshEvents();\r\n                break;\r\n            case \"min\":\r\n            case \"max\":\r\n                this._adjustParsedValue();\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _clearCache: function() {\r\n        delete this._formattedValue;\r\n        delete this._lastKey;\r\n        delete this._lastKeyName;\r\n        delete this._parsedValue;\r\n        delete this._focusOutOccurs;\r\n        clearTimeout(this._caretTimeout);\r\n        delete this._caretTimeout\r\n    },\r\n    _clean: function() {\r\n        this._clearCache();\r\n        this.callBase()\r\n    }\r\n});\r\nexport default NumberBoxMask;\r\n","/**\r\n * DevExtreme (esm/ui/number_box/number_box.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport NumberBoxMask from \"./number_box.mask\";\r\nregisterComponent(\"dxNumberBox\", NumberBoxMask);\r\nexport default NumberBoxMask;\r\n","/**\r\n * DevExtreme (esm/ui/number_box.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport NumberBox from \"./number_box/number_box\";\r\nexport default NumberBox;\r\n","/**\r\n * DevExtreme (esm/ui/editor/ui.data_expression.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\r\nimport {\r\n    compileGetter,\r\n    toComparable\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    ensureDefined,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isObject as isObjectType,\r\n    isString,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport DataHelperMixin from \"../../data_helper\";\r\nimport {\r\n    DataSource\r\n} from \"../../data/data_source/data_source\";\r\nimport ArrayStore from \"../../data/array_store\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar DataExpressionMixin = extend({}, DataHelperMixin, {\r\n    _dataExpressionDefaultOptions: function() {\r\n        return {\r\n            items: [],\r\n            dataSource: null,\r\n            itemTemplate: \"item\",\r\n            value: null,\r\n            valueExpr: \"this\",\r\n            displayExpr: void 0\r\n        }\r\n    },\r\n    _initDataExpressions: function() {\r\n        this._compileValueGetter();\r\n        this._compileDisplayGetter();\r\n        this._initDynamicTemplates();\r\n        this._initDataSource();\r\n        this._itemsToDataSource()\r\n    },\r\n    _itemsToDataSource: function() {\r\n        if (!this.option(\"dataSource\")) {\r\n            this._dataSource = new DataSource({\r\n                store: new ArrayStore(this.option(\"items\")),\r\n                pageSize: 0\r\n            })\r\n        }\r\n    },\r\n    _compileDisplayGetter: function() {\r\n        this._displayGetter = compileGetter(this._displayGetterExpr())\r\n    },\r\n    _displayGetterExpr: function() {\r\n        return this.option(\"displayExpr\")\r\n    },\r\n    _compileValueGetter: function() {\r\n        this._valueGetter = compileGetter(this._valueGetterExpr())\r\n    },\r\n    _valueGetterExpr: function() {\r\n        return this.option(\"valueExpr\") || \"this\"\r\n    },\r\n    _loadValue: function(value) {\r\n        var deferred = new Deferred;\r\n        value = this._unwrappedValue(value);\r\n        if (!isDefined(value)) {\r\n            return deferred.reject().promise()\r\n        }\r\n        this._loadSingle(this._valueGetterExpr(), value).done(function(item) {\r\n            this._isValueEquals(this._valueGetter(item), value) ? deferred.resolve(item) : deferred.reject()\r\n        }.bind(this)).fail((function() {\r\n            deferred.reject()\r\n        }));\r\n        this._loadValueDeferred = deferred;\r\n        return deferred.promise()\r\n    },\r\n    _rejectValueLoading: function() {\r\n        var _this$_loadValueDefer;\r\n        null === (_this$_loadValueDefer = this._loadValueDeferred) || void 0 === _this$_loadValueDefer ? void 0 : _this$_loadValueDefer.reject({\r\n            shouldSkipCallback: true\r\n        })\r\n    },\r\n    _getCurrentValue: function() {\r\n        return this.option(\"value\")\r\n    },\r\n    _unwrappedValue: function(value) {\r\n        var _value;\r\n        value = null !== (_value = value) && void 0 !== _value ? _value : this._getCurrentValue();\r\n        if (value && this._dataSource && \"this\" === this._valueGetterExpr()) {\r\n            value = this._getItemKey(value)\r\n        }\r\n        return variableWrapper.unwrap(value)\r\n    },\r\n    _getItemKey: function(value) {\r\n        var key = this._dataSource.key();\r\n        if (Array.isArray(key)) {\r\n            var result = {};\r\n            for (var i = 0, n = key.length; i < n; i++) {\r\n                result[key[i]] = value[key[i]]\r\n            }\r\n            return result\r\n        }\r\n        if (key && \"object\" === typeof value) {\r\n            value = value[key]\r\n        }\r\n        return value\r\n    },\r\n    _isValueEquals: function(value1, value2) {\r\n        var dataSourceKey = this._dataSource && this._dataSource.key();\r\n        var result = this._compareValues(value1, value2);\r\n        if (!result && dataSourceKey && isDefined(value1) && isDefined(value2)) {\r\n            if (Array.isArray(dataSourceKey)) {\r\n                result = this._compareByCompositeKey(value1, value2, dataSourceKey)\r\n            } else {\r\n                result = this._compareByKey(value1, value2, dataSourceKey)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _compareByCompositeKey: function(value1, value2, key) {\r\n        var isObject = isObjectType;\r\n        if (!isObject(value1) || !isObject(value2)) {\r\n            return false\r\n        }\r\n        for (var i = 0, n = key.length; i < n; i++) {\r\n            if (value1[key[i]] !== value2[key[i]]) {\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    _compareByKey: function(value1, value2, key) {\r\n        var unwrapObservable = variableWrapper.unwrap;\r\n        var valueKey1 = ensureDefined(unwrapObservable(value1[key]), value1);\r\n        var valueKey2 = ensureDefined(unwrapObservable(value2[key]), value2);\r\n        return this._compareValues(valueKey1, valueKey2)\r\n    },\r\n    _compareValues: function(value1, value2) {\r\n        return toComparable(value1, true) === toComparable(value2, true)\r\n    },\r\n    _initDynamicTemplates: noop,\r\n    _setCollectionWidgetItemTemplate: function() {\r\n        this._initDynamicTemplates();\r\n        this._setCollectionWidgetOption(\"itemTemplate\", this.option(\"itemTemplate\"))\r\n    },\r\n    _getCollectionKeyExpr: function() {\r\n        var valueExpr = this.option(\"valueExpr\");\r\n        var isValueExprField = isString(valueExpr) && \"this\" !== valueExpr || isFunction(valueExpr);\r\n        return isValueExprField ? valueExpr : null\r\n    },\r\n    _dataExpressionOptionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"items\":\r\n                this._itemsToDataSource();\r\n                this._setCollectionWidgetOption(\"items\");\r\n                break;\r\n            case \"dataSource\":\r\n                this._initDataSource();\r\n                break;\r\n            case \"itemTemplate\":\r\n                this._setCollectionWidgetItemTemplate();\r\n                break;\r\n            case \"valueExpr\":\r\n                this._compileValueGetter();\r\n                break;\r\n            case \"displayExpr\":\r\n                this._compileDisplayGetter();\r\n                this._initDynamicTemplates();\r\n                this._setCollectionWidgetOption(\"displayExpr\")\r\n        }\r\n    }\r\n});\r\nexport default DataExpressionMixin;\r\n","/**\r\n * DevExtreme (esm/ui/drop_down_editor/ui.drop_down_list.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nvar window = getWindow();\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Guid from \"../../core/guid\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    noop,\r\n    ensureDefined,\r\n    grep\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isWindow,\r\n    isDefined,\r\n    isObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport DropDownEditor from \"./ui.drop_down_editor\";\r\nimport List from \"../list_light\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport devices from \"../../core/devices\";\r\nimport dataQuery from \"../../data/query\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport DataExpressionMixin from \"../editor/ui.data_expression\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    ChildDefaultTemplate\r\n} from \"../../core/templates/child_default_template\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport DataConverterMixin from \"../shared/grouped_data_converter_mixin\";\r\nvar LIST_ITEM_SELECTOR = \".dx-list-item\";\r\nvar LIST_ITEM_DATA_KEY = \"dxListItemData\";\r\nvar DROPDOWNLIST_POPUP_WRAPPER_CLASS = \"dx-dropdownlist-popup-wrapper\";\r\nvar SKIP_GESTURE_EVENT_CLASS = \"dx-skip-gesture-event\";\r\nvar SEARCH_EVENT = \"input\";\r\nvar SEARCH_MODES = [\"startswith\", \"contains\", \"endwith\", \"notcontains\"];\r\nvar useCompositionEvents = \"android\" !== devices.real().platform;\r\nvar DropDownList = DropDownEditor.inherit({\r\n    _supportedKeys: function() {\r\n        var parent = this.callBase();\r\n        return extend({}, parent, {\r\n            tab: function(e) {\r\n                if (this._allowSelectItemByTab()) {\r\n                    this._saveValueChangeEvent(e);\r\n                    var $focusedItem = $(this._list.option(\"focusedElement\"));\r\n                    $focusedItem.length && this._setSelectedElement($focusedItem)\r\n                }\r\n                parent.tab.apply(this, arguments)\r\n            },\r\n            space: noop,\r\n            home: noop,\r\n            end: noop\r\n        })\r\n    },\r\n    _allowSelectItemByTab: function() {\r\n        return this.option(\"opened\") && \"instantly\" === this.option(\"applyValueMode\")\r\n    },\r\n    _setSelectedElement: function($element) {\r\n        var value = this._valueGetter(this._list._getItemData($element));\r\n        this._setValue(value)\r\n    },\r\n    _setValue: function(value) {\r\n        this.option(\"value\", value)\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), extend(DataExpressionMixin._dataExpressionDefaultOptions(), {\r\n            displayValue: void 0,\r\n            searchEnabled: false,\r\n            searchMode: \"contains\",\r\n            searchTimeout: 500,\r\n            minSearchLength: 0,\r\n            searchExpr: null,\r\n            valueChangeEvent: \"input change keyup\",\r\n            selectedItem: null,\r\n            noDataText: messageLocalization.format(\"dxCollectionWidget-noDataText\"),\r\n            onSelectionChanged: null,\r\n            onItemClick: noop,\r\n            showDataBeforeSearch: false,\r\n            grouped: false,\r\n            groupTemplate: \"group\",\r\n            popupPosition: {\r\n                my: \"left top\",\r\n                at: \"left bottom\",\r\n                offset: {\r\n                    h: 0,\r\n                    v: 0\r\n                },\r\n                collision: \"flip\"\r\n            },\r\n            wrapItemText: false,\r\n            useItemTextAsTitle: false\r\n        }))\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                popupPosition: {\r\n                    offset: {\r\n                        v: -1\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                buttonsLocation: \"bottom center\"\r\n            }\r\n        }])\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            value: true,\r\n            selectedItem: true,\r\n            displayValue: true\r\n        })\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initDataExpressions();\r\n        this._initActions();\r\n        this._setListDataSource();\r\n        this._validateSearchMode();\r\n        this._clearSelectedItem();\r\n        this._initItems()\r\n    },\r\n    _setListFocusedElementOptionChange: function() {\r\n        this._list._updateParentActiveDescendant = this._updateActiveDescendant.bind(this)\r\n    },\r\n    _initItems: function() {\r\n        var items = this.option().items;\r\n        if (items && !items.length && this._dataSource) {\r\n            this.option().items = this._dataSource.items()\r\n        }\r\n    },\r\n    _initActions: function() {\r\n        this._initContentReadyAction();\r\n        this._initSelectionChangedAction();\r\n        this._initItemClickAction()\r\n    },\r\n    _initContentReadyAction: function() {\r\n        this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initSelectionChangedAction: function() {\r\n        this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initItemClickAction: function() {\r\n        this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new ChildDefaultTemplate(\"item\")\r\n        })\r\n    },\r\n    _isEditable: function() {\r\n        return this.callBase() || this.option(\"searchEnabled\")\r\n    },\r\n    _saveFocusOnWidget: function(e) {\r\n        if (this._list && this._list.initialOption(\"focusStateEnabled\")) {\r\n            this._focusInput()\r\n        }\r\n    },\r\n    _fitIntoRange: function(value, start, end) {\r\n        if (value > end) {\r\n            return start\r\n        }\r\n        if (value < start) {\r\n            return end\r\n        }\r\n        return value\r\n    },\r\n    _items: function() {\r\n        var items = this._getPlainItems(!this._list && this._dataSource.items());\r\n        var availableItems = new dataQuery(items).filter(\"disabled\", \"<>\", true).toArray();\r\n        return availableItems\r\n    },\r\n    _calcNextItem: function(step) {\r\n        var items = this._items();\r\n        var nextIndex = this._fitIntoRange(this._getSelectedIndex() + step, 0, items.length - 1);\r\n        return items[nextIndex]\r\n    },\r\n    _getSelectedIndex: function() {\r\n        var items = this._items();\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        var result = -1;\r\n        each(items, function(index, item) {\r\n            if (this._isValueEquals(item, selectedItem)) {\r\n                result = index;\r\n                return false\r\n            }\r\n        }.bind(this));\r\n        return result\r\n    },\r\n    _createPopup: function() {\r\n        this.callBase();\r\n        this._updateCustomBoundaryContainer();\r\n        this._popup.$wrapper().addClass(this._popupWrapperClass());\r\n        var $popupContent = this._popup.$content();\r\n        eventsEngine.off($popupContent, \"mouseup\");\r\n        eventsEngine.on($popupContent, \"mouseup\", this._saveFocusOnWidget.bind(this));\r\n        var that = this;\r\n        this._popup.on({\r\n            shown: function() {\r\n                that.$element().addClass(SKIP_GESTURE_EVENT_CLASS)\r\n            },\r\n            hidden: function() {\r\n                that.$element().removeClass(SKIP_GESTURE_EVENT_CLASS)\r\n            }\r\n        })\r\n    },\r\n    _updateCustomBoundaryContainer: function() {\r\n        var customContainer = this.option(\"dropDownOptions.container\");\r\n        var $container = customContainer && $(customContainer);\r\n        if ($container && $container.length && !isWindow($container.get(0))) {\r\n            var $containerWithParents = [].slice.call($container.parents());\r\n            $containerWithParents.unshift($container.get(0));\r\n            each($containerWithParents, function(i, parent) {\r\n                if (parent === $(\"body\").get(0)) {\r\n                    return false\r\n                } else if (\"hidden\" === window.getComputedStyle(parent).overflowY) {\r\n                    this._$customBoundaryContainer = $(parent);\r\n                    return false\r\n                }\r\n            }.bind(this))\r\n        }\r\n    },\r\n    _popupWrapperClass: function() {\r\n        return DROPDOWNLIST_POPUP_WRAPPER_CLASS\r\n    },\r\n    _renderInputValue: function() {\r\n        var value = this._getCurrentValue();\r\n        this._rejectValueLoading();\r\n        return this._loadInputValue(value, this._setSelectedItem.bind(this)).always(this.callBase.bind(this, value))\r\n    },\r\n    _loadInputValue: function(value, callback) {\r\n        return this._loadItem(value).always(callback)\r\n    },\r\n    _getItemFromPlain: function(value, cache) {\r\n        var plainItems;\r\n        var selectedItem;\r\n        if (cache && \"object\" !== typeof value) {\r\n            if (!cache.itemByValue) {\r\n                cache.itemByValue = {};\r\n                plainItems = this._getPlainItems();\r\n                plainItems.forEach((function(item) {\r\n                    cache.itemByValue[this._valueGetter(item)] = item\r\n                }), this)\r\n            }\r\n            selectedItem = cache.itemByValue[value]\r\n        }\r\n        if (!selectedItem) {\r\n            plainItems = this._getPlainItems();\r\n            selectedItem = grep(plainItems, function(item) {\r\n                return this._isValueEquals(this._valueGetter(item), value)\r\n            }.bind(this))[0]\r\n        }\r\n        return selectedItem\r\n    },\r\n    _loadItem: function(value, cache) {\r\n        var selectedItem = this._getItemFromPlain(value, cache);\r\n        return void 0 !== selectedItem ? (new Deferred).resolve(selectedItem).promise() : this._loadValue(value)\r\n    },\r\n    _getPlainItems: function(items) {\r\n        var plainItems = [];\r\n        items = items || this.option(\"items\") || this._dataSource.items() || [];\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (items[i] && items[i].items) {\r\n                plainItems = plainItems.concat(items[i].items)\r\n            } else {\r\n                plainItems.push(items[i])\r\n            }\r\n        }\r\n        return plainItems\r\n    },\r\n    _updateActiveDescendant() {\r\n        var _this$_list;\r\n        var opened = this.option(\"opened\");\r\n        var listFocusedItemId = null === (_this$_list = this._list) || void 0 === _this$_list ? void 0 : _this$_list.getFocusedItemId();\r\n        var isElementOnDom = $(\"#\".concat(listFocusedItemId)).length > 0;\r\n        var activedescendant = opened && isElementOnDom && listFocusedItemId;\r\n        this.setAria({\r\n            activedescendant: activedescendant || null\r\n        })\r\n    },\r\n    _setSelectedItem: function(item) {\r\n        var displayValue = this._displayValue(item);\r\n        this.option(\"selectedItem\", ensureDefined(item, null));\r\n        this.option(\"displayValue\", displayValue)\r\n    },\r\n    _displayValue: function(item) {\r\n        return this._displayGetter(item)\r\n    },\r\n    _refreshSelected: function() {\r\n        var cache = {};\r\n        this._listItemElements().each(function(_, itemElement) {\r\n            var $itemElement = $(itemElement);\r\n            var itemValue = this._valueGetter($itemElement.data(LIST_ITEM_DATA_KEY));\r\n            var isItemSelected = this._isSelectedValue(itemValue, cache);\r\n            if (isItemSelected) {\r\n                this._list.selectItem($itemElement)\r\n            } else {\r\n                this._list.unselectItem($itemElement)\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _popupShownHandler: function() {\r\n        this.callBase();\r\n        this._setFocusPolicy()\r\n    },\r\n    _setFocusPolicy: function() {\r\n        if (!this.option(\"focusStateEnabled\") || !this._list) {\r\n            return\r\n        }\r\n        this._list.option(\"focusedElement\", null)\r\n    },\r\n    _isSelectedValue: function(value) {\r\n        return this._isValueEquals(value, this.option(\"value\"))\r\n    },\r\n    _validateSearchMode: function() {\r\n        var searchMode = this.option(\"searchMode\");\r\n        var normalizedSearchMode = searchMode.toLowerCase();\r\n        if (inArray(normalizedSearchMode, SEARCH_MODES) < 0) {\r\n            throw errors.Error(\"E1019\", searchMode)\r\n        }\r\n    },\r\n    _clearSelectedItem: function() {\r\n        this.option(\"selectedItem\", null)\r\n    },\r\n    _processDataSourceChanging: function() {\r\n        this._setListDataSource();\r\n        this._renderInputValue().fail(function() {\r\n            if (this._isCustomValueAllowed()) {\r\n                return\r\n            }\r\n            this._clearSelectedItem()\r\n        }.bind(this))\r\n    },\r\n    _isCustomValueAllowed: function() {\r\n        return this.option(\"displayCustomValue\")\r\n    },\r\n    reset: function() {\r\n        this.callBase();\r\n        this._clearFilter();\r\n        this._clearSelectedItem()\r\n    },\r\n    _listItemElements: function() {\r\n        return this._$list ? this._$list.find(LIST_ITEM_SELECTOR) : $()\r\n    },\r\n    _popupConfig: function() {\r\n        return extend(this.callBase(), {\r\n            templatesRenderAsynchronously: false,\r\n            autoResizeEnabled: false,\r\n            maxHeight: this._getMaxHeight.bind(this)\r\n        })\r\n    },\r\n    _renderPopupContent: function() {\r\n        this.callBase();\r\n        this._renderList()\r\n    },\r\n    _getKeyboardListeners() {\r\n        var canListHaveFocus = this._canListHaveFocus();\r\n        return this.callBase().concat([!canListHaveFocus && this._list])\r\n    },\r\n    _setAriaTargetForList: function() {\r\n        this._list._getAriaTarget = this._getAriaTarget.bind(this)\r\n    },\r\n    _renderList: function() {\r\n        this._listId = \"dx-\" + (new Guid)._value;\r\n        var $list = this._$list = $(\"<div>\").attr(\"id\", this._listId).appendTo(this._popup.$content());\r\n        this._list = this._createComponent($list, List, this._listConfig());\r\n        this._refreshList();\r\n        this._setAriaTargetForList();\r\n        this._list.option(\"_listAttributes\", {\r\n            role: \"combobox\"\r\n        });\r\n        this._renderPreventBlurOnListClick();\r\n        this._setListFocusedElementOptionChange()\r\n    },\r\n    _renderPreventBlurOnListClick: function() {\r\n        var eventName = addNamespace(\"mousedown\", \"dxDropDownList\");\r\n        eventsEngine.off(this._$list, eventName);\r\n        eventsEngine.on(this._$list, eventName, e => e.preventDefault())\r\n    },\r\n    _renderOpenedState: function() {\r\n        this.callBase();\r\n        this._list && this._updateActiveDescendant();\r\n        this.setAria({\r\n            controls: this._list && this._listId,\r\n            owns: this._popup && this._popupContentId\r\n        })\r\n    },\r\n    _setDefaultAria: function() {\r\n        this.setAria({\r\n            haspopup: \"listbox\",\r\n            autocomplete: \"list\"\r\n        })\r\n    },\r\n    _refreshList: function() {\r\n        if (this._list && this._shouldRefreshDataSource()) {\r\n            this._setListDataSource()\r\n        }\r\n    },\r\n    _shouldRefreshDataSource: function() {\r\n        var dataSourceProvided = !!this._list.option(\"dataSource\");\r\n        return dataSourceProvided !== this._needPassDataSourceToList()\r\n    },\r\n    _isDesktopDevice: function() {\r\n        return \"desktop\" === devices.real().deviceType\r\n    },\r\n    _listConfig: function() {\r\n        var options = {\r\n            selectionMode: \"single\",\r\n            _templates: this.option(\"_templates\"),\r\n            templateProvider: this.option(\"templateProvider\"),\r\n            noDataText: this.option(\"noDataText\"),\r\n            grouped: this.option(\"grouped\"),\r\n            wrapItemText: this.option(\"wrapItemText\"),\r\n            useItemTextAsTitle: this.option(\"useItemTextAsTitle\"),\r\n            onContentReady: this._listContentReadyHandler.bind(this),\r\n            itemTemplate: this.option(\"itemTemplate\"),\r\n            indicateLoading: false,\r\n            keyExpr: this._getCollectionKeyExpr(),\r\n            displayExpr: this._displayGetterExpr(),\r\n            groupTemplate: this.option(\"groupTemplate\"),\r\n            onItemClick: this._listItemClickAction.bind(this),\r\n            dataSource: this._getDataSource(),\r\n            _revertPageOnEmptyLoad: true,\r\n            hoverStateEnabled: this._isDesktopDevice() ? this.option(\"hoverStateEnabled\") : false,\r\n            focusStateEnabled: this._isDesktopDevice() ? this.option(\"focusStateEnabled\") : false\r\n        };\r\n        if (!this._canListHaveFocus()) {\r\n            options.tabIndex = null\r\n        }\r\n        return options\r\n    },\r\n    _canListHaveFocus: () => false,\r\n    _getDataSource: function() {\r\n        return this._needPassDataSourceToList() ? this._dataSource : null\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return {\r\n            paginate: false\r\n        }\r\n    },\r\n    _getGroupedOption: function() {\r\n        return this.option(\"grouped\")\r\n    },\r\n    _dataSourceFromUrlLoadMode: function() {\r\n        return \"raw\"\r\n    },\r\n    _listContentReadyHandler: function() {\r\n        this._list = this._list || this._$list.dxList(\"instance\");\r\n        if (!this.option(\"deferRendering\")) {\r\n            this._refreshSelected()\r\n        }\r\n        this._dimensionChanged();\r\n        this._contentReadyAction()\r\n    },\r\n    _setListOption: function(optionName, value) {\r\n        this._setWidgetOption(\"_list\", arguments)\r\n    },\r\n    _listItemClickAction: function(e) {\r\n        this._listItemClickHandler(e);\r\n        this._itemClickAction(e)\r\n    },\r\n    _listItemClickHandler: noop,\r\n    _setListDataSource: function() {\r\n        if (!this._list) {\r\n            return\r\n        }\r\n        this._setListOption(\"dataSource\", this._getDataSource());\r\n        if (!this._needPassDataSourceToList()) {\r\n            this._setListOption(\"items\", [])\r\n        }\r\n    },\r\n    _needPassDataSourceToList: function() {\r\n        return this.option(\"showDataBeforeSearch\") || this._isMinSearchLengthExceeded()\r\n    },\r\n    _isMinSearchLengthExceeded: function() {\r\n        return this._searchValue().toString().length >= this.option(\"minSearchLength\")\r\n    },\r\n    _needClearFilter: function() {\r\n        return this._canKeepDataSource() ? false : this._needPassDataSourceToList()\r\n    },\r\n    _canKeepDataSource: function() {\r\n        var _this$_dataSource;\r\n        var isMinSearchLengthExceeded = this._isMinSearchLengthExceeded();\r\n        return (null === (_this$_dataSource = this._dataSource) || void 0 === _this$_dataSource ? void 0 : _this$_dataSource.isLoaded()) && this.option(\"showDataBeforeSearch\") && this.option(\"minSearchLength\") && !isMinSearchLengthExceeded && !this._isLastMinSearchLengthExceeded\r\n    },\r\n    _searchValue: function() {\r\n        return this._input().val() || \"\"\r\n    },\r\n    _getSearchEvent: function() {\r\n        return addNamespace(SEARCH_EVENT, this.NAME + \"Search\")\r\n    },\r\n    _getCompositionStartEvent: function() {\r\n        return addNamespace(\"compositionstart\", this.NAME + \"CompositionStart\")\r\n    },\r\n    _getCompositionEndEvent: function() {\r\n        return addNamespace(\"compositionend\", this.NAME + \"CompositionEnd\")\r\n    },\r\n    _getSetFocusPolicyEvent: function() {\r\n        return addNamespace(\"input\", this.NAME + \"FocusPolicy\")\r\n    },\r\n    _renderEvents: function() {\r\n        this.callBase();\r\n        eventsEngine.on(this._input(), this._getSetFocusPolicyEvent(), () => {\r\n            this._setFocusPolicy()\r\n        });\r\n        if (this._shouldRenderSearchEvent()) {\r\n            eventsEngine.on(this._input(), this._getSearchEvent(), e => {\r\n                this._searchHandler(e)\r\n            });\r\n            if (useCompositionEvents) {\r\n                eventsEngine.on(this._input(), this._getCompositionStartEvent(), () => {\r\n                    this._isTextCompositionInProgress(true)\r\n                });\r\n                eventsEngine.on(this._input(), this._getCompositionEndEvent(), e => {\r\n                    this._isTextCompositionInProgress(void 0);\r\n                    this._searchHandler(e, this._searchValue())\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _shouldRenderSearchEvent: function() {\r\n        return this.option(\"searchEnabled\")\r\n    },\r\n    _refreshEvents: function() {\r\n        eventsEngine.off(this._input(), this._getSearchEvent());\r\n        eventsEngine.off(this._input(), this._getSetFocusPolicyEvent());\r\n        if (useCompositionEvents) {\r\n            eventsEngine.off(this._input(), this._getCompositionStartEvent());\r\n            eventsEngine.off(this._input(), this._getCompositionEndEvent())\r\n        }\r\n        this.callBase()\r\n    },\r\n    _isTextCompositionInProgress: function(value) {\r\n        if (arguments.length) {\r\n            this._isTextComposition = value\r\n        } else {\r\n            return this._isTextComposition\r\n        }\r\n    },\r\n    _searchHandler: function(e, searchValue) {\r\n        if (this._isTextCompositionInProgress()) {\r\n            return\r\n        }\r\n        if (!this._isMinSearchLengthExceeded()) {\r\n            this._searchCanceled();\r\n            return\r\n        }\r\n        var searchTimeout = this.option(\"searchTimeout\");\r\n        if (searchTimeout) {\r\n            this._clearSearchTimer();\r\n            this._searchTimer = setTimeout(() => {\r\n                this._searchDataSource(searchValue)\r\n            }, searchTimeout)\r\n        } else {\r\n            this._searchDataSource(searchValue)\r\n        }\r\n    },\r\n    _searchCanceled: function() {\r\n        this._clearSearchTimer();\r\n        if (this._needClearFilter()) {\r\n            this._filterDataSource(null)\r\n        }\r\n        this._refreshList()\r\n    },\r\n    _searchDataSource: function() {\r\n        var searchValue = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._searchValue();\r\n        this._filterDataSource(searchValue)\r\n    },\r\n    _filterDataSource: function(searchValue) {\r\n        this._clearSearchTimer();\r\n        var dataSource = this._dataSource;\r\n        if (dataSource) {\r\n            dataSource.searchExpr(this.option(\"searchExpr\") || this._displayGetterExpr());\r\n            dataSource.searchOperation(this.option(\"searchMode\"));\r\n            dataSource.searchValue(searchValue);\r\n            dataSource.load().done(this._dataSourceFiltered.bind(this, searchValue))\r\n        }\r\n    },\r\n    _clearFilter: function() {\r\n        var dataSource = this._dataSource;\r\n        dataSource && dataSource.searchValue() && dataSource.searchValue(null)\r\n    },\r\n    _dataSourceFiltered: function() {\r\n        this._isLastMinSearchLengthExceeded = this._isMinSearchLengthExceeded();\r\n        this._refreshList();\r\n        this._refreshPopupVisibility()\r\n    },\r\n    _shouldOpenPopup: function() {\r\n        return this._hasItemsToShow()\r\n    },\r\n    _refreshPopupVisibility: function() {\r\n        if (this.option(\"readOnly\") || !this._searchValue()) {\r\n            return\r\n        }\r\n        var shouldOpenPopup = this._shouldOpenPopup();\r\n        if (shouldOpenPopup && !this._isFocused()) {\r\n            return\r\n        }\r\n        this.option(\"opened\", shouldOpenPopup);\r\n        if (shouldOpenPopup) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _dataSourceChangedHandler: function(newItems) {\r\n        if (0 === this._dataSource.pageIndex()) {\r\n            this.option().items = newItems\r\n        } else {\r\n            this.option().items = this.option().items.concat(newItems)\r\n        }\r\n    },\r\n    _hasItemsToShow: function() {\r\n        var resultItems = this._dataSource && this._dataSource.items() || [];\r\n        var resultAmount = resultItems.length;\r\n        var isMinSearchLengthExceeded = this._needPassDataSourceToList();\r\n        return !!(isMinSearchLengthExceeded && resultAmount)\r\n    },\r\n    _clearSearchTimer: function() {\r\n        clearTimeout(this._searchTimer);\r\n        delete this._searchTimer\r\n    },\r\n    _popupShowingHandler: function() {\r\n        this._dimensionChanged()\r\n    },\r\n    _dimensionChanged: function() {\r\n        this.callBase(arguments);\r\n        this._popup && this._updatePopupDimensions()\r\n    },\r\n    _needPopupRepaint: function() {\r\n        if (!this._dataSource) {\r\n            return false\r\n        }\r\n        var currentPageIndex = this._dataSource.pageIndex();\r\n        var needRepaint = isDefined(this._pageIndex) && currentPageIndex <= this._pageIndex;\r\n        this._pageIndex = currentPageIndex;\r\n        return needRepaint\r\n    },\r\n    _updatePopupDimensions: function() {\r\n        if (this._needPopupRepaint()) {\r\n            this._popup.repaint()\r\n        }\r\n        this._list && this._list.updateDimensions()\r\n    },\r\n    _getMaxHeight: function() {\r\n        var $element = this.$element();\r\n        var $customBoundaryContainer = this._$customBoundaryContainer;\r\n        var offsetTop = $element.offset().top - ($customBoundaryContainer ? $customBoundaryContainer.offset().top : 0);\r\n        var windowHeight = getOuterHeight(window);\r\n        var containerHeight = $customBoundaryContainer ? Math.min(getOuterHeight($customBoundaryContainer), windowHeight) : windowHeight;\r\n        var maxHeight = Math.max(offsetTop, containerHeight - offsetTop - getOuterHeight($element));\r\n        return Math.min(.5 * containerHeight, maxHeight)\r\n    },\r\n    _clean: function() {\r\n        if (this._list) {\r\n            delete this._list\r\n        }\r\n        delete this._isLastMinSearchLengthExceeded;\r\n        this.callBase()\r\n    },\r\n    _dispose: function() {\r\n        this._clearSearchTimer();\r\n        this.callBase()\r\n    },\r\n    _setCollectionWidgetOption: function() {\r\n        this._setListOption.apply(this, arguments)\r\n    },\r\n    _setSubmitValue: function() {\r\n        var value = this.option(\"value\");\r\n        var submitValue = this._shouldUseDisplayValue(value) ? this._displayGetter(value) : value;\r\n        this._getSubmitElement().val(submitValue)\r\n    },\r\n    _shouldUseDisplayValue: function(value) {\r\n        return \"this\" === this.option(\"valueExpr\") && isObject(value)\r\n    },\r\n    _optionChanged: function(args) {\r\n        this._dataExpressionOptionChanged(args);\r\n        switch (args.name) {\r\n            case \"hoverStateEnabled\":\r\n            case \"focusStateEnabled\":\r\n                this._isDesktopDevice() && this._setListOption(args.name, args.value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"items\":\r\n                if (!this.option(\"dataSource\")) {\r\n                    this._processDataSourceChanging()\r\n                }\r\n                break;\r\n            case \"dataSource\":\r\n                this._processDataSourceChanging();\r\n                break;\r\n            case \"valueExpr\":\r\n                this._renderValue();\r\n                this._setListOption(\"keyExpr\", this._getCollectionKeyExpr());\r\n                break;\r\n            case \"displayExpr\":\r\n                this._renderValue();\r\n                this._setListOption(\"displayExpr\", this._displayGetterExpr());\r\n                break;\r\n            case \"searchMode\":\r\n                this._validateSearchMode();\r\n                break;\r\n            case \"minSearchLength\":\r\n                this._refreshList();\r\n                break;\r\n            case \"searchEnabled\":\r\n            case \"showDataBeforeSearch\":\r\n            case \"searchExpr\":\r\n                this._invalidate();\r\n                break;\r\n            case \"onContentReady\":\r\n                this._initContentReadyAction();\r\n                break;\r\n            case \"onSelectionChanged\":\r\n                this._initSelectionChangedAction();\r\n                break;\r\n            case \"onItemClick\":\r\n                this._initItemClickAction();\r\n                break;\r\n            case \"grouped\":\r\n            case \"groupTemplate\":\r\n            case \"wrapItemText\":\r\n            case \"noDataText\":\r\n            case \"useItemTextAsTitle\":\r\n                this._setListOption(args.name);\r\n                break;\r\n            case \"displayValue\":\r\n                this.option(\"text\", args.value);\r\n                break;\r\n            case \"itemTemplate\":\r\n            case \"searchTimeout\":\r\n                break;\r\n            case \"selectedItem\":\r\n                if (args.previousValue !== args.value) {\r\n                    this._selectionChangedAction({\r\n                        selectedItem: args.value\r\n                    })\r\n                }\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n}).include(DataExpressionMixin, DataConverterMixin);\r\nregisterComponent(\"dxDropDownList\", DropDownList);\r\nexport default DropDownList;\r\n","/**\r\n * DevExtreme (esm/ui/select_box.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    noop,\r\n    ensureDefined\r\n} from \"../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isPromise\r\n} from \"../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    inArray\r\n} from \"../core/utils/array\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    Deferred,\r\n    fromPromise\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport errors from \"../core/errors\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport messageLocalization from \"../localization/message\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport DropDownList from \"./drop_down_editor/ui.drop_down_list\";\r\nimport \"./list/modules/selection\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../events/utils/index\";\r\nvar DISABLED_STATE_SELECTOR = \".dx-state-disabled\";\r\nvar SELECTBOX_CLASS = \"dx-selectbox\";\r\nvar SELECTBOX_POPUP_CLASS = \"dx-selectbox-popup\";\r\nvar SELECTBOX_CONTAINER_CLASS = \"dx-selectbox-container\";\r\nvar SELECTBOX_POPUP_WRAPPER_CLASS = \"dx-selectbox-popup-wrapper\";\r\nvar SelectBox = DropDownList.inherit({\r\n    _supportedKeys: function() {\r\n        var that = this;\r\n        var parent = this.callBase();\r\n        var clearSelectBox = function(e) {\r\n            var isEditable = this._isEditable();\r\n            if (!isEditable) {\r\n                if (this.option(\"showClearButton\")) {\r\n                    e.preventDefault();\r\n                    this.reset()\r\n                }\r\n            } else if (this._valueSubstituted()) {\r\n                this._preventFiltering = true\r\n            }\r\n            this._savedTextRemoveEvent = e;\r\n            this._preventSubstitution = true\r\n        };\r\n        var searchIfNeeded = function() {\r\n            if (that.option(\"searchEnabled\") && that._valueSubstituted()) {\r\n                that._searchHandler()\r\n            }\r\n        };\r\n        return extend({}, parent, {\r\n            tab: function() {\r\n                if (this.option(\"opened\") && \"instantly\" === this.option(\"applyValueMode\")) {\r\n                    this._resetCaretPosition(true)\r\n                }\r\n                parent.tab && parent.tab.apply(this, arguments);\r\n                this._cancelSearchIfNeed()\r\n            },\r\n            upArrow: function(e) {\r\n                if (parent.upArrow && parent.upArrow.apply(this, arguments)) {\r\n                    if (!this.option(\"opened\")) {\r\n                        this._setNextValue(e)\r\n                    }\r\n                    return true\r\n                }\r\n            },\r\n            downArrow: function(e) {\r\n                if (parent.downArrow && parent.downArrow.apply(this, arguments)) {\r\n                    if (!this.option(\"opened\")) {\r\n                        this._setNextValue(e)\r\n                    }\r\n                    return true\r\n                }\r\n            },\r\n            leftArrow: function() {\r\n                searchIfNeeded();\r\n                parent.leftArrow && parent.leftArrow.apply(this, arguments)\r\n            },\r\n            rightArrow: function() {\r\n                searchIfNeeded();\r\n                parent.rightArrow && parent.rightArrow.apply(this, arguments)\r\n            },\r\n            home: function() {\r\n                searchIfNeeded();\r\n                parent.home && parent.home.apply(this, arguments)\r\n            },\r\n            end: function() {\r\n                searchIfNeeded();\r\n                parent.end && parent.end.apply(this, arguments)\r\n            },\r\n            escape: function() {\r\n                var result = parent.escape && parent.escape.apply(this, arguments);\r\n                this._cancelEditing();\r\n                return null !== result && void 0 !== result ? result : true\r\n            },\r\n            enter: function(e) {\r\n                var isOpened = this.option(\"opened\");\r\n                var inputText = this._input().val().trim();\r\n                var isCustomText = inputText && this._list && !this._list.option(\"focusedElement\");\r\n                if (!inputText && isDefined(this.option(\"value\")) && this.option(\"allowClearing\")) {\r\n                    this._saveValueChangeEvent(e);\r\n                    this.option({\r\n                        selectedItem: null,\r\n                        value: null\r\n                    });\r\n                    this.close()\r\n                } else {\r\n                    if (this.option(\"acceptCustomValue\")) {\r\n                        e.preventDefault();\r\n                        if (isCustomText) {\r\n                            if (isOpened) {\r\n                                this._toggleOpenState()\r\n                            }\r\n                            this._valueChangeEventHandler(e)\r\n                        }\r\n                        return isOpened\r\n                    }\r\n                    if (parent.enter && parent.enter.apply(this, arguments)) {\r\n                        return isOpened\r\n                    }\r\n                }\r\n            },\r\n            space: function(e) {\r\n                var isOpened = this.option(\"opened\");\r\n                var isSearchEnabled = this.option(\"searchEnabled\");\r\n                var acceptCustomValue = this.option(\"acceptCustomValue\");\r\n                if (!isOpened || isSearchEnabled || acceptCustomValue) {\r\n                    return\r\n                }\r\n                e.preventDefault();\r\n                this._valueChangeEventHandler(e);\r\n                return true\r\n            },\r\n            backspace: clearSelectBox,\r\n            del: clearSelectBox\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            placeholder: messageLocalization.format(\"Select\"),\r\n            fieldTemplate: null,\r\n            valueChangeEvent: \"change\",\r\n            acceptCustomValue: false,\r\n            onCustomItemCreating: function(e) {\r\n                if (!isDefined(e.customItem)) {\r\n                    e.customItem = e.text\r\n                }\r\n            },\r\n            showSelectionControls: false,\r\n            allowClearing: true,\r\n            tooltipEnabled: false,\r\n            openOnFieldClick: true,\r\n            showDropDownButton: true,\r\n            displayCustomValue: false,\r\n            useHiddenSubmitElement: true\r\n        })\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initCustomItemCreatingAction()\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(SELECTBOX_CLASS);\r\n        this._renderTooltip();\r\n        this.callBase();\r\n        this._$container.addClass(SELECTBOX_CONTAINER_CLASS)\r\n    },\r\n    _createPopup: function() {\r\n        this.callBase();\r\n        this._popup.$element().addClass(SELECTBOX_POPUP_CLASS);\r\n        this._popup.$overlayContent().attr(\"tabindex\", -1)\r\n    },\r\n    _popupWrapperClass: function() {\r\n        return this.callBase() + \" \" + SELECTBOX_POPUP_WRAPPER_CLASS\r\n    },\r\n    _cancelEditing: function() {\r\n        if (!this.option(\"searchEnabled\") && this._list) {\r\n            this._focusListElement(null);\r\n            this._updateField(this.option(\"selectedItem\"))\r\n        }\r\n    },\r\n    _renderOpenedState: function() {\r\n        this.callBase();\r\n        if (this.option(\"opened\")) {\r\n            this._scrollToSelectedItem();\r\n            this._focusSelectedElement()\r\n        }\r\n    },\r\n    _focusSelectedElement: function() {\r\n        var searchValue = this._searchValue();\r\n        if (!searchValue) {\r\n            this._focusListElement(null);\r\n            return\r\n        }\r\n        var $listItems = this._list._itemElements();\r\n        var index = inArray(this.option(\"selectedItem\"), this.option(\"items\"));\r\n        var focusedElement = index >= 0 && !this._isCustomItemSelected() ? $listItems.eq(index) : null;\r\n        this._focusListElement(focusedElement)\r\n    },\r\n    _renderFocusedElement: function() {\r\n        if (!this._list) {\r\n            return\r\n        }\r\n        var searchValue = this._searchValue();\r\n        if (!searchValue || this.option(\"acceptCustomValue\")) {\r\n            this._focusListElement(null);\r\n            return\r\n        }\r\n        var $listItems = this._list._itemElements();\r\n        var focusedElement = $listItems.not(DISABLED_STATE_SELECTOR).eq(0);\r\n        this._focusListElement(focusedElement)\r\n    },\r\n    _focusListElement: function(element) {\r\n        this._preventInputValueRender = true;\r\n        this._list.option(\"focusedElement\", getPublicElement(element));\r\n        delete this._preventInputValueRender\r\n    },\r\n    _scrollToSelectedItem: function() {\r\n        this._list && this._list.scrollToItem(this._list.option(\"selectedItem\"))\r\n    },\r\n    _listContentReadyHandler: function() {\r\n        this.callBase();\r\n        var isPaginate = this._dataSource && this._dataSource.paginate();\r\n        if (isPaginate && this._needPopupRepaint()) {\r\n            return\r\n        }\r\n        this._scrollToSelectedItem()\r\n    },\r\n    _renderValue: function() {\r\n        this._renderInputValue();\r\n        this._setSubmitValue();\r\n        return (new Deferred).resolve()\r\n    },\r\n    _renderInputValue: function() {\r\n        return this.callBase().always(function() {\r\n            this._renderInputValueAsync()\r\n        }.bind(this))\r\n    },\r\n    _renderInputValueAsync: function() {\r\n        this._renderTooltip();\r\n        this._renderInputValueImpl().always(function() {\r\n            this._refreshSelected()\r\n        }.bind(this))\r\n    },\r\n    _renderInputValueImpl: function() {\r\n        this._renderField();\r\n        return (new Deferred).resolve()\r\n    },\r\n    _setNextItem: function(step) {\r\n        var item = this._calcNextItem(step);\r\n        var value = this._valueGetter(item);\r\n        this._setValue(value)\r\n    },\r\n    _setNextValue: function(e) {\r\n        var dataSourceIsLoaded = this._dataSource.isLoaded() ? (new Deferred).resolve() : this._dataSource.load();\r\n        dataSourceIsLoaded.done(function() {\r\n            var selectedIndex = this._getSelectedIndex();\r\n            var hasPages = this._dataSource.pageSize();\r\n            var isLastPage = this._dataSource.isLastPage();\r\n            var isLastItem = selectedIndex === this._items().length - 1;\r\n            this._saveValueChangeEvent(e);\r\n            var step = \"downArrow\" === normalizeKeyName(e) ? 1 : -1;\r\n            if (hasPages && !isLastPage && isLastItem && step > 0) {\r\n                if (!this._popup) {\r\n                    this._createPopup()\r\n                }\r\n                if (!this._dataSource.isLoading()) {\r\n                    this._list._loadNextPage().done(this._setNextItem.bind(this, step))\r\n                }\r\n            } else {\r\n                this._setNextItem(step)\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _setSelectedItem: function(item) {\r\n        var isUnknownItem = !this._isCustomValueAllowed() && void 0 === item;\r\n        this.callBase(isUnknownItem ? null : item);\r\n        if (!isUnknownItem && (!this._isEditable() || this._isCustomItemSelected())) {\r\n            this._setListOption(\"selectedItem\", this.option(\"selectedItem\"))\r\n        }\r\n    },\r\n    _isCustomValueAllowed: function() {\r\n        return this.option(\"acceptCustomValue\") || this.callBase()\r\n    },\r\n    _displayValue: function(item) {\r\n        item = !isDefined(item) && this._isCustomValueAllowed() ? this.option(\"value\") : item;\r\n        return this.callBase(item)\r\n    },\r\n    _listConfig: function() {\r\n        var result = extend(this.callBase(), {\r\n            pageLoadMode: \"scrollBottom\",\r\n            onSelectionChanged: this._getSelectionChangeHandler(),\r\n            selectedItem: this.option(\"selectedItem\"),\r\n            onFocusedItemChanged: this._listFocusedItemChangeHandler.bind(this)\r\n        });\r\n        if (this.option(\"showSelectionControls\")) {\r\n            extend(result, {\r\n                showSelectionControls: true,\r\n                selectionByClick: true\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _listFocusedItemChangeHandler: function(e) {\r\n        if (this._preventInputValueRender) {\r\n            return\r\n        }\r\n        var list = e.component;\r\n        var focusedElement = $(list.option(\"focusedElement\"));\r\n        var focusedItem = list._getItemData(focusedElement);\r\n        this._updateField(focusedItem)\r\n    },\r\n    _updateField: function(item) {\r\n        var fieldTemplate = this._getTemplateByOption(\"fieldTemplate\");\r\n        if (!(fieldTemplate && this.option(\"fieldTemplate\"))) {\r\n            var text = this._displayGetter(item);\r\n            this.option(\"text\", text);\r\n            this._renderDisplayText(text);\r\n            return\r\n        }\r\n        this._renderField()\r\n    },\r\n    _getSelectionChangeHandler: function() {\r\n        return this.option(\"showSelectionControls\") ? this._selectionChangeHandler.bind(this) : noop\r\n    },\r\n    _selectionChangeHandler: function(e) {\r\n        each(e.addedItems || [], function(_, addedItem) {\r\n            this._setValue(this._valueGetter(addedItem))\r\n        }.bind(this))\r\n    },\r\n    _getActualSearchValue: function() {\r\n        return this._dataSource.searchValue()\r\n    },\r\n    _toggleOpenState: function(isVisible) {\r\n        if (this.option(\"disabled\")) {\r\n            return\r\n        }\r\n        isVisible = arguments.length ? isVisible : !this.option(\"opened\");\r\n        if (!isVisible && !this._shouldClearFilter()) {\r\n            this._restoreInputText(true)\r\n        }\r\n        if (this._wasSearch() && isVisible) {\r\n            this._wasSearch(false);\r\n            var showDataImmediately = this.option(\"showDataBeforeSearch\") || this._isMinSearchLengthExceeded();\r\n            if (showDataImmediately && this._dataSource) {\r\n                if (this._searchTimer) {\r\n                    return\r\n                }\r\n                var searchValue = this._getActualSearchValue();\r\n                searchValue && this._wasSearch(true);\r\n                this._filterDataSource(searchValue || null)\r\n            } else {\r\n                this._setListOption(\"items\", [])\r\n            }\r\n        }\r\n        if (isVisible) {\r\n            this._scrollToSelectedItem()\r\n        }\r\n        this.callBase(isVisible)\r\n    },\r\n    _renderTooltip: function() {\r\n        if (this.option(\"tooltipEnabled\")) {\r\n            this.$element().attr(\"title\", this.option(\"displayValue\"))\r\n        }\r\n    },\r\n    _renderDimensions: function() {\r\n        this.callBase();\r\n        this._dimensionChanged()\r\n    },\r\n    _isValueEqualInputText: function() {\r\n        var initialSelectedItem = this.option(\"selectedItem\");\r\n        if (null === initialSelectedItem) {\r\n            return false\r\n        }\r\n        var value = this._displayGetter(initialSelectedItem);\r\n        var displayValue = value ? String(value) : \"\";\r\n        var inputText = this._searchValue();\r\n        return displayValue === inputText\r\n    },\r\n    _popupHidingHandler: function() {\r\n        if (this._isValueEqualInputText()) {\r\n            this._cancelEditing()\r\n        }\r\n        this.callBase()\r\n    },\r\n    _popupHiddenHandler: function() {\r\n        this.callBase();\r\n        if (this._shouldCancelSearch()) {\r\n            this._wasSearch(false);\r\n            this._searchCanceled();\r\n            this._shouldCancelSearch(false)\r\n        }\r\n    },\r\n    _restoreInputText: function(saveEditingValue) {\r\n        if (this.option(\"readOnly\")) {\r\n            return\r\n        }\r\n        this._loadItemDeferred && this._loadItemDeferred.always(function() {\r\n            var initialSelectedItem = this.option(\"selectedItem\");\r\n            if (this.option(\"acceptCustomValue\")) {\r\n                if (!saveEditingValue) {\r\n                    this._updateField(initialSelectedItem);\r\n                    this._clearFilter()\r\n                }\r\n                return\r\n            }\r\n            if (this.option(\"searchEnabled\")) {\r\n                if (!this._searchValue() && this.option(\"allowClearing\")) {\r\n                    this._clearTextValue();\r\n                    return\r\n                }\r\n            }\r\n            if (this._isValueEqualInputText()) {\r\n                return\r\n            }\r\n            this._renderInputValue().always(function(selectedItem) {\r\n                var newSelectedItem = ensureDefined(selectedItem, initialSelectedItem);\r\n                this._setSelectedItem(newSelectedItem);\r\n                this._updateField(newSelectedItem);\r\n                this._clearFilter()\r\n            }.bind(this))\r\n        }.bind(this))\r\n    },\r\n    _focusOutHandler: function(e) {\r\n        if (!this._preventNestedFocusEvent(e)) {\r\n            var isOverlayTarget = this._isOverlayNestedTarget(e.relatedTarget);\r\n            if (!isOverlayTarget) {\r\n                this._restoreInputText();\r\n                this._clearSearchTimer()\r\n            }\r\n            this._cancelSearchIfNeed(e)\r\n        }\r\n        e.target = this._input().get(0);\r\n        this.callBase(e)\r\n    },\r\n    _cancelSearchIfNeed: function(e) {\r\n        var {\r\n            searchEnabled: searchEnabled\r\n        } = this.option();\r\n        var isOverlayTarget = this._isOverlayNestedTarget(null === e || void 0 === e ? void 0 : e.relatedTarget);\r\n        var shouldCancelSearch = this._wasSearch() && searchEnabled && !isOverlayTarget;\r\n        if (shouldCancelSearch) {\r\n            var _this$_popup;\r\n            var isPopupVisible = null === (_this$_popup = this._popup) || void 0 === _this$_popup ? void 0 : _this$_popup._hideAnimationProcessing;\r\n            this._clearSearchTimer();\r\n            if (isPopupVisible) {\r\n                this._shouldCancelSearch(true)\r\n            } else {\r\n                this._wasSearch(false);\r\n                this._searchCanceled()\r\n            }\r\n        }\r\n    },\r\n    _shouldCancelSearch: function(value) {\r\n        if (!arguments.length) {\r\n            return this._shouldCancelSearchValue\r\n        }\r\n        this._shouldCancelSearchValue = value\r\n    },\r\n    _isOverlayNestedTarget: function(target) {\r\n        return !!$(target).closest(\".\".concat(SELECTBOX_POPUP_WRAPPER_CLASS)).length\r\n    },\r\n    _clearTextValue: function() {\r\n        if (this.option(\"selectedItem\")) {\r\n            if (this._savedTextRemoveEvent) {\r\n                this._saveValueChangeEvent(this._savedTextRemoveEvent)\r\n            }\r\n            this.option(\"value\", null)\r\n        }\r\n        delete this._savedTextRemoveEvent\r\n    },\r\n    _shouldOpenPopup: function() {\r\n        return this._needPassDataSourceToList() && this._wasSearch()\r\n    },\r\n    _isFocused: function() {\r\n        var activeElement = domAdapter.getActiveElement();\r\n        return this.callBase() && $(activeElement).closest(this._input()).length > 0\r\n    },\r\n    _renderValueChangeEvent: function() {\r\n        if (this._isEditable()) {\r\n            this.callBase()\r\n        }\r\n    },\r\n    _fieldRenderData: function() {\r\n        var $listFocused = this._list && this.option(\"opened\") && $(this._list.option(\"focusedElement\"));\r\n        if ($listFocused && $listFocused.length) {\r\n            return this._list._getItemData($listFocused)\r\n        }\r\n        return this.option(\"selectedItem\")\r\n    },\r\n    _isSelectedValue: function(value) {\r\n        return this._isValueEquals(value, this.option(\"value\"))\r\n    },\r\n    _shouldCloseOnItemClick: function() {\r\n        return !(this.option(\"showSelectionControls\") && \"single\" !== this.option(\"selectionMode\"))\r\n    },\r\n    _listItemClickHandler: function(e) {\r\n        var previousValue = this._getCurrentValue();\r\n        this._focusListElement($(e.itemElement));\r\n        this._saveValueChangeEvent(e.event);\r\n        this._completeSelection(this._valueGetter(e.itemData));\r\n        if (this._shouldCloseOnItemClick()) {\r\n            this.option(\"opened\", false)\r\n        }\r\n        if (this.option(\"searchEnabled\") && previousValue === this._valueGetter(e.itemData)) {\r\n            this._updateField(e.itemData)\r\n        }\r\n        if (this._shouldClearFilter()) {\r\n            this._cancelSearchIfNeed()\r\n        }\r\n    },\r\n    _shouldClearFilter: function() {\r\n        return this._wasSearch()\r\n    },\r\n    _completeSelection: function(value) {\r\n        this._setValue(value)\r\n    },\r\n    _loadItem: function(value, cache) {\r\n        var that = this;\r\n        var deferred = new Deferred;\r\n        this.callBase(value, cache).done(function(item) {\r\n            deferred.resolve(item)\r\n        }.bind(this)).fail(function(args) {\r\n            if (null !== args && void 0 !== args && args.shouldSkipCallback) {\r\n                return\r\n            }\r\n            var selectedItem = that.option(\"selectedItem\");\r\n            if (that.option(\"acceptCustomValue\") && value === that._valueGetter(selectedItem)) {\r\n                deferred.resolve(selectedItem)\r\n            } else {\r\n                deferred.reject()\r\n            }\r\n        }.bind(this));\r\n        return deferred.promise()\r\n    },\r\n    _loadInputValue: function(value, callback) {\r\n        this._loadItemDeferred = this._loadItem(value).always(callback);\r\n        return this._loadItemDeferred\r\n    },\r\n    _isCustomItemSelected: function() {\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        var searchValue = this._searchValue();\r\n        var selectedItemText = this._displayGetter(selectedItem);\r\n        return !selectedItemText || searchValue !== selectedItemText.toString()\r\n    },\r\n    _valueChangeEventHandler: function(e) {\r\n        if (this.option(\"acceptCustomValue\") && this._isCustomItemSelected() && !this._isValueChanging) {\r\n            this._isValueChanging = true;\r\n            this._customItemAddedHandler(e);\r\n            this._isValueChanging = false\r\n        }\r\n    },\r\n    _initCustomItemCreatingAction: function() {\r\n        this._customItemCreatingAction = this._createActionByOption(\"onCustomItemCreating\")\r\n    },\r\n    _createCustomItem: function(text) {\r\n        var params = {\r\n            text: text\r\n        };\r\n        var actionResult = this._customItemCreatingAction(params);\r\n        var item = ensureDefined(actionResult, params.customItem);\r\n        if (isDefined(actionResult)) {\r\n            errors.log(\"W0015\", \"onCustomItemCreating\", \"customItem\")\r\n        }\r\n        return item\r\n    },\r\n    _customItemAddedHandler: function(e) {\r\n        var searchValue = this._searchValue();\r\n        var item = this._createCustomItem(searchValue);\r\n        this._saveValueChangeEvent(e);\r\n        if (void 0 === item) {\r\n            this._renderValue();\r\n            throw errors.Error(\"E0121\")\r\n        }\r\n        if (isPromise(item)) {\r\n            fromPromise(item).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this, null))\r\n        } else {\r\n            this._setCustomItem(item)\r\n        }\r\n    },\r\n    _setCustomItem: function(item) {\r\n        if (this._disposed) {\r\n            return\r\n        }\r\n        item = item || null;\r\n        this.option(\"selectedItem\", item);\r\n        this._cancelSearchIfNeed();\r\n        this._setValue(this._valueGetter(item));\r\n        this._renderDisplayText(this._displayGetter(item))\r\n    },\r\n    _clearValueHandler: function(e) {\r\n        this._preventFiltering = true;\r\n        this.callBase(e);\r\n        this._searchCanceled();\r\n        return false\r\n    },\r\n    _wasSearch: function(value) {\r\n        if (!arguments.length) {\r\n            return this._wasSearchValue\r\n        }\r\n        this._wasSearchValue = value\r\n    },\r\n    _searchHandler: function() {\r\n        if (this._preventFiltering) {\r\n            delete this._preventFiltering;\r\n            return\r\n        }\r\n        if (this._needPassDataSourceToList()) {\r\n            this._wasSearch(true)\r\n        }\r\n        this.callBase(arguments)\r\n    },\r\n    _dataSourceFiltered: function(searchValue) {\r\n        this.callBase();\r\n        if (null !== searchValue) {\r\n            this._renderInputSubstitution();\r\n            this._renderFocusedElement()\r\n        }\r\n    },\r\n    _valueSubstituted: function() {\r\n        var input = this._input().get(0);\r\n        var currentSearchLength = this._searchValue().length;\r\n        var isAllSelected = 0 === input.selectionStart && input.selectionEnd === currentSearchLength;\r\n        var inputHasSelection = input.selectionStart !== input.selectionEnd;\r\n        var isLastSymbolSelected = currentSearchLength === input.selectionEnd;\r\n        return this._wasSearch() && inputHasSelection && !isAllSelected && isLastSymbolSelected && this._shouldSubstitutionBeRendered()\r\n    },\r\n    _shouldSubstitutionBeRendered: function() {\r\n        return !this._preventSubstitution && this.option(\"searchEnabled\") && !this.option(\"acceptCustomValue\") && \"startswith\" === this.option(\"searchMode\")\r\n    },\r\n    _renderInputSubstitution: function() {\r\n        if (!this._shouldSubstitutionBeRendered()) {\r\n            delete this._preventSubstitution;\r\n            return\r\n        }\r\n        var item = this._list && this._getPlainItems(this._list.option(\"items\"))[0];\r\n        if (!item) {\r\n            return\r\n        }\r\n        var $input = this._input();\r\n        var valueLength = $input.val().length;\r\n        if (0 === valueLength) {\r\n            return\r\n        }\r\n        var inputElement = $input.get(0);\r\n        var displayValue = this._displayGetter(item).toString();\r\n        inputElement.value = displayValue;\r\n        this._caret({\r\n            start: valueLength,\r\n            end: displayValue.length\r\n        })\r\n    },\r\n    _dispose: function() {\r\n        this._renderInputValueAsync = noop;\r\n        delete this._loadItemDeferred;\r\n        this.callBase()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"onCustomItemCreating\":\r\n                this._initCustomItemCreatingAction();\r\n                break;\r\n            case \"tooltipEnabled\":\r\n                this._renderTooltip();\r\n                break;\r\n            case \"displayCustomValue\":\r\n            case \"acceptCustomValue\":\r\n            case \"showSelectionControls\":\r\n                this._invalidate();\r\n                break;\r\n            case \"allowClearing\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxSelectBox\", SelectBox);\r\nexport default SelectBox;\r\n","/**\r\n * DevExtreme (esm/ui/validation/default_adapter.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nvar DefaultAdapter = Class.inherit({\r\n    ctor(editor, validator) {\r\n        this.editor = editor;\r\n        this.validator = validator;\r\n        this.validationRequestsCallbacks = [];\r\n        var handler = args => {\r\n            this.validationRequestsCallbacks.forEach(item => item(args))\r\n        };\r\n        editor.validationRequest.add(handler);\r\n        editor.on(\"disposing\", (function() {\r\n            editor.validationRequest.remove(handler)\r\n        }))\r\n    },\r\n    getValue() {\r\n        return this.editor.option(\"value\")\r\n    },\r\n    getCurrentValidationError() {\r\n        return this.editor.option(\"validationError\")\r\n    },\r\n    bypass() {\r\n        return this.editor.option(\"disabled\")\r\n    },\r\n    applyValidationResults(params) {\r\n        this.editor.option({\r\n            validationErrors: params.brokenRules,\r\n            validationStatus: params.status\r\n        })\r\n    },\r\n    reset() {\r\n        this.editor.reset()\r\n    },\r\n    focus() {\r\n        this.editor.focus()\r\n    }\r\n});\r\nexport default DefaultAdapter;\r\n","/**\r\n * DevExtreme (esm/ui/validator.js)\r\n * Version: 21.2.6\r\n * Build date: Tue Mar 01 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    data as elementData\r\n} from \"../core/element_data\";\r\nimport Callbacks from \"../core/utils/callbacks\";\r\nimport errors from \"./widget/ui.errors\";\r\nimport DOMComponent from \"../core/dom_component\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    map\r\n} from \"../core/utils/iterator\";\r\nimport ValidationEngine from \"./validation_engine\";\r\nimport DefaultAdapter from \"./validation/default_adapter\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport Guid from \"../core/guid\";\r\nvar VALIDATOR_CLASS = \"dx-validator\";\r\nvar VALIDATION_STATUS_VALID = \"valid\";\r\nvar VALIDATION_STATUS_INVALID = \"invalid\";\r\nvar VALIDATION_STATUS_PENDING = \"pending\";\r\nvar Validator = DOMComponent.inherit({\r\n    _initOptions: function(options) {\r\n        this.callBase.apply(this, arguments);\r\n        this.option(ValidationEngine.initValidationOptions(options))\r\n    },\r\n    _getDefaultOptions() {\r\n        return extend(this.callBase(), {\r\n            validationRules: []\r\n        })\r\n    },\r\n    _init() {\r\n        this.callBase();\r\n        this._initGroupRegistration();\r\n        this.focused = Callbacks();\r\n        this._initAdapter();\r\n        this._validationInfo = {\r\n            result: null,\r\n            deferred: null,\r\n            skipValidation: false\r\n        }\r\n    },\r\n    _initGroupRegistration() {\r\n        var group = this._findGroup();\r\n        if (!this._groupWasInit) {\r\n            this.on(\"disposing\", (function(args) {\r\n                ValidationEngine.removeRegisteredValidator(args.component._validationGroup, args.component)\r\n            }))\r\n        }\r\n        if (!this._groupWasInit || this._validationGroup !== group) {\r\n            ValidationEngine.removeRegisteredValidator(this._validationGroup, this);\r\n            this._groupWasInit = true;\r\n            this._validationGroup = group;\r\n            ValidationEngine.registerValidatorInGroup(group, this)\r\n        }\r\n    },\r\n    _setOptionsByReference() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _getEditor() {\r\n        var element = this.$element()[0];\r\n        return elementData(element, \"dx-validation-target\")\r\n    },\r\n    _initAdapter() {\r\n        var dxStandardEditor = this._getEditor();\r\n        var adapter = this.option(\"adapter\");\r\n        if (!adapter) {\r\n            if (dxStandardEditor) {\r\n                adapter = new DefaultAdapter(dxStandardEditor, this);\r\n                adapter.validationRequestsCallbacks.push(args => {\r\n                    if (this._validationInfo.skipValidation) {\r\n                        return\r\n                    }\r\n                    this.validate(args)\r\n                });\r\n                this.option(\"adapter\", adapter);\r\n                return\r\n            }\r\n            throw errors.Error(\"E0120\")\r\n        }\r\n        var callbacks = adapter.validationRequestsCallbacks;\r\n        if (callbacks) {\r\n            callbacks.push(args => {\r\n                this.validate(args)\r\n            })\r\n        }\r\n    },\r\n    _toggleRTLDirection(isRtl) {\r\n        var _this$option$editor$o, _this$option, _this$option$editor;\r\n        var rtlEnabled = null !== (_this$option$editor$o = null === (_this$option = this.option(\"adapter\")) || void 0 === _this$option ? void 0 : null === (_this$option$editor = _this$option.editor) || void 0 === _this$option$editor ? void 0 : _this$option$editor.option(\"rtlEnabled\")) && void 0 !== _this$option$editor$o ? _this$option$editor$o : isRtl;\r\n        this.callBase(rtlEnabled)\r\n    },\r\n    _initMarkup() {\r\n        this.$element().addClass(VALIDATOR_CLASS);\r\n        this.callBase()\r\n    },\r\n    _render() {\r\n        this.callBase();\r\n        this._toggleAccessibilityAttributes()\r\n    },\r\n    _toggleAccessibilityAttributes() {\r\n        var dxStandardEditor = this._getEditor();\r\n        if (dxStandardEditor) {\r\n            var rules = this.option(\"validationRules\") || [];\r\n            var isRequired = rules.some(_ref => {\r\n                var {\r\n                    type: type\r\n                } = _ref;\r\n                return \"required\" === type\r\n            }) || null;\r\n            if (dxStandardEditor.isInitialized()) {\r\n                dxStandardEditor.setAria(\"required\", isRequired)\r\n            }\r\n            dxStandardEditor.option(\"_onMarkupRendered\", () => {\r\n                dxStandardEditor.setAria(\"required\", isRequired)\r\n            })\r\n        }\r\n    },\r\n    _visibilityChanged(visible) {\r\n        if (visible) {\r\n            this._initGroupRegistration()\r\n        }\r\n    },\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"validationGroup\":\r\n                this._initGroupRegistration();\r\n                return;\r\n            case \"validationRules\":\r\n                this._resetValidationRules();\r\n                this._toggleAccessibilityAttributes();\r\n                void 0 !== this.option(\"isValid\") && this.validate();\r\n                return;\r\n            case \"adapter\":\r\n                this._initAdapter();\r\n                break;\r\n            case \"isValid\":\r\n            case \"validationStatus\":\r\n                this.option(ValidationEngine.synchronizeValidationOptions(args, this.option()));\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _getValidationRules() {\r\n        if (!this._validationRules) {\r\n            this._validationRules = map(this.option(\"validationRules\"), (rule, index) => extend({}, rule, {\r\n                validator: this,\r\n                index: index\r\n            }))\r\n        }\r\n        return this._validationRules\r\n    },\r\n    _findGroup() {\r\n        var $element = this.$element();\r\n        return this.option(\"validationGroup\") || ValidationEngine.findGroup($element, this._modelByElement($element))\r\n    },\r\n    _resetValidationRules() {\r\n        delete this._validationRules\r\n    },\r\n    validate(args) {\r\n        var adapter = this.option(\"adapter\");\r\n        var name = this.option(\"name\");\r\n        var bypass = adapter.bypass && adapter.bypass();\r\n        var value = args && void 0 !== args.value ? args.value : adapter.getValue();\r\n        var currentError = adapter.getCurrentValidationError && adapter.getCurrentValidationError();\r\n        var rules = this._getValidationRules();\r\n        var currentResult = this._validationInfo && this._validationInfo.result;\r\n        if (currentResult && currentResult.status === VALIDATION_STATUS_PENDING && currentResult.value === value) {\r\n            return extend({}, currentResult)\r\n        }\r\n        var result;\r\n        if (bypass) {\r\n            result = {\r\n                isValid: true,\r\n                status: VALIDATION_STATUS_VALID\r\n            }\r\n        } else if (currentError && currentError.editorSpecific) {\r\n            currentError.validator = this;\r\n            result = {\r\n                isValid: false,\r\n                status: VALIDATION_STATUS_INVALID,\r\n                brokenRule: currentError,\r\n                brokenRules: [currentError]\r\n            }\r\n        } else {\r\n            result = ValidationEngine.validate(value, rules, name)\r\n        }\r\n        result.id = (new Guid).toString();\r\n        this._applyValidationResult(result, adapter);\r\n        result.complete && result.complete.then(res => {\r\n            if (res.id === this._validationInfo.result.id) {\r\n                this._applyValidationResult(res, adapter)\r\n            }\r\n        });\r\n        return extend({}, this._validationInfo.result)\r\n    },\r\n    reset() {\r\n        var adapter = this.option(\"adapter\");\r\n        var result = {\r\n            id: null,\r\n            isValid: true,\r\n            brokenRule: null,\r\n            brokenRules: null,\r\n            pendingRules: null,\r\n            status: VALIDATION_STATUS_VALID,\r\n            complete: null\r\n        };\r\n        this._validationInfo.skipValidation = true;\r\n        adapter.reset();\r\n        this._validationInfo.skipValidation = false;\r\n        this._resetValidationRules();\r\n        this._applyValidationResult(result, adapter)\r\n    },\r\n    _updateValidationResult(result) {\r\n        if (!this._validationInfo.result || this._validationInfo.result.id !== result.id) {\r\n            var complete = this._validationInfo.deferred && this._validationInfo.result.complete;\r\n            this._validationInfo.result = extend({}, result, {\r\n                complete: complete\r\n            })\r\n        } else {\r\n            for (var prop in result) {\r\n                if (\"id\" !== prop && \"complete\" !== prop) {\r\n                    this._validationInfo.result[prop] = result[prop]\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _applyValidationResult(result, adapter) {\r\n        var validatedAction = this._createActionByOption(\"onValidated\", {\r\n            excludeValidators: [\"readOnly\"]\r\n        });\r\n        result.validator = this;\r\n        this._updateValidationResult(result);\r\n        adapter.applyValidationResults && adapter.applyValidationResults(this._validationInfo.result);\r\n        this.option({\r\n            validationStatus: this._validationInfo.result.status\r\n        });\r\n        if (this._validationInfo.result.status === VALIDATION_STATUS_PENDING) {\r\n            if (!this._validationInfo.deferred) {\r\n                this._validationInfo.deferred = new Deferred;\r\n                this._validationInfo.result.complete = this._validationInfo.deferred.promise()\r\n            }\r\n            this._eventsStrategy.fireEvent(\"validating\", [this._validationInfo.result]);\r\n            return\r\n        }\r\n        if (this._validationInfo.result.status !== VALIDATION_STATUS_PENDING) {\r\n            validatedAction(result);\r\n            if (this._validationInfo.deferred) {\r\n                this._validationInfo.deferred.resolve(result);\r\n                this._validationInfo.deferred = null\r\n            }\r\n        }\r\n    },\r\n    focus() {\r\n        var adapter = this.option(\"adapter\");\r\n        adapter && adapter.focus && adapter.focus()\r\n    },\r\n    _useTemplates: function() {\r\n        return false\r\n    }\r\n});\r\nregisterComponent(\"dxValidator\", Validator);\r\nexport default Validator;\r\n"],"names":["DX_SWIPEABLE","SWIPEABLE_CLASS","ACTION_TO_EVENT_MAP","onStart","swipeEventStart","onUpdated","swipeEventSwipe","onEnd","swipeEventEnd","onCancel","Swipeable","DOMComponent","_getDefaultOptions","extend","this","callBase","elastic","immediate","direction","itemSizeFunc","_render","$element","addClass","_attachEventHandlers","_detachEventHandlers","option","NAME","_createEventData","each","actionName","eventName","action","_createActionByOption","context","addNamespace","eventsEngine","_eventData","e","event","bind","_optionChanged","args","name","_useTemplates","ScrollDirection","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_BOTH","BOX_CLASS","BOX_SELECTOR","BOX_ITEM_CLASS","BOX_ITEM_DATA_KEY","MINSIZE_MAP","row","col","MAXSIZE_MAP","SHRINK","FLEX_JUSTIFY_CONTENT_MAP","start","end","center","FLEX_ALIGN_ITEMS_MAP","stretch","FLEX_DIRECTION_MAP","setFlexProp","element","prop","value","normalizeStyleProp","style","styleProp","hasWindow","isDefined","cssName","dasherize","styleExpr","attributes","indexOf","setAttribute","BOX_EVENTNAMESPACE","UPDATE_EVENT","FALLBACK_BOX_ITEM","FALLBACK_WRAP_MAP","FALLBACK_MAIN_SIZE_MAP","getter","getWidth","setter","setWidth","getHeight","setHeight","FALLBACK_CROSS_SIZE_MAP","FALLBACK_PRE_MARGIN_MAP","FALLBACK_POST_MARGIN_MAP","FALLBACK_CROSS_PRE_MARGIN_MAP","FALLBACK_CROSS_POST_MARGIN_MAP","MARGINS_RTL_FLIP_MAP","marginLeft","marginRight","BoxItem","oldValue","_options","fireItemStateChangedAction","state","oldState","CollectionWidgetItem","FlexLayoutStrategy","_$element","_option","initSize","noop","update","css","display","stylePropPrefix","get","justifyContent","_normalizedAlign","align","alignItems","_normalizedCrossAlign","crossAlign","$items","flexPropPrefix","$item","$","item","data","maxSize","minSize","baseSize","ratio","shrink","children","_","itemContent","width","height","flexBasis","flexDirection","FallbackLayoutStrategy","fontSize","whiteSpace","verticalAlign","_$items","totalItemSize","boxSize","freeSpace","shift","_setItemsMargins","first","_chooseMarginSide","last","length","size","that","itemSize","totalRatio","totalWeightedShrink","totalBaseSize","removeClass","itemData","_baseSize","freeSpaceSize","_boxSize","factor","totalFactor","Math","round","_contentSize","_parseSize","String","match","parseFloat","_boxSizeValue","arguments","_totalBaseSize","result","is","detach","append","renderItems","renderAlign","renderCrossAlign","find","parent","closest","Box","activeStateEnabled","focusStateEnabled","onItemStateChanged","_layoutStrategy","_queue","_itemContainer","_itemSelector","concat","_initLayout","_initBoxQueue","_layout","config","push","renderBox","_renderAlign","_renderActions","_onItemStateChanged","items","_queueIsNotEmpty","_shiftItemFromQueue","_createComponent","itemTemplate","itemHoldTimeout","onItemHold","onItemClick","onItemContextMenu","onItemRendered","_itemElements","clearTimeout","_updateTimer","setTimeout","_isUpdated","$itemNode","node","_renderItemContentByNode","boxConfig","box","_pushItemToQueue","source","visible","_dimensionChanged","apply","property","_invalidate","options","CollectionWidget","ItemClass","registerComponent","monthGetter","date","getMonth","monthSetter","day","getDate","monthLimits","getLimits","newValue","fitIntoRange","parseInt","min","max","setMonth","newDay","setDate","PATTERN_GETTERS","a","getHours","E","y","M","L","d","H","h","m","s","S","PATTERN_SETTERS","getPatternSetters","hours","current","setHours","lastDayInMonth","isPM","getDay","currentYear","getFullYear","valueLength","maxLimitLength","substr","setFullYear","getPatternGetter","patternChar","renderDateParts","text","regExpInfo","regexp","exec","sections","_loop","i","pattern","patterns","replace","index","isStub","caret","limits","_len","Array","_key","forcedPattern","dM","Date","getAmPm","getDatePartIndexByPosition","dateParts","position","caretInGroup","DATE_COMPONENTS","TIME_COMPONENTS","ONE_MINUTE","ONE_DAY","ONE_YEAR","getStringFormat","format","formatType","type","dateUtils","SUPPORTED_FORMATS","MIN_DATEVIEW_DEFAULT_DATE","MAX_DATEVIEW_DEFAULT_DATE","newDate","FORMATS_INFO","getStandardPattern","components","time","datetime","standardPattern","$input","attr","val","FORMATS_MAP","SUBMIT_FORMATS_MAP","toStandardDateFormat","dateSerialization","fromStandardDateFormat","isDate","getMaxMonthDay","year","month","mergeDates","isNaN","getTime","now","valueOf","formatInfo","componentInfo","DATE_COMPONENTS_INFO","getLongestCaptionIndex","captionArray","longestIndex","longestCaptionLength","formatUsesMonthName","dateLocalization","formatUsesDayName","getLongestDate","monthNames","dayNames","stringFormat","longestDate","normalizeTime","setSeconds","setMilliseconds","formatter","formatDate","startValue","endValue","minutes","seconds","milliseconds","CALENDAR_NAVIGATOR_CLASS","CALENDAR_NAVIGATOR_PREVIOUS_MONTH_CLASS","CALENDAR_NAVIGATOR_NEXT_MONTH_CLASS","CALENDAR_NAVIGATOR_PREVIOUS_VIEW_CLASS","CALENDAR_NAVIGATOR_NEXT_VIEW_CLASS","CALENDAR_NAVIGATOR_DISABLED_LINK_CLASS","CALENDAR_NAVIGATOR_CAPTION_BUTTON_CLASS","Navigator","Widget","onClick","onCaptionClick","_init","_initActions","_clickAction","_captionClickAction","_initMarkup","_renderButtons","_renderCaption","_prevButton","Button","icon","integrationOptions","$prevButton","_nextButton","$nextButton","_caption","$caption","toggleButton","buttonPrefix","buttonName","button","toggleClass","abstract","CALENDAR_OTHER_VIEW_CLASS","CALENDAR_CELL_CLASS","CALENDAR_EMPTY_CELL_CLASS","CALENDAR_TODAY_CLASS","CALENDAR_SELECTED_DATE_CLASS","CALENDAR_CONTOURED_DATE_CLASS","CALENDAR_DXCLICK_EVENT_NAME","clickEventName","CALENDAR_DATE_VALUE_KEY","BaseView","_getViewName","cellTemplate","disabledDates","onCellClick","rowCount","colCount","allowValueSelection","_todayDate","_renderImpl","_createTable","_createDisabledDatesHandler","_renderBody","_renderContouredDate","_renderValue","_renderEvents","_$table","setAria","label","messageLocalization","role","$body","appendTo","rowData","cellDate","_getFirstCellData","prevCellDate","rowIndex","_createRow","colIndex","_renderCell","domAdapter","appendChild","_appendCell","cell","_appendMethodName","_cacheAppendMethodName","rtlEnabled","_createCell","$cell","className","_getClassNameByDate","coreDateUtils","elementData","getCellAriaLabel","params","cellIndex","render","_prepareCellTemplateData","innerHTML","_getCellText","_getNextCellData","_isTodayCell","_isDateOutOfRange","isDateDisabled","_isOtherView","model","view","container","getPublicElement","_createCellClickAction","currentTarget","hasClass","_cellClickAction","_disabledDatesHandler","isArray","_getDefaultDisabledDatesHandler","contouredDate","$oldContouredCell","_getContouredCell","$newContouredCell","_getCellByDate","_changeValue","selectedCell","_selectedCell","_getFirstAvailableDate","isBoundary","CALENDAR_OTHER_MONTH_CLASS","Views","firstDayOfWeek","_renderHeader","_renderFocusTarget","$headerRow","$header","prepend","_renderHeaderCell","_getDayCaption","_getFirstDayOfWeek","fullCaption","full","abbrCaption","abbreviated","scope","abbr","getNavigatorCaption","today","minDate","maxDate","daysInWeek","dayIndex","firstDay","firstMonthDayOffset","isDisabledDate","some","currentDate","foundDate","decade","firstYearInDecade","startDate","endDate","_isValueOnCurrentView","century","minDecade","maxDecade","firstDecadeInCentury","CALENDAR_CLASS","CALENDAR_BODY_CLASS","CALENDAR_FOOTER_CLASS","CALENDAR_TODAY_BUTTON_CLASS","CALENDAR_HAS_FOOTER_CLASS","CALENDAR_VIEWS_WRAPPER_CLASS","CALENDAR_VIEW_CLASS","FOCUSED_STATE_CLASS","ANIMATION_DURATION_SHOW_VIEW","POP_ANIMATION_FROM","POP_ANIMATION_TO","CALENDAR_INPUT_STANDARD_PATTERN","LEVEL_COMPARE_MAP","ZOOM_LEVEL","MONTH","YEAR","DECADE","CENTURY","elementHasFocus","Calendar","Editor","_activeStateUnit","hoverStateEnabled","dateSerializationFormat","zoomLevel","maxZoomLevel","minZoomLevel","showTodayButton","onContouredChanged","skipFocusCheck","_defaultOptionsRules","device","devices","deviceType","_supportedKeys","rightArrow","preventDefault","isCommandKeyPressed","_waitRenderView","_moveCurrentDateByOffset","_getRtlCorrection","leftArrow","upArrow","_navigateUp","fx","_view","downArrow","_navigateDown","home","_dateOption","_moveToClosestAvailableDate","pageUp","pageDown","tab","enter","_isMaxZoomLevel","_updateTimeComponent","_dateValue","_getSerializationFormat","optionName","isNumeric","isString","_convertToDate","cellElement","target","_saveValueChangeEvent","optionValue","serializationFormat","_shiftDate","offset","reverse","baseDate","_getMaxDate","_getMinDate","isDateForwardInNeighborView","_areDatesInNeighborView","isDateForwardInRange","inRange","dateForward","_areDatesInSameView","date1","date2","getYear","b","abs","isDateForwardInStartView","isDateBackwardInStartView","isCurrentDateAvailable","_isDateNotAvailable","isDateForwardAvailable","isDateBackwardAvailable","dateBackward","_correctZoomLevel","_initCurrentDate","_getNormalizedDate","_getDate","_onContouredChanged","_initTemplates","_templateManager","addDefaultTemplates","FunctionTemplate","_updateCurrentDate","_$viewsWrapper","normalizedDate","_getViewsOffset","_isOtherViewCellClicked","_suppressNavigation","_navigate","_renderNavigator","_setViewContoured","_updateAriaId","_focusTarget","zoomCorrection","_getMonthsOffset","yearOffset","monthOffset","_alreadyViewRender","_getDateByOffset","_waitRenderViewTimeout","_date","currentDay","difference","lastDay","_renderSubmitElement","_renderViews","_navigator","_renderSwipeable","_renderFooter","_updateAriaSelected","_getKeyboardListeners","_renderSpecificView","beforeDate","_beforeView","_isViewAvailable","afterDate","_afterView","_translateViews","specificView","$view","_viewConfig","isFunction","_injectComponent","tabIndex","_cellClickHandler","_getTemplateByOption","func","component","move","left","top","_getViewPosition","coefficient","rtlCorrection","nextView","isMaxZoomLevel","currentValue","setMinutes","getMinutes","getSeconds","getMilliseconds","newCurrentDate","_animateShowView","_navigatorConfig","_updateButtonsVisibility","_navigatorClickHandler","_isMinZoomLevel","_getRequiredView","_swipeable","_swipeStartHandler","_swipeUpdateHandler","_swipeEndHandler","_viewWidth","maxLeftOffset","maxRightOffset","isRtl","_updateNavigatorCaption","targetOffset","moveOffset","_isDateInInvalidRange","_animateWrapper","_viewWidthValue","$todayButton","_toTodayView","_$footer","_$submitElement","_setSubmitValue","dateValue","_getSubmitElement","_popAnimationView","promise","from","to","duration","scale","opacity","newView","remove","offsetSign","endPosition","viewsWrapperPosition","_preventViewChangeAnimation","_wrapperAnimationEndHandler","done","_rearrangeViews","_resetLocation","viewOffset","viewToCreateKey","viewToRemoveKey","destinationDate","dateByOffset","_clean","_clearViewWidthCache","_disposeViews","_dispose","_refreshViews","_visibilityChanged","_focusInHandler","_focusOutHandler","_updateViewsValue","previousValue","_value","$prevSelectedCell","$selectedCell","_value2","ariaId","Guid","$newCell","_suppressingNavigation","callback","getContouredDate","Class","DateBoxStrategy","ctor","dateBox","widgetOption","_widget","_renderWidget","_createWidget","_getWidgetContainer","widgetName","_getWidgetName","widgetOptions","_getWidgetOptions","getDefaultOptions","mode","getDisplayFormat","supportedKeys","getKeyboardListener","customizeButtons","getParsedText","renderInputMinMax","renderOpenedState","_updateValue","popupConfig","_this$_getPopup","_getPopup","repaint","renderPopupContent","popup","$popupContent","$content","_preventFocusOnPopup","getFirstPopupElement","getLastPopupElement","_popup","popupShowingHandler","popupHiddenHandler","dateBoxValue","useCurrentDateByDefault","getDefaultDate","textChangedHandler","renderValue","getValue","isAdaptivityChanged","dispose","empty","dateOption","CalendarStrategy","homeEndHandler","viewValue","_getContouredValue","lastActionElement","_lastActionElement","shouldCloseDropDown","_closeDropDownByEnter","close","_valueChangeEventHandler","displayFormat","onValueChanged","_valueChangedHandler","_refreshActiveDescendant","actionValue","_popupConfig","toolbarItems","buttonsLocation","splitPair","_isCalendarVisible","unshift","widget","toolbar","location","onInitialized","registerKeyHandler","_escapeHandler","collision","isEmptyObject","focus","prevValue","convertToLocation","isPlainObject","ensureDefined","x","isHorizontal","isVertical","DATEVIEW_ROLLER_CLASS","DATEVIEW_ROLLER_ACTIVE_CLASS","DATEVIEW_ROLLER_CURRENT_CLASS","DATEVIEW_ROLLER_ITEM_CLASS","DATEVIEW_ROLLER_ITEM_SELECTED_CLASS","DATEVIEW_ROLLER_ITEM_SELECTED_FRAME_CLASS","DATEVIEW_ROLLER_ITEM_SELECTED_BORDER_CLASS","DateViewRoller","showScrollbar","useNative","selectedIndex","bounceEnabled","showOnClick","onSelectedIndexChanged","scrollByContent","_visibilityChangedHandler","_endActionHandler","_renderSelectedItemFrame","_renderContainerClick","_renderItems","_renderSelectedValue","_renderItemsClick","_renderWheelEvent","_renderSelectedIndexChanged","_selectedIndexChanged","_isWheelScrolled","clickAction","content","forEach","add","_fitIndex","_moveTo","_getItemPosition","_renderActiveStateItem","itemCount","_itemHeight","itemSelector","_getItemSelector","_itemClickHandler","_itemElementIndex","itemElement","targetLocation","scrollOffset","delta","_isVisible","_prepareDirections","_animation","_shouldScrollToNeighborItem","floor","complete","resetPosition","handleMove","_moveIsAllowed","itemsCount","currentSelectedIndex","locationTop","currentSelectedIndexPosition","dy","_isInNullNeighborhood","newSelectedIndex","_fitSelectedIndexInRange","_getSelectedIndexAfterScroll","_getNewSelectedIndex","_visibilityTimer","toggleActiveState","fitIndex","_fireSelectedIndexChanged","_refreshSelectedIndex","Scrollable","DATEVIEW_CLASS","DATEVIEW_COMPACT_CLASS","DATEVIEW_WRAPPER_CLASS","DATEVIEW_ROLLER_CONTAINER_CLASS","TYPE","ROLLER_TYPE","DateView","_valueOption","_getDefaultDate","uiDateUtils","applyCompactClass","_device","_toggleFormatClasses","_toggleCompactClass","currentFormat","previousFormat","_wrapper","_$wrapper","_renderContentImpl","_renderRollers","_$rollersContainer","_createRollerConfigs","_rollers","_rollerConfigs","$roller","displayItems","roller","_toggleActive","_setActiveRoller","_setRollerState","partName","_createRollerConfig","componentName","valueRange","_calculateRollerConfigValueRange","curDate","_getCurrentDate","setValue","valueItems","getIndex","currentRoller","activeRoller","_updateRollersPosition","correctIndex","rollerValue","_refreshRollers","_refreshRoller","rollerType","rollerConfig","toString","minYear","minMonth","maxYear","maxMonth","minHour","maxHour","window","getWindow","DateViewStrategy","openOnFieldClick","applyButtonText","_popupToolbarItemsConfig","defaultOptionsRules","platform","_device2","phone","maxWidth","maxHeight","my","at","of","inputType","_isNativeType","onDisposing","NativeStrategy","split","_getDateBoxType","inArray","dropDownButton","getButton","android","on","_input","click","TIMEVIEW_CLASS","TIMEVIEW_CLOCK_CLASS","TIMEVIEW_FIELD_CLASS","TIMEVIEW_HOURARROW_CLASS","TIMEVIEW_TIME_SEPARATOR_CLASS","TIMEVIEW_FORMAT12_CLASS","TIMEVIEW_FORMAT12_AM","TIMEVIEW_FORMAT12_PM","TIMEVIEW_MINUTEARROW_CLASS","rotateArrow","$arrow","angle","cssRotate","TimeView","use24HourFormat","_showClock","_arrowOffset","stylingMode","_getValue","_renderBox","_updateTime","$box","template","_renderClock","_renderField","__","_$hourArrow","_$minuteArrow","$container","_updateClock","hourArrowAngle","minuteArrowAngle","_getBoxItems","is12HourFormat","_hourBox","_minuteBox","_format12","_createHourBox","_createMinuteBox","_createFormat12Box","editor","NumberBox","_onHourBoxValueChanged","onKeyboardHandled","opts","_keyboardHandler","_getNumberBoxConfig","_isPM","_ref","newHours","_convertMaxHourToMin","maxHoursValue","_ref2","newMinutes","periodNames","SelectBox","valueExpr","displayExpr","_ref3","_refreshFormat12","_silentEditorValueUpdate","_suppressValueChangeAction","_resumeValueChangeAction","showSpinButtons","displayValueFormatter","_normalizeHours","_updateField","SHRINK_VIEW_SCREEN_WIDTH","DATEBOX_ADAPTIVITY_MODE_CLASS","DATEBOX_TIMEVIEW_SIDE_CLASS","CalendarWithTimeStrategy","applyValueMode","_is24HourFormat","viewDate","_updateDateTime","_timeView","_isShrinkView","$wrapper","_isSmallScreen","_repaintTimer","isAdaptiveMode","currentAdaptiveMode","_currentAdaptiveMode","preventDefaultValue","_box","_attachTabHandler","calendarPopupConfig","onShowing","clockMinWidth","shiftKey","_hasFocusClass","_this$_widget$option","_removeMinWidthTimer","DATE_FORMAT","BOUNDARY_VALUES","ListStrategy","opened","space","_widgetItems","_getDateByItemData","_refreshItems","List","_timeListItemTemplate","_listItemClickHandler","onFocusedItemChanged","selectionMode","_getTimeListItems","_setSelectedItemsByValue","_asyncScrollTimeout","_scrollToSelectedItem","dateIndex","_getDateIndex","scrollToItem","n","_areDatesEqual","second","_getBoundaryDate","_getRangeItems","rangeDuration","rangeItems","interval","boundary","boundaryValue","_updatePopupHeight","dropDownOptionsHeight","getSizeValue","_setPopupOption","popupHeight","getOuterHeight","_timeList","updateDimensions","DATEBOX_CLASS","DX_AUTO_WIDTH_CLASS","DX_INVALID_BADGE_CLASS","DX_CLEAR_BUTTON_CLASS","DATEBOX_WRAPPER_CLASS","DROPDOWNEDITOR_OVERLAY_CLASS","PICKER_TYPE","calendar","rollers","list","native","STRATEGY_NAME","dateView","calendarWithTime","STRATEGY_CLASSES","Native","CalendarWithTime","DateBox","DropDownEditor","_strategy","_renderButtonContainers","showAnalogClock","pickerType","invalidDateMessage","dateOutOfRangeMessage","adaptivityEnabled","calendarOptions","useHiddenSubmitElement","realDevice","currentDevice","version","compareVersions","_initOptions","_userOptions","_updatePickerOptions","_pickerType","_initStrategy","_toLowerCaseFirstLetter","string","charAt","toLowerCase","strategyName","_getStrategyName","_getFormatType","strategy","currentType","isTime","test","_refreshFormatClass","_refreshPickerTypeClass","_formatValidationIcon","_renderDimensions","_this$_strategy$_upda","_this$_strategy","call","inputElement","isRtlEnabled","clearButtonWidth","_getClearButtonWidth","longestElementDimensions","_getLongestElementDimensions","curWidth","getComputedStyle","shouldHideValidationIcon","_storedPadding","leftPadding","rightPadding","paddingLeft","paddingRight","_isClearButtonVisible","clearButtonElement","longestValue","$longestValueElement","createTextElementHiddenCopy","isPaddingStored","storedPadding","elementWidth","necessaryWidth","_renderPopup","_renderPopupWrapper","title","_getPopupTitle","dragEnabled","classPostfixes","_renderPopupContent","_getFirstPopupElement","_getLastPopupElement","_popupShowingHandler","_popupShownHandler","_popupHiddenHandler","_clearValueHandler","_readOnlyPropValue","isCustomValueDisabled","_getDisplayedText","submitFormat","submitValue","displayedText","_getFormatByMode","validationError","parsedDate","_getParsedDate","_getDateByDefault","_applyInternalValidation","isValid","editorSpecific","_applyCustomValidation","parsedText","hasText","isDateType","isDateInRange","validationMessage","message","validationRequest","fire","_serializeDate","_isValueChanged","oldTime","newTime","_isTextChanged","oldText","newText","_renderProps","_renderOpenedState","_refreshStrategy","placeholder","_refresh","_applyButtonHandler","_renderDisplayText","_this$_strategy2","_updatePopupTitle","_this$_popup","_renderInputValue","forceIsoDateParsing","dxEvent","isValueChanged","_clearValue","reset","MASK_EVENT_NAMESPACE","FORWARD","BACKWARD","DateBoxMask","DateBoxBase","originalHandlers","callOriginalHandler","originalHandler","normalizeKeyName","applyHandler","maskHandler","_shouldUseOriginalHandler","del","_revertPart","_isAllSelected","backspace","_selectFirstPart","_selectLastPart","escape","_revertChanges","_enterHandler","_selectNextPart","_upDownArrowHandler","isNotDeletingInCalendar","_useMaskBehavior","altKey","step","_setNewDateIfEmpty","originalValue","_getActivePartValue","_initialMaskValue","_loadMaskValue","_partIncrease","useMaskBehavior","emptyDateValue","_isSingleCharKey","originalEvent","alt","key","_isSingleDigitKey","_e$originalEvent","_useBeforeInputEvent","_keyInputHandler","oldInputValue","_processInputKey","browser","code","_maskInputHandler","_renderSelectedPart","_maskBeforeInputHandler","isBackwardDeletion","isForwardDeletion","_keyPressHandler","_maskValue","_activePartIndex","_searchString","_searchNumber","_caret","_getFormatPattern","_formatPattern","isLDMLPattern","getFormat","_renderDateParts","_partLimitsReached","formatLength","_getActivePartProp","isShortFormat","maxSearchLength","isLengthExceeded","_searchValue","isValueOverflowed","char","_getActivePartLimits","_setActivePartValue","startString","endLimit","_clearSearchValue","actual","_prepareRegExpInfo","_regExpInfo","getRegExpInfo","flags","quantifierRegexp","RegExp","convertedSource","map","sourcePart","numberLocalization","join","_initMaskState","_renderMask","_detachMaskEvents","_clearMaskState","_attachMaskEvents","_dateParts","_maskClickHandler","_maskPasteHandler","_maskCompositionEndHandler","_onMouseWheel","_disposed","isBoundaryIndex","_getRealLimitsPattern","lockOtherParts","limitFunction","_addLeadingZeroes","zeroes","_saveMaskValue","limitDelta","_applyLimits","limitBase","limitClosest","sign","_replaceSelectedText","clipboardText","_isDateValid","_isValueDirty","_fireChangeEvent","shouldFireChangeEvent","isDefaultPrevented","DROP_DOWN_EDITOR_BUTTON_CLASS","DROP_DOWN_EDITOR_BUTTON_VISIBLE","BUTTON_MESSAGE","DropDownButton","currentTemplate","instance","_openHandler","_getOptions","_addToContainer","elementAttr","_legacyRender","isReadOnly","useInkRipple","disabled","_addTemplate","$editor","isVisible","_isSameTemplate","shouldUpdate","TextEditorButton","DROP_DOWN_EDITOR_CLASS","DROP_DOWN_EDITOR_INPUT_WRAPPER","DROP_DOWN_EDITOR_BUTTON_ICON","DROP_DOWN_EDITOR_OVERLAY","DROP_DOWN_EDITOR_OVERLAY_FLIPPED","DROP_DOWN_EDITOR_ACTIVE","DROP_DOWN_EDITOR_FIELD_CLICKABLE","DROP_DOWN_EDITOR_FIELD_TEMPLATE_WRAPPER","isIOs","TextBox","$focusableElement","stopPropagation","_validatedOpening","_getDefaultButtons","Ctor","onOpened","onClosed","acceptCustomValue","deferRendering","dropDownButtonTemplate","fieldTemplate","showDropDownButton","buttons","dropDownOptions","showTitle","popupPosition","_getDefaultPopupPosition","onPopupInitialized","cancelButtonText","getDefaultAlignment","v","isGeneric","_inputWrapper","_initVisibilityActions","_initPopupInitializedAction","_updatePopupPosition","cache","currentPosition","_openAction","excludeValidators","_closeAction","_popupInitializedAction","_renderOpenHandler","_attachFocusOutHandler","_createPopup","_renderInput","_wrapInput","_setDefaultAria","_$container","wrapInner","eq","haspopup","autocomplete","_isEditable","_cleanFocusState","_detachFocusEvents","_getFieldTemplate","_renderTemplatedField","_fieldRenderData","_renderPlaceholder","hasFieldTemplate","always","isFocused","focused","_detachKeyboardEvents","_refreshButtonsContainer","_detachWrapperContent","$templateWrapper","onRendered","errors","_integrateInput","_attachWrapperContent","_this$_$submitElement","_this$_$beforeButtons","_this$_$afterButtonsC","beforeButtonsContainerParent","_$beforeButtonsContainer","parentNode","afterButtonsContainerParent","_$afterButtonsContainer","removeChild","_this$_$submitElement2","_$buttonsContainer","_renderFocusState","_refreshValueChangeEvent","_refreshEvents","_refreshEmptinessEvent","_toggleEmptinessEventHandler","_renderEmptinessEvent","$icon","$inputWrapper","_getInputClickHandler","_openOnFieldClickAction","_createAction","_detachFocusOutEvents","newTarget","relatedTarget","popupWrapper","_$popup","isNewTargetOutside","_executeOpenAction","_focusInput","_toggleOpenState","_keyboardEventBindingTarget","_resetCaretPosition","ignoreEditable","caretPosition","expanded","_popupContentId","Popup","showing","shown","hiding","_popupHidingHandler","hidden","contentReady","_contentReadyHandler","_setPopupContentId","_bindInnerWidgetOptions","_popupInitializedHandler","_ignoreFunctionValueDeprecation","getElementWidth","shading","wrapperAttr","class","hideOnParentScroll","closeOnOutsideClick","_closeOutsideDropDownHandler","animation","show","hide","showCloseButton","_getPopupToolbarItems","onPositioned","_popupPositionedHandler","fullScreen","contentTemplate","popupWidth","$overlayContent","flip","_this$_validationMess","$popupOverlayContent","locate","_label","$label","_validationMessage","_getValidationMessagePositionRequest","_this$_validationMess2","positionRequest","animationPosition","myTop","popupTop","$target","$dropDownButton","isInputClicked","isDropDownButtonClicked","isOutsideClick","_setWidgetOption","_popupElementTabHandler","_popupElementEscHandler","_popupButtonInitializedHandler","buttonsConfig","shortcut","_cancelButtonHandler","_applyButtonsLocation","resultConfig","_popupOptionChanged","optionsKeys","Object","keys","_updateButtons","open","field","getOuterWidth","FormItemsRunTimeInfo","_map","condition","guid","widgetInstance","itemsRunTimeInfo","getItems","removeItemByKey","itemRunTimeInfo","$itemContainer","_findWidgetInstance","storedItem","targetPath","_findFieldByCondition","path","dataField","targetItem","_ref4","_ref5","currentItem","handler","filteredKeys","filter","_translator","moveTo","completeAction","MULTIVIEW_CLASS","MULTIVIEW_WRAPPER_CLASS","MULTIVIEW_ITEM_CONTAINER_CLASS","MULTIVIEW_ITEM_CLASS","MULTIVIEW_ITEM_HIDDEN_CLASS","MULTIVIEW_ITEM_DATA_KEY","MULTIVIEW_ANIMATION_DURATION","toNumber","MultiView","swipeEnabled","animationEnabled","loop","_itemAttributes","loopItemFocus","selectOnFocus","selectionRequired","selectionByClick","_itemClass","_itemDataKey","_$itemContainer","_itemWidth","_itemWidthValue","_clearItemWidthCache","_itemsCount","_normalizeIndex","count","_getRTLSignCorrection","_initSwipeable","_deferredItems","selectedItemIndices","_getSelectedItemIndices","_updateItemsVisibility","_afterItemElementDeleted","deletedActionArgs","splice","itemIndex","_beforeItemElementInserted","change","_executeItemRenderAction","_renderItemContent","renderContentDeferred","Deferred","deferred","$itemContent","resolve","deferRender","_updateItems","newIndex","_updateItemsPosition","_modifyByChanges","$itemElements","positionSign","_animationDirection","$selectedItem","isHidden","_renderSpecificItem","hasItemContent","_itemContentClass","triggerResizeEvent","_refreshItem","_setAriaSelected","_updateSelection","addedSelection","removedSelection","prevIndex","animationDirection","_animateItemContainer","completeCallback","containerPosition","indexDifference","_getItemFocusLoopSignCorrection","isSwipePresent","directionSignVariable","_getSwipeDisabledState","lastIndex","rtl","_swipeDirection","swipeDirection","$selectedElement","itemElements","_itemFocusLooped","_moveFocus","_prevItem","$result","_nextItem","_updateSwipeDisabledState","TABS_ITEM_BADGE_CLASS","BADGE_CLASS","TabsItem","_renderWatchers","_startWatcher","_renderBadge","badge","$badge","TABS_EXPANDED_CLASS","getScrollLeftMax","scrollWidth","clientWidth","isReachedLeft","scrollOffsetLeft","epsilon","isReachedRight","TABS_CLASS","TABS_WRAPPER_CLASS","TABS_STRETCHED_CLASS","TABS_SCROLLABLE_CLASS","TABS_NAV_BUTTONS_CLASS","OVERFLOW_HIDDEN_CLASS","TABS_ITEM_CLASS","TABS_ITEM_SELECTED_CLASS","TABS_NAV_BUTTON_CLASS","TABS_LEFT_NAV_BUTTON_CLASS","TABS_RIGHT_NAV_BUTTON_CLASS","TABS_ITEM_TEXT_CLASS","TABS_ITEM_DATA_KEY","BUTTON_NEXT_ICON","BUTTON_PREV_ICON","FEEDBACK_HIDE_TIMEOUT","FEEDBACK_DURATION_INTERVAL","FEEDBACK_SCROLL_TIMEOUT","TAB_OFFSET","Tabs","showNavButtons","scrollingEnabled","badgeExpr","themeName","currentTheme","isMaterial","_renderWrapper","_renderMultiple","_feedbackHideTimeout","BindableTemplate","_prepareDefaultItemTemplate","$iconElement","getImageContainer","prependTo","_createItemByTemplate","renderArgs","_deferredTemplates","_selectedItemClass","_renderInkRipple","_deferRenderScrolling","when","_renderScrolling","removeClasses","_isItemsWidthExceeded","_scrollable","_renderScrollable","_renderNavButtons","scrollable","getScrollable","scrollTo","_updateNavButtonsVisibility","_scrollToItem","_cleanScrolling","_needStretchItems","tabItemsWidth","_getSummaryItemsWidth","_getVisibleItems","$visibleItems","itemsWidth","maxTabWidth","_cleanNavButtons","_leftButton","_rightButton","_inkRipple","_toggleActiveState","showWave","hideWave","useKeyboard","onScroll","_editStrategy","getItemElement","scrollToElement","_createNavButton","$leftButton","$rightButton","scrollLeft","_updateScrollPosition","scrollBy","holdAction","_holdInterval","setInterval","holdEventName","holdEvent","pointerUpEventName","pointerEvents","pointerOutEventName","navButton","$navButton","timeout","_clearInterval","clearInterval","right","_itemSelectHandler","isItemSelected","_afterItemElementInserted","TabPanelItem","TABPANEL_CLASS","TABPANEL_TABS_CLASS","TABPANEL_CONTAINER_CLASS","TabPanel","itemTitleTemplate","onTitleClick","onTitleHold","onTitleRendered","touch","_createTitleActions","_renderLayout","_createTitleClickAction","_createTitleHoldAction","_createTitleRenderedAction","_titleClickAction","_titleHoldAction","_titleRenderedAction","_renderContent","_resizeEventTimer","_updateLayout","_tabs","_$tabContainer","$tabs","_tabConfig","tabsHeight","marginTop","paddingTop","tabs","tabItems","$activeTab","id","getFocusedItemId","repaintChangesOnly","onSelectionChanged","noDataText","itemTemplateProperty","onOptionChanged","$value","$newItem","onFocusIn","onFocusOut","_isFocusOutHandlerExecuting","_updateFocusState","_toggleFocusClass","_setTabsOption","fullName","selectedTabContent","newItem","ItemOptionAction","_itemsRunTimeInfo","findWidgetInstanceByItem","findItemContainerByItem","findPreparedItemByItem","createItemPathByIndex","isTabs","concatPaths","path1","path2","getTextWithoutSpaces","isEqualToDataFieldOrNameOrTitleOrCaption","fieldName","itemType","caption","getFullOptionName","getOptionNameFromFullName","parts","tryGetTabPath","fullPath","pathParts","resultPathParts","isFullPathContainsTabs","getItemPath","tabOrGroupItems","itemPath","convertToLayoutManagerOptions","form","$formElement","formOptions","validationGroup","extendedLayoutManagerOptions","onFieldDataChanged","onContentReady","onFieldItemRendered","baseOptions","validationBoundary","showRequiredMark","showOptionalMark","requiredMark","optionalMark","requiredMessage","screenByWidth","layoutData","formData","labelLocation","customizeItem","minColWidth","showColonAfterLabel","onEditorEnterKey","labelMode","isRoot","alignItemLabels","cssItemClass","colCountByScreen","onLayoutChanged","WidgetOptionItemOptionAction","findInstance","TabOptionItemOptionAction","tabPanel","findItemIndexByItem","GroupItemTemplateChangedAction","preparedItem","findPreparedItem","_prepareGroupItemTemplate","_renderGroupContentTemplate","TabsOptionItemOptionAction","ValidationRulesItemOptionAction","validator","filterRequired","oldContainsRequired","newContainsRequired","validationRules","CssClassItemOptionAction","findItemContainer","tryCreateItemOptionAction","itemActionOptions","_itemActionOptions$it","RESPONSIVE_BOX_CLASS","SCREEN_SIZE_CLASS_PREFIX","HD_SCREEN_WIDTH","ResponsiveBox","rows","cols","singleColumnScreen","currentScreenFactor","silent","defaultScreenFactorFunc","_initLayoutChangedAction","_layoutChangedAction","_updateRootBox","_$root","_setScreenSize","_screenItems","_itemsByScreen","_prepareGrid","_spreadItems","_layoutItems","_linkNodeToItem","_itemOptionChanged","_findItemElementByItem","_clearItemNodeTemplates","_update","currentScreen","_getCurrentScreen","_removeScreenSizeClass","grid","_grid","_prepareRowsAndCols","_rows","_cols","_createEmptyCell","getSingleColumnRows","screenItemsLength","filteredRows","_filterByScreen","sizeConfig","_defaultSizeConfig","_isSingleColumnScreen","_prepareSingleColumnScreenItems","_sizesByScreen","_screenRegExp","sort","item1","item2","rowspan","colspan","sizeConfigs","_createDefaultSizeConfig","defaultSizeConfig","screenRegExp","grep","screen","_screenWidth","itemInfo","itemCol","itemRow","itemCell","_occupyCells","reduce","locations","_isItemCellOccupied","_markSpanningCell","_loopOverSpanning","rowEnd","colEnd","boundRowEnd","boundColEnd","spanningCell","itemNode","rowsCount","colsCount","_layoutBlock","rootBox","_prepareBoxConfig","_rootBoxConfig","rootItems","_needApplyAutoBaseSize","_isSingleItem","_itemByCell","_layoutDirection","firstCellLocation","isItemRowSpanned","isItemColSpanned","block","crossDirection","_crossDirection","_nextBlock","_isBlockIndivisible","prevBlockOptions","_blockSize","startIndex","endIndex","crossStartIndex","crossSpan","crossIndex","lineCrossSpan","_cellByDirection","lineCrossEndIndex","crossEndIndex","defaultMinSize","forceRemoveRoot","$existingRoot","_saveAssistantRoot","$root","_assistantRoots","_cleanUnusedRoots","_toggleVisibility","_attachClickEvent","WIDGET_CLASS","FORM_CLASS","FORM_GROUP_CLASS","FORM_GROUP_CAPTION_CLASS","FORM_FIELD_ITEM_COL_CLASS","FIELD_ITEM_CLASS","LAYOUT_MANAGER_ONE_COLUMN","FIELD_ITEM_LABEL_CONTENT_CLASS","FORM_LAYOUT_MANAGER_CLASS","FIELD_ITEM_LABEL_CLASS","FIELD_ITEM_CONTENT_CLASS","SINGLE_COLUMN_ITEM_CONTENT","ROOT_SIMPLE_ITEM_CLASS","FORM_GROUP_CONTENT_CLASS","FIELD_ITEM_CONTENT_HAS_GROUP_CLASS","FIELD_ITEM_CONTENT_HAS_TABS_CLASS","FORM_GROUP_WITH_CAPTION_CLASS","FIELD_ITEM_TAB_CLASS","GROUP_COL_COUNT_CLASS","GROUP_COL_COUNT_ATTR","FORM_VALIDATION_SUMMARY","FORM_UNDERLINED_CLASS","SIMPLE_ITEM_TYPE","EDITORS_WITH_ARRAY_VALUE","EDITORS_WITHOUT_LABELS","convertToRenderFieldItemOptions","$parent","rootElementCssClassList","formOrLayoutManager","createComponentCallback","useFlexLayout","formLabelLocation","requiredMessageTemplate","editorValue","canAssignUndefinedValueToEditor","editorValidationBoundary","editorStylingMode","managerLabelLocation","itemId","managerMarkOptions","isRequired","_hasRequiredRuleInSet","isSimpleItem","helpID","helpText","labelOptions","_convertToLabelOptions","formLabelMode","needRenderLabel","labelID","labelNeedBaselineAlign","editorType","editorOptions","_convertToEditorOptions","defaultEditorName","externalEditorOptions","editorInputId","labelText","textWithoutColon","labelMark","markOptions","fromCharCode","needRenderOptionalMarkAsHelpText","getLabelMarkText","convertToLabelMarkOptions","editorOptionsWithValue","inputAttr","dataSource","rules","hasRequiredRule","rule","isEditorWithoutLabels","showColon","captionize","_excluded","GET_LABEL_WIDTH_BY_TEXT_CLASS","FIELD_ITEM_REQUIRED_MARK_CLASS","FIELD_ITEM_LABEL_LOCATION_CLASS","FIELD_ITEM_OPTIONAL_MARK_CLASS","FIELD_ITEM_LABEL_TEXT_CLASS","renderLabel","alignment","_renderLabelMark","markText","setLabelWidthByMaxLabelWidth","$targetContainer","labelsSelector","labelMarkOptions","labelWidth","FIELD_ITEM_LABEL_CONTENT_CLASS_Selector","$FIELD_ITEM_LABEL_CONTENT_CLASS_Items","FIELD_ITEM_LABEL_CONTENT_CLASS_Length","getLabelWidthByInnerHTML","$FIELD_ITEM_LABEL_CONTENT_CLASS","renderLabelOptions","_objectWithoutPropertiesLoose","$hiddenContainer","labelTextElement","getLabelInnerHTML","offsetWidth","child","isEmpty","innerText","FLEX_LAYOUT_CLASS","FIELD_ITEM_OPTIONAL_CLASS","FIELD_ITEM_REQUIRED_CLASS","FIELD_ITEM_CONTENT_WRAPPER_CLASS","FIELD_ITEM_CONTENT_LOCATION_CLASS","FIELD_ITEM_LABEL_ALIGN_CLASS","FIELD_ITEM_HELP_TEXT_CLASS","LABEL_VERTICAL_ALIGNMENT_CLASS","LABEL_HORIZONTAL_ALIGNMENT_CLASS","TEMPLATE_WRAPPER_CLASS","INVALID_CLASS","renderFieldItem","$rootElement","$fieldEditorContainer","$div","editorElem","$validationTarget","validationTargetInstance","isItemHaveCustomLabel","itemName","Validator","dataGetter","formItem","wrapperClass","toggleInvalidClass","parents","_isFocused","$editorParent","FIELD_BUTTON_ITEM_CLASS","renderButtonItem","convertAlignmentToTextAlign","horizontalAlignment","convertAlignmentToJustifyContent","verticalAlignment","$button","buttonInstance","buttonOptions","FIELD_EMPTY_ITEM_CLASS","renderEmptyItem","html","FORM_EDITOR_BY_DEFAULT","LAYOUT_MANAGER_FIRST_ROW_CLASS","LAYOUT_MANAGER_LAST_ROW_CLASS","LAYOUT_MANAGER_FIRST_COL_CLASS","LAYOUT_MANAGER_LAST_COL_CLASS","LAYOUT_STRATEGY_FLEX","LAYOUT_STRATEGY_FALLBACK","LayoutManager","readOnly","_setOptionsByReference","_optionsByReference","_itemWatchers","_updateReferencedOptions","_initDataAndItems","_cleanItemWatchers","initialData","_syncDataWithItems","userItems","_getDataByField","_updateFieldValue","_isCheckboxUndefinedStateEnabled","allowIndeterminateState","nameParts","propertyName","pop","variableWrapper","_triggerOnFieldDataChanged","isUserItemsExist","_generateItemsByData","processedItems","_isAcceptableItem","_processItem","isObject","_updateItemWatchers","_setItems","_sortItems","watch","_getWatch","skipImmediate","itemField","_getEditorTypeByDataType","_item$allowIndetermin","dataType","normalizeIndexes","_items","_sortIndexes","itemA","itemB","indexA","visibleIndex","indexB","clear","_renderResponsiveBox","_hasBrowserFlex","templatesInfo","_getColCount","_prepareItemsWithMerging","layoutItems","_generateLayoutItems","_responsiveBox","_getResponsiveBoxConfig","_renderTemplates","_itemStateChangedHandler","info","_renderButtonItem","_renderFieldItem","xsColCount","xs","isSingleColumnMode","$itemElement","itemRenderedCountInPreviousRows","itemCssClassList","cssClass","isLastColumn","_getRowsCount","isLastRow","_generateRatio","screenFactor","getTargetScreenFactor","getCurrentScreenFactor","_cashedColCount","_getMaxColCount","maxColCount","isCachedColCountObsolete","itemsMergedByCol","j","slice","colSpan","_getColByIndex","merged","generatedItem","rowSpan","_renderEmptyItem","_this$option","_getFormOrThis","_getTemplate","getItemID","_getMarkOptions","_bindDataField","editorInstance","formOrThis","_createWatcher","linkEditorToDataField","fieldValue","array1","array2","deep","removeEvent","_watch","formInstance","readOnlyState","isAutoSize","ceil","newLayoutData","getOwnPropertyNames","_resetWidget","_disableEditorValueChangedHandler","search","_cashedRequiredConfig","valueGetter","compileGetter","dataValue","_resetColCount","_setOptionWithoutOptionChange","isValueReferenceType","_eventsStrategy","fireEvent","updateData","getEditor","findWidgetInstanceByDataField","findWidgetInstanceByName","responsiveBox","getItemsRunTimeInfo","VALIDATION_SUMMARY_CLASS","ITEM_CLASS","ITEM_DATA_KEY","ValidationSummary","_initGroupRegistration","group","ValidationEngine","_modelByElement","groupConfig","_unsubscribeGroup","_groupWasInit","_validationGroup","groupSubscription","_groupValidationHandler","off","_getOrderedItems","validators","orderedItems","foundItems","brokenRules","_validationSummary","_itemValidationHandler","itemsChanged","foundRule","foundItem","_postprocessRenderItem","VALIDATION_ENGINE_CLASS","VALIDATOR_CLASS","ValidationGroup","validatorContainer","summaryContainer","ITEM_OPTIONS_FOR_VALIDATION_UPDATING","Form","_cachedColCountOptions","_groupsColCount","_attachSyncSubscriptions","formID","alignItemLabelsInAllGroups","alignRootItemLabels","showValidationSummary","_getGroupColCount","_applyLabelsWidthByCol","fieldItemClass","inOneColumn","cssExcludeTabbedSelector","excludeTabbed","_applyLabelsWidth","applyLabelsOptions","_getGroupElementsInColumn","columnIndex","cssColCountSelector","groupSelector","_applyLabelsWidthWithGroups","$rootSimpleItems","_applyLabelsWidthWithNestedGroups","$groups","groupsColIndex","groupColIndex","$groupsByCol","groupColCount","_labelLocation","_alignLabelsInColumn","layoutManager","_checkGrouping","_prepareFormData","_setStylingModeClass","_getValidationGroup","_clearCachedInstances","_renderValidationSummary","_lastMarkupScreenFactor","_targetScreenFactor","_getCurrentScreenFactor","_cachedLayoutManagers","_alignLabels","TOOLBAR_CLASS","_clearValidationSummary","useNativeScrolling","useSimulatedScrollbar","_getContent","_this$_$validationSum","_$validationSummary","dxValidationSummary","_prepareItems","parentIsTabbedItem","currentPath","_extends","_tryPrepareGroupItem","_tryPrepareTabbedItem","_tryPrepareItemTemplate","groupContentTemplate","_itemGroupTemplate","_itemTabbedTemplate","_rootLayoutManager","_renderLayoutManager","_createLayoutManagerOptions","_tryGetItemsForTemplate","$tabPanel","tabPanelOptions","triggerShownEvent","extendRunTimeItemInfoByKey","tryUpdateTabPanelInstance","$group","$groupContent","_isDataUpdating","addItemsOrExtendFrom","nestedItemsRunTimeInfo","removeItemsByItems","_this$_validationSumm","layoutManagerOptions","baseColCountByScreen","lg","md","sm","_clearAutoColCountChangedTimeout","autoColCountChangedTimeoutId","_extendConfig","optionFullName","_triggerOnFieldDataChangedByDataSet","splitFullName","_itemsOptionChangedHandler","_formDataOptionChangedHandler","_defaultOptionChangedHandler","_resetValues","_getItemPath","optionNameWithoutPath","simpleOptionName","itemAction","_tryCreateItemOptionAction","_tryExecuteItemOptionAction","_tryChangeLayoutManagerItemOption","_changeItemOption","_generateItemsFromData","removeItemsByPathStartWith","tryExecute","_updateValidationGroupAndSummaryIfNeeded","_this$_validationSumm2","_setLayoutManagerItemOption","_updateLockCount","beginUpdate","findKeyByPath","postponedOperations","endUpdate","contentReadyHandler","tabPath","tabLayoutManager","findGroupOrTabLayoutManagerByPath","endPartIndex","_itemPath","_layoutManager","fullOptionName","formItems","layoutManagerItems","layoutItem","_tryChangeLayoutManagerItemOptions","_getItemByField","resultItem","fieldParts","_getFieldParts","fieldPath","_getItemByFieldPath","subItemsField","_getSubItemField","separatorIndex","resultPath","isItemWithSubItems","isGroupWithName","nameWithoutSpaces","pathNode","_searchItemInEverySubItem","groupItem","_isColCountChanged","oldScreenSize","newScreenSize","isChanged","editorSelector","_updateData","isComplexData","_data","resetValues","resolveWith","itemOption","allowUpdateItems","validate","getRealSeparatorIndex","str","quoteBalance","separatorCount","occurrence","getNthOccurrence","c","splitByIndex","adjustPercentValue","rawValue","precision","adjust","getCaretBoundaries","signParts","number","prefixStubLength","postfixStubLength","_getDigitCountBeforeIndex","decimalSeparator","regExp","escapeRegExp","textBeforePosition","_reverseText","_getDigitPositionByIndex","digitIndex","counter","_trimNonNumericCharsFromEnd","getCaretWithOffset","getCaretAfterFormat","formatted","point","isSeparatorBasedText","isSeparatorBasedString","realSeparatorOccurrenceIndex","pointPosition","newPointPosition","textParts","formattedParts","isCaretOnFloat","relativeIndex","digitsBefore","newPosition","getCaretInBoundaries","formattedIntPart","positionFromEnd","digitsFromEnd","newPositionFromEnd","newPositionFromBegin","isCaretInBoundaries","boundaries","adjustedCaret","getCaretOffset","previousText","previousBoundaries","newBoundaries","SPIN_CLASS","SPIN_BUTTON_CLASS","SPIN_HOLD_DELAY","NUMBER_BOX","POINTERUP_EVENT_NAME","POINTERCANCEL_EVENT_NAME","SpinButton","onChange","_spinIcon","_spinDownHandler","_spinChangeHandler","_clearTimer","_feedBackDeferred","lock","_holdTimer","document","SPIN_CONTAINER_CLASS","SPIN_TOUCH_FRIENDLY_CLASS","SpinButtons","$spinContainer","pointer","$spinContainerChildren","pointerDownAction","_spinButtonsPointerDownHandler","_spinUpChangeHandler","_spinDownChangeHandler","$spinUp","$spinDown","_isTouchFriendly","isTouchFriendly","$spinButtons","spinUp","spinDown","math","FIREFOX_CONTROL_KEYS","FORCE_VALUECHANGE_EVENT_NAMESPACE","NumberBoxBase","TextEditor","useLargeSpinButtons","invalidValueMessage","_isSupportInputMode","generic","_getDefaultAttributes","inputmode","_validateValue","applyServerDecimalSeparator","getChar","isInputCharValid","keyName","_keyPressed","_spinValueChange","inputValue","Number","_forceValueRender","valueText","valuenow","valuetext","formattedValue","_applyDisplayValueFormatter","valuemin","valuemax","_normalizeInputValue","_correctRounding","regex","isFloatValue","isFloatStep","valueAccuracy","stepAccuracy","accuracy","_round","multiplier","pow","_renderValueChangeEvent","forceValueChangeEvent","_forceRefreshInputValue","_normalizeText","_parseValue","valueHasDigits","_isValueValid","_applyValueBoundaries","parsedValue","isValueIncomplete","_isValueIncomplete","isValueCorrect","_isValueInRange","_replaceCommaWithPoint","_inputIsInvalid","isNumberMode","validityState","validity","badInput","_isNumber","isValueValid","isNumber","trim","NUMBER_FORMATTER_NAMESPACE","MOVE_FORWARD","MOVE_BACKWARD","MINUS","MINUS_KEY","INPUT_EVENT","CARET_TIMEOUT_DURATION","NumberBoxMask","_isDeleteKey","minus","_revertSign","_removeHandler","_arrowHandler","_moveCaretToBoundaryEventHandler","_updateFormattedValue","_getTextSeparatorIndex","_preventNestedFocusEvent","clearCaretTimeout","_caretTimeout","_getInputVal","decimalSeparatorIndex","shouldHandleEvent","_focusOutOccurs","_hasValueBeenChanged","_format","_updateParsedValue","_adjustParsedValue","_setTextByParsedValue","_parsedValue","nextCaret","_moveCaretToBoundary","newCaret","_shouldMoveCaret","isDecimalSeparatorNext","moveToFloat","_lastKey","_lastKeyName","_shouldHandleKey","normalizedText","enteredChar","_tryParse","_moveCaret","isDeleteKey","isBackspaceKey","canDelete","_isStub","editedText","noDigits","valueAfterRemoving","_isNonStubAfter","_isPercentFormat","noEscapedFormat","_parse","formatOption","isCustomParser","parser","integerPartStartIndex","formatPointIndex","textPointIndex","formatIntegerPartLength","textIntegerPartLength","_removeStubs","customFormatter","_currentFormat","_updateFormat","getLDMLFormat","_getFormatForSign","_sign","excludeComma","thousandsSeparator","stubs","_getStubs","prefixStubs","postfixRegex","decoratorsRegex","regExpResult","stub","_truncateToPrecision","maxPrecision","strValue","selection","isTextSelected","_getParsedValue","_getPrecisionLimits","isDecimalPointRestricted","isUselessCharRestricted","parsedValueSign","parsedValueWithSign","pointIndex","floatLength","isPrecisionInRange","endsWithZero","_setInputText","_formattedValue","_renderInputType","isNumberType","isDesktop","_setInputType","_isChar","isSpecialChar","isMinusKey","_renderFormatter","_clearCache","_detachFormatterEvents","_attachFormatterEvents","_isInputFromPaste","_isValuePasted","_formatValue","escapedDecimalSeparator","regExpString","stubRegExp","realSeparatorIndex","floatPart","minPrecision","_applyRevertedSign","preserveSelectedText","currentText","caretInBoundaries","_removeMinusFromText","isMinusPressed","parsed","textWithoutMinus","wasMinusRemoved","textWasChanged","clearedText","DataExpressionMixin","DataHelperMixin","_dataExpressionDefaultOptions","_initDataExpressions","_compileValueGetter","_compileDisplayGetter","_initDynamicTemplates","_initDataSource","_itemsToDataSource","_dataSource","DataSource","store","ArrayStore","pageSize","_displayGetter","_displayGetterExpr","_valueGetter","_valueGetterExpr","_loadValue","_unwrappedValue","_loadSingle","_isValueEquals","reject","fail","_loadValueDeferred","_rejectValueLoading","_this$_loadValueDefer","shouldSkipCallback","_getCurrentValue","_getItemKey","value1","value2","dataSourceKey","_compareValues","_compareByCompositeKey","_compareByKey","isObjectType","unwrapObservable","valueKey1","valueKey2","toComparable","_setCollectionWidgetItemTemplate","_setCollectionWidgetOption","_getCollectionKeyExpr","isValueExprField","_dataExpressionOptionChanged","LIST_ITEM_SELECTOR","LIST_ITEM_DATA_KEY","DROPDOWNLIST_POPUP_WRAPPER_CLASS","SKIP_GESTURE_EVENT_CLASS","SEARCH_EVENT","SEARCH_MODES","useCompositionEvents","DropDownList","_allowSelectItemByTab","$focusedItem","_list","_setSelectedElement","_getItemData","_setValue","displayValue","searchEnabled","searchMode","searchTimeout","minSearchLength","searchExpr","valueChangeEvent","selectedItem","showDataBeforeSearch","grouped","groupTemplate","wrapItemText","useItemTextAsTitle","_setListDataSource","_validateSearchMode","_clearSelectedItem","_initItems","_setListFocusedElementOptionChange","_updateParentActiveDescendant","_updateActiveDescendant","_initContentReadyAction","_initSelectionChangedAction","_initItemClickAction","_contentReadyAction","_selectionChangedAction","_itemClickAction","ChildDefaultTemplate","_saveFocusOnWidget","initialOption","_fitIntoRange","_getPlainItems","availableItems","dataQuery","toArray","_calcNextItem","nextIndex","_getSelectedIndex","_updateCustomBoundaryContainer","_popupWrapperClass","customContainer","isWindow","$containerWithParents","overflowY","_$customBoundaryContainer","_loadInputValue","_setSelectedItem","_loadItem","_getItemFromPlain","plainItems","itemByValue","_this$_list","listFocusedItemId","isElementOnDom","activedescendant","_displayValue","_refreshSelected","_listItemElements","itemValue","_isSelectedValue","selectItem","unselectItem","_setFocusPolicy","normalizedSearchMode","_processDataSourceChanging","_isCustomValueAllowed","_clearFilter","_$list","templatesRenderAsynchronously","autoResizeEnabled","_getMaxHeight","_renderList","canListHaveFocus","_canListHaveFocus","_setAriaTargetForList","_getAriaTarget","_listId","$list","_listConfig","_refreshList","_renderPreventBlurOnListClick","controls","owns","_shouldRefreshDataSource","dataSourceProvided","_needPassDataSourceToList","_isDesktopDevice","_templates","templateProvider","_listContentReadyHandler","indicateLoading","keyExpr","_listItemClickAction","_getDataSource","_revertPageOnEmptyLoad","_dataSourceOptions","paginate","_getGroupedOption","_dataSourceFromUrlLoadMode","dxList","_setListOption","_isMinSearchLengthExceeded","_needClearFilter","_canKeepDataSource","_this$_dataSource","isMinSearchLengthExceeded","isLoaded","_isLastMinSearchLengthExceeded","_getSearchEvent","_getCompositionStartEvent","_getCompositionEndEvent","_getSetFocusPolicyEvent","_shouldRenderSearchEvent","_searchHandler","_isTextCompositionInProgress","_isTextComposition","searchValue","_clearSearchTimer","_searchTimer","_searchDataSource","_searchCanceled","_filterDataSource","searchOperation","load","_dataSourceFiltered","_refreshPopupVisibility","_shouldOpenPopup","_hasItemsToShow","shouldOpenPopup","_dataSourceChangedHandler","newItems","pageIndex","resultItems","resultAmount","_updatePopupDimensions","_needPopupRepaint","currentPageIndex","needRepaint","_pageIndex","$customBoundaryContainer","offsetTop","windowHeight","containerHeight","_shouldUseDisplayValue","include","DataConverterMixin","DISABLED_STATE_SELECTOR","SELECTBOX_CLASS","SELECTBOX_POPUP_CLASS","SELECTBOX_CONTAINER_CLASS","SELECTBOX_POPUP_WRAPPER_CLASS","clearSelectBox","isEditable","_valueSubstituted","_preventFiltering","_savedTextRemoveEvent","_preventSubstitution","searchIfNeeded","_cancelSearchIfNeed","_setNextValue","_cancelEditing","isOpened","inputText","isCustomText","isSearchEnabled","onCustomItemCreating","customItem","showSelectionControls","allowClearing","tooltipEnabled","displayCustomValue","_initCustomItemCreatingAction","_renderTooltip","_focusListElement","_focusSelectedElement","$listItems","focusedElement","_isCustomItemSelected","_renderFocusedElement","not","_preventInputValueRender","isPaginate","_renderInputValueAsync","_renderInputValueImpl","_setNextItem","dataSourceIsLoaded","hasPages","isLastPage","isLastItem","isLoading","_loadNextPage","isUnknownItem","pageLoadMode","_getSelectionChangeHandler","_listFocusedItemChangeHandler","focusedItem","_selectionChangeHandler","addedItems","addedItem","_getActualSearchValue","_shouldClearFilter","_restoreInputText","_wasSearch","showDataImmediately","_isValueEqualInputText","initialSelectedItem","_shouldCancelSearch","saveEditingValue","_loadItemDeferred","_clearTextValue","newSelectedItem","isOverlayTarget","_isOverlayNestedTarget","shouldCancelSearch","isPopupVisible","_hideAnimationProcessing","_shouldCancelSearchValue","activeElement","$listFocused","_shouldCloseOnItemClick","_completeSelection","selectedItemText","_isValueChanging","_customItemAddedHandler","_customItemCreatingAction","_createCustomItem","actionResult","isPromise","fromPromise","_setCustomItem","_wasSearchValue","_renderInputSubstitution","input","currentSearchLength","isAllSelected","selectionStart","selectionEnd","inputHasSelection","isLastSymbolSelected","_shouldSubstitutionBeRendered","DefaultAdapter","validationRequestsCallbacks","getCurrentValidationError","bypass","applyValidationResults","validationErrors","validationStatus","status","VALIDATION_STATUS_VALID","VALIDATION_STATUS_INVALID","VALIDATION_STATUS_PENDING","Callbacks","_initAdapter","_validationInfo","skipValidation","_findGroup","_getEditor","dxStandardEditor","adapter","callbacks","_toggleRTLDirection","_this$option$editor$o","_this$option$editor","_toggleAccessibilityAttributes","isInitialized","_resetValidationRules","_getValidationRules","_validationRules","currentError","currentResult","brokenRule","_applyValidationResult","then","res","pendingRules","_updateValidationResult","validatedAction"],"sourceRoot":""}